"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[805],{4777:(S,m,t)=>{t.d(m,{a:()=>L});var i=t(9579),e=t(6212),l=t(7892),r=t(61);const h={},L={setDrawerType:function R(g){h.drawerType=g},calculateDisplayElementId:function O(g){const{drawerType:u}=h,n=((0,l.i)(g)?(0,i.b)(g):e.r.state.routingKeyHistory[e.r.state.routingKeyPointer])||"",s=(0,i.g)(n),a=(0,i.d)(n),d=a-1;if(!(0,l.i)(n))return"level0";const f=(0,l.i)(n)?`level${a}-${s}`:`level${a-1}-unknown`;return"doubleDrawer"===u?""===n?`level${d}-unknown_level${a}-unknown`:`level${d}-${(0,r.g)(n)}_${f}`:f},calculateDisplayElementType:function p(g,u,n){const{drawerType:s}=h,a=(0,i.d)(g);if("doubleDrawer"===s){let d=a;return n&&(d-=1),`level${d}_${u}`}return(0,l.i)(g)?`level${a}_${u}`:`level${a-1}_${u}`},getModelName:function v(g){const u=g.link.split("/"),n=u[u.length-1];let s;return s=""===n?void 0===u[u.length-2]?"":u[u.length-2].split("-").join(" "):n.split("-").join(" "),s},getModelTargetElement:function y(g,u){if(g.includes("models"))return`level${(0,i.d)(g)}_${u.toLowerCase()}`}}},5273:(S,m,t)=>{t.d(m,{d:()=>r});var i=t(2583),e=t(2849),l=t(7892);const r=(0,i.c)({searchTerm:"",results:[],savedDealerCookie:function h(){try{return JSON.parse(e.w.getCookie(l.S))}catch{return null}}(),ppnDealers:{}});r.onChange("savedDealerCookie",R=>{e.w.setCookie(l.S,JSON.stringify(R))})},4346:(S,m,t)=>{t.d(m,{c:()=>R,g:()=>l,i:()=>r});var i=t(5861),e=t(1797);const l=()=>e.f.isOneUiToggleActive()?"default":"pds2";function r(){return h.apply(this,arguments)}function h(){return(h=(0,i.Z)(function*(){if(e.f.isOneUiToggleActive()){const{load:p}=yield t.e(398).then(t.bind(t,2398));p({prefix:"phn"})}else{const{load:p}=yield t.e(351).then(t.bind(t,6351));p({prefix:"phn"})}})).apply(this,arguments)}function R(p){return O.apply(this,arguments)}function O(){return(O=(0,i.Z)(function*(p){let v;if(e.f.isOneUiToggleActive()){const{componentsReady:y}=yield t.e(398).then(t.bind(t,2398));v=y}else{const{componentsReady:y}=yield t.e(351).then(t.bind(t,6351));v=y}yield v(p)})).apply(this,arguments)}},61:(S,m,t)=>{t.d(m,{a:()=>L,b:()=>g,c:()=>u,d:()=>O,e:()=>R,f:()=>v,g:()=>p});var i=t(1797),e=t(9579),l=t(5273),r=t(7892),h=t(3713);function R(n,s,a,d,f,c){const{dealer:o,models:C,myPorsche:_,vehiclePurchase:E,shop:D,experience:I,services:P}=n,{savedDealerCookie:A,ppnDealers:H}=s,M=null!==A?H[A.id]:void 0,U=[e.a.DEALER_SEARCH];void 0!==M&&U.push((0,e.c)(M.ppnDealer.id));const K=[{elementId:e.a.MODELS,routingKeys:[e.a.MODELS],analyticsId:C.id,text:C.text},{elementId:e.a.VEHICLE_PURCHASE,routingKeys:[e.a.VEHICLE_PURCHASE],analyticsId:E.id,text:E.text},{elementId:e.a.SERVICES,routingKeys:[e.a.SERVICES],analyticsId:P.id,text:P.text},{elementId:e.a.EXPERIENCE,routingKeys:[e.a.EXPERIENCE],analyticsId:I.id,text:I.text}],T={elementId:e.a.DEALER_SEARCH,routingKeys:U,analyticsId:o.id,text:o.text};if(null!==D&&""!==D.text){const x={elementId:e.a.SHOP,routingKeys:[e.a.SHOP],analyticsId:D.id,text:D.text,link:(0,r.i)(D.link)?D.link:void 0,datalayerEventAction:i.E.NAVIGATION_LINK_CLICK,iconRight:"external"};K.splice(2,0,x)}if(function y(n,s){try{const{country:a}=(0,i.s)(n);return"CN"!==a&&!(0,i.i)(a)&&s}catch{}return!0}(a,c)){const x=M?.ppnDealer.nameLocalized?M?.ppnDealer.nameLocalized:M?.ppnDealer.name;(0,r.i)(x)&&(T.subtext=x)}else T.link=o.search.map.link,T.onClick=void 0;if(K.push(T),null!==_){const x=(0,r.I)(d),b=x?(0,r.w)(d,_.loggedInFallback):void 0;K.push({elementId:e.a.MY_PORSCHE,routingKeys:[e.a.MY_PORSCHE],analyticsId:_.id,text:_.text,subtext:b,showIconModifier:x&&f>0})}return K}function O(n,s,a,d,f,c,o){const C=i.f.isOneUiToggleActive(),_=(0,e.f)(c);switch(_){case c:break;case e.a.MODELS:return n.models.series.map(E=>({elementId:(0,e.h)(E.id),routingKeys:[(0,e.h)(E.id)],analyticsId:E.id,text:E.name,subtext:E.tags.map(D=>D.text).join(" | "),renderSignatures:C,datalayerEventAction:i.E.MODEL_RANGE_CLICK}));case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const E=(0,e.r)(c),D=v(n,E,_);if(null!==D)return D.children.map(I=>({elementId:(0,e.e)(E,I.id),routingKeys:[(0,e.e)(E,I.id)],analyticsId:I.id,text:I.text,link:I.link}));break}}return R(n,s,a,d,f,o)}function p(n){switch((0,e.f)(n)){case n:break;case e.a.DEALER_SEARCH:return e.a.DEALER_SEARCH;case e.a.MODELS:return e.a.MODELS;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const a=(0,e.r)(n);return(0,e.g)(a)}}return e.a.MAIN_MENU}function v(n,s,a){const{vehiclePurchase:d,experience:f,shop:c,legacyMore:o,services:C}=n,_={[e.a.VEHICLE_PURCHASE]:d,[e.a.EXPERIENCE]:f,[e.a.SHOP]:c,[e.a.MORE]:o,[e.a.SERVICES]:C}[a];if(void 0===_)return null;const E=(0,e.g)(s);return E===a?_:(0,i.d)(_,E)}function L(n,s){if(!(0,r.i)(s))return"";const a=(0,e.f)(s);switch(a){case e.a.MODELS:return n.models.text;case e.a.DEALER_SEARCH:return n.dealer.details.backToSearch;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.MORE:case e.a.EXPERIENCE:{const d=v(i.n.state,s,a);if(null!==d)return d.text;break}}return""}function g(n,s,a){var d;const{dealer:f,myPorsche:c,models:o,vehiclePurchase:C,experience:_,shop:E,legacyMore:D,services:I}=n;let P;switch(a){case e.a.MORE:case e.a.SHOP:case e.a.EXPERIENCE:case e.a.SERVICES:case e.a.VEHICLE_PURCHASE:{if(P={[e.a.VEHICLE_PURCHASE]:C,[e.a.EXPERIENCE]:_,[e.a.SHOP]:E,[e.a.MORE]:D,[e.a.SERVICES]:I}[a],void 0===P)return"";const A=(0,e.g)(s);return A===a?P?.text:null===(d=(0,i.d)(P,A))||void 0===d?void 0:d.text}case e.a.SERIES:case e.a.MODELS:{const A=(0,e.g)(s);return P=o.series.find(H=>A===H.id),void 0===P?o.text:P?.id}case e.a.DEALER_SEARCH:return f.search.text;case e.a.MY_PORSCHE:return c?.text}return""}function u(n,s){const{myPorsche:a,models:d}=i.n.state,{loggedInState:f}=h.n.state;if(n===e.a.MY_PORSCHE)return(0,r.I)(f)?(0,r.w)(f,a?.loggedInFallback||""):"";if(n===e.a.DEALER_SEARCH){const{savedDealerCookie:c,ppnDealers:o}=l.d.state;return c?o[c.id].ppnDealer.name:""}if(n===e.a.MODELS&&(0,r.i)(s)){const c=(0,e.g)(s),o=d.series.find(C=>c===C.id);if(o)return o.tags.map(C=>C.text).join(" | ")}return""}},3713:(S,m,t)=>{t.d(m,{n:()=>l});var i=t(2583),e=t(7892);const l=(0,i.c)({loggedInState:e.L,unreadMessagesCount:e.D,userConsent:!1,env:(0,i.g)(e.v)})},5805:(S,m,t)=>{t.r(m),t.d(m,{phn_drawer_header:()=>c});var i=t(5861),e=t(8965),l=t(5601),r=t(1797),h=t(4777),R=t(7892),O=t(61),p=t(9579),v=t(1529),y=t(1022),L=t(4346);t(2583),t(2849),t(6212),t(5273),t(3713);const c=class{constructor(o){(0,e.r)(this,o),this.clickDrawerHeaderBack=(0,e.c)(this,"clickDrawerHeaderBack",7),this.clickDrawerHeaderClose=(0,e.c)(this,"clickDrawerHeaderClose",7),this.backButtonText="",this.backButtonAnalyticsId=void 0,this.showBackButton=!1,this.activeRoutingKey=void 0,this.breakpoint=void 0,this.receivedContent=!1,this.pdsMode=(0,L.g)(),this.showSkeleton=!0}componentWillLoad(){this.waitForComponentsToLoad()}waitForComponentsToLoad(){var o=this;return(0,i.Z)(function*(){yield(0,v.c)(o.el,new y.T(5e3)),o.showSkeleton=!o.receivedContent})()}sendDataLayerEvent(){l.g.pushDataLayerEvent(r.E.MENU_CLOSE_CLICK,{componentClick:{clickElementId:"mainmenu.drawer.close",clickElementName:"X",clickElementType:r.C.Button,targetElement:"level-0"},componentDisplay:{displayElementId:h.a.calculateDisplayElementId(),displayElementType:h.a.calculateDisplayElementType(this.activeRoutingKey,r.c.closeButton),displayElementName:"X"}})}render(){const o=(0,p.f)(this.activeRoutingKey),C=r.f.isOneUiToggleActive()&&!(0,R.l)(this.breakpoint),_=void 0!==o?(0,O.b)(r.n.state,this.activeRoutingKey,o):"",E=_.includes("mainmenu.")?_.split("mainmenu.")[1]:"",D=(0,O.c)(o,this.activeRoutingKey);return(0,e.h)("div",{class:"drawer-header"},this.showBackButton?(0,e.h)(e.F,null,(0,e.h)("phn-back-button",{class:"back-button",onClick:()=>{this.clickDrawerHeaderBack.emit()},analyticsId:this.backButtonAnalyticsId,text:C?"":this.backButtonText,activeRoutingKey:this.activeRoutingKey,style:this.showSkeleton?{display:"none"}:{}}),this.showSkeleton?(0,e.h)("div",{class:"button-skeleton"}):null):(0,e.h)("div",{class:"spacer"}),C?""===E?(0,e.h)(e.F,null,this.showSkeleton&&this.showBackButton?(0,e.h)("div",{class:"skeleton-headline"}):null,(0,e.h)("phn-heading",{text:_,style:this.showSkeleton||!(0,R.i)(_)?{display:"none"}:{},class:"heading-items",subtext:D})):(0,e.h)(e.F,null,this.showSkeleton?(0,e.h)("div",{class:"skeleton-headline"}):null,(0,e.h)("phn-signature-heading",{text:E,subtext:D})):null,(0,e.h)(e.F,null,(0,e.h)("phn-p-button-pure",{class:"close-button",icon:"close",hideLabel:"true",aria:{"aria-label":"close dialog"},size:"small",style:this.showSkeleton?{display:"none"}:{},"data-test-id":"close-button",onClick:()=>{this.sendDataLayerEvent(),this.clickDrawerHeaderClose.emit()}},"Close Dialog"),this.showSkeleton?(0,e.h)("div",{class:"button-skeleton"}):null))}get el(){return(0,e.g)(this)}};c.style={default:".sc-phn-drawer-header-default-h{display:block}.drawer-header.sc-phn-drawer-header-default{height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.heading-items.sc-phn-drawer-header-default{margin-bottom:0.25rem;-ms-flex-align:center;align-items:center}.skeleton-headline.sc-phn-drawer-header-default{width:9.375rem;height:1.5rem;background:#d8d8db;border-radius:4px}.button-skeleton.sc-phn-drawer-header-default{margin-left:0.5rem;border-radius:0.25rem;height:1.5rem;width:1.5rem;background:#d8d8db}",pds2:".sc-phn-drawer-header-pds2-h{display:block}.drawer-header.sc-phn-drawer-header-pds2{height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.heading-items.sc-phn-drawer-header-pds2{margin-bottom:0.375rem;align:center}.skeleton-headline.sc-phn-drawer-header-pds2{width:9.375rem;height:1.5rem;background:#e3e4e5;border-radius:4px}.button-skeleton.sc-phn-drawer-header-pds2{margin-left:0.5rem;border-radius:0.25rem;height:1.5rem;width:1.5rem;background:#e3e4e5}phn-p-model-signature.sc-phn-drawer-header-pds2{margin-top:0.375rem;align:center}@media (min-width: 0){phn-p-model-signature.sc-phn-drawer-header-pds2{height:1.625rem}}@media (min-width: 480px){phn-p-model-signature.sc-phn-drawer-header-pds2{height:2.25rem}}"}},6212:(S,m,t)=>{t.d(m,{r:()=>e});const e=(0,t(2583).c)({routingKeyHistory:[],routingKeyPointer:-1,initialRoutingKeyHistory:null,initialRoutingKeyPointer:null})},9579:(S,m,t)=>{t.d(m,{R:()=>l,a:()=>e,b:()=>u,c:()=>O,d:()=>g,e:()=>r,f:()=>h,g:()=>y,h:()=>R,i:()=>v,j:()=>p,r:()=>L});var i=t(7892);const e={MAIN_MENU:"mainmenu",DEALER_SEARCH:"find_a_dealer",MORE:"more",SHOP:"shop",SERIES:"series",MY_PORSCHE:"my_porsche",VEHICLE_PURCHASE:"vehicle_purchase",EXPERIENCE:"experience",SERVICES:"services",MODELS:"models"};var l=(()=>((l=l||{})[l.LEVEL_ZERO=-1]="LEVEL_ZERO",l[l.LEVEL_ONE=0]="LEVEL_ONE",l[l.LEVEL_TWO=1]="LEVEL_TWO",l))();function r(...n){return n.reduce((s,a)=>[...s,...(0,i.g)(a).split("/")],[]).filter(Boolean).join("/")}function h(n){if((0,i.i)(n))return Object.values(e).find(s=>n.startsWith(s))}function R(...n){return r(e.MODELS,...n)}function O(...n){return r(e.DEALER_SEARCH,...n)}function p(...n){return r(e.MY_PORSCHE,...n)}function v(...n){return r(e.VEHICLE_PURCHASE,...n)}function y(n){return n.split("/").slice(-1)[0]}function L(n){return n.split("/").slice(0,-1).join("/")}function g(n){switch(h(n)){case e.MAIN_MENU:return 1;case n:return 2;default:return n.split("/").length+1}}function u(n){const s=L(n);return(0,i.i)(s)?s:e.MAIN_MENU}}}]);