"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[333],{574:(A,D,r)=>{r.d(D,{a:()=>E});var o=r(376),e=r(981),g=r(62),u=r(243),h=r(477);const y={};function b(a){const{drawerType:n}=y,c=((0,u.i)(a)?(0,o.b)(a):e.r.state.routingKeyHistory[e.r.state.routingKeyPointer])||"",l=(0,o.g)(c),s=(0,o.d)(c),d=s-1;if(!(0,u.i)(c))return"level0";const t=(0,u.i)(c)?`level${s}-${l}`:`level${s-1}-unknown`;return"doubleDrawer"===n?""===c?`level${d}-unknown_level${s}-unknown`:`level${d}-${(0,h.g)(c)}_${t}`:t}function x(a,n,c){const{drawerType:l}=y,s=(0,o.d)(a);if("doubleDrawer"===l){let d=s;return c&&(d-=1),`level${d}_${n}`}return(0,u.i)(a)?`level${s}_${n}`:`level${s-1}_${n}`}function k(){return y.drawerType}const E={setDrawerType:function P(a){y.drawerType=a},getDealerResultsLoadDisplayElementId:function I(a){return"doubleDrawer"===k()?a:b()},calculateDisplayElementId:b,getDealerResultsLoadDisplayElementType:function i(){return"doubleDrawer"===k()?g.h:x("",g.f.dealerSearchForm)},calculateDisplayElementType:x,getModelName:function R(a){const n=a.link.split("/"),c=n[n.length-1];let l;return l=""===c?void 0===n[n.length-2]?"":n[n.length-2].split("-").join(" "):c.split("-").join(" "),l},getModelTargetElement:function L(a,n){if(a.includes("models"))return`level${(0,o.d)(a)}_${n.toLowerCase()}`}}},477:(A,D,r)=>{r.d(D,{a:()=>L,b:()=>k,c:()=>I,d:()=>P,e:()=>y,f:()=>x,g:()=>b});var o=r(62),e=r(376),g=r(97),u=r(243),h=r(926);function y(i,E,a,n,c,l){var s,d;const{dealer:t,models:f,myPorsche:p,vehiclePurchase:O,shop:_,experience:C,services:M}=i,{savedDealerCookie:H,ppnDealers:U}=E,{app:j}=o.n.state,m=null!==H?U[H.id]:void 0;let T;"en-SG"===a&&t.search.outboundLink&&(T=null===(s=t.search.outboundLink)||void 0===s?void 0:s.link);const K=[e.a.DEALER_SEARCH];void 0!==m&&1!=(null===(d=g.d.state.results)||void 0===d?void 0:d.length)&&K.push((0,e.c)(m.ppnDealer.id));const S=[{elementId:e.a.MODELS,routingKeys:[e.a.MODELS],analyticsId:f.id,text:f.text},{elementId:e.a.VEHICLE_PURCHASE,routingKeys:[e.a.VEHICLE_PURCHASE],analyticsId:O.id,text:O.text},{elementId:e.a.SERVICES,routingKeys:[e.a.SERVICES],analyticsId:M.id,text:M.text},{elementId:e.a.EXPERIENCE,routingKeys:[e.a.EXPERIENCE],analyticsId:C.id,text:C.text}],w={elementId:e.a.DEALER_SEARCH,routingKeys:K,analyticsId:t.id,text:t.text,link:T,iconRight:"en-SG"===a&&t.search.outboundLink?"external":"arrow-head-right"};if(null!==_&&""!==_.text&&S.splice(2,0,{elementId:e.a.SHOP,routingKeys:[e.a.SHOP],analyticsId:_.id,text:_.text,link:j!==u.A.shop?_.link:void 0,datalayerEventAction:o.E.NAVIGATION_LINK_CLICK,iconRight:"external"}),function R(i,E){try{const{country:a}=(0,o.s)(i),n=!(0,o.i)(a)&&E;return(h.f.isDealerSearchChinaEnabled()||"CN"!==a)&&n}catch{}return!0}(a,l)){const v="en"===(0,o.s)(a).language?m?.ppnDealer.name:(0,u.i)(m?.ppnDealer.nameLocalized)?m?.ppnDealer.nameLocalized:m?.ppnDealer.name;(0,u.i)(v)&&(w.subtext=v)}else w.link=t.search.map.link,w.onClick=void 0;if(S.push(w),null!==p){const v=(0,u.I)(n),B=v?(0,u.z)(n,p.loggedInFallback):void 0;S.push({elementId:e.a.MY_PORSCHE,routingKeys:[e.a.MY_PORSCHE],analyticsId:p.id,text:p.text,subtext:B,showIconModifier:v&&c>0})}return S}function P(i,E,a,n,c,l,s){const d=(0,e.f)(l);switch(d){case l:break;case e.a.MODELS:return i.models.series.map(t=>({elementId:(0,e.h)(t.id),routingKeys:[(0,e.h)(t.id)],analyticsId:t.id,text:t.name,subtext:t.tags.map(f=>f.text).join(" | "),renderSignatures:!0,datalayerEventAction:o.E.MODEL_RANGE_CLICK}));case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const t=(0,e.r)(l),f=x(i,t,d);if(null!==f)return f.children.map(p=>({elementId:(0,e.e)(t,p.id),routingKeys:[(0,e.e)(t,p.id)],analyticsId:p.id,text:p.text,link:p.link}));break}}return y(i,E,a,n,c,s)}function b(i){switch((0,e.f)(i)){case i:break;case e.a.DEALER_SEARCH:return e.a.DEALER_SEARCH;case e.a.MODELS:return e.a.MODELS;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const a=(0,e.r)(i);return(0,e.g)(a)}}return e.a.MAIN_MENU}function x(i,E,a){const{vehiclePurchase:n,experience:c,shop:l,legacyMore:s,services:d}=i,t={[e.a.VEHICLE_PURCHASE]:n,[e.a.EXPERIENCE]:c,[e.a.SHOP]:l,[e.a.MORE]:s,[e.a.SERVICES]:d}[a];if(null==t)return null;(0,u.i)(t.experienceName)&&(t.children=(0,g.a)().executeContentChange(t));const f=(0,e.g)(E);return f===a?t:(0,o.j)(t,f)}function L(i,E){if(!(0,u.i)(E))return"";const a=(0,e.f)(E);switch(a){case e.a.MODELS:return i.models.text;case e.a.DEALER_SEARCH:return 1===i.dealer.numberOfDealers?"":i.dealer.details.backToSearch;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.MORE:case e.a.EXPERIENCE:{const n=x(o.a.state,E,a);if(null!==n)return n.text;break}}return""}function k(i,E,a){var n;const{dealer:c,myPorsche:l,models:s,vehiclePurchase:d,experience:t,shop:f,legacyMore:p,services:O}=i;let _;switch(a){case e.a.MORE:case e.a.SHOP:case e.a.EXPERIENCE:case e.a.SERVICES:case e.a.VEHICLE_PURCHASE:{if(_={[e.a.VEHICLE_PURCHASE]:d,[e.a.EXPERIENCE]:t,[e.a.SHOP]:f,[e.a.MORE]:p,[e.a.SERVICES]:O}[a],void 0===_)return"";const C=(0,e.g)(E);return C===a?_?.text:null===(n=(0,o.j)(_,C))||void 0===n?void 0:n.text}case e.a.SERIES:case e.a.MODELS:{const C=(0,e.g)(E);return _=s.series.find(M=>C===M.id),void 0===_?s.text:_?.id}case e.a.DEALER_SEARCH:return c.search.text;case e.a.MY_PORSCHE:return l?.text}return""}function I(i,E,a){const{myPorsche:n,models:c}=o.a.state,{loggedInState:l}=o.n.state;if(i===e.a.MY_PORSCHE)return(0,u.I)(l)?(0,u.z)(l,n?.loggedInFallback||""):"";if(i===e.a.DEALER_SEARCH){const{savedDealerCookie:s,ppnDealers:d}=g.d.state,t=null!==s?d[s.id]:void 0,f=a&&"en"===(0,o.s)(a).language?t?.ppnDealer.name:(0,u.i)(t?.ppnDealer.nameLocalized)?t?.ppnDealer.nameLocalized:t?.ppnDealer.name;return s?f:""}if(i===e.a.MODELS&&(0,u.i)(E)){const s=(0,e.g)(E),d=c.series.find(t=>s===t.id);if(d)return d.tags.map(t=>t.text).join(" | ")}return""}},333:(A,D,r)=>{r.r(D),r.d(D,{phn_backdrop:()=>I});var o=r(510),e=r(574),g=r(802),u=r(273),h=r(62);r(376),r(243),r(981),r(477),r(97),r(926);const I=class{constructor(i){(0,o.r)(this,i),this.clickDrawerHeaderClose=(0,o.c)(this,"clickDrawerHeaderClose",7),this.backdropClosed=(0,o.c)(this,"backdropClosed",7),this.activeRoutingKey=void 0}handleClick(){this.sendDataAnalyticsEvent(),this.clickDrawerHeaderClose.emit()}sendDataAnalyticsEvent(){e.a.setDrawerType(h.e.DoubleDrawer),g.g.pushDataLayerEvent(h.E.MENU_CLOSE_CLICK,{componentClick:{clickElementId:"mainmenu.drawer.close",clickElementName:"backdrop",clickElementType:h.C.Button,targetElement:"level-0"},componentDisplay:{displayElementType:e.a.calculateDisplayElementType(this.activeRoutingKey,h.f.backdrop),displayElementId:e.a.calculateDisplayElementId(),displayElementName:"Double Drawer"}})}componentWillLoad(){u.w.hasScrollbar()&&u.w.lockScroll()}disconnectedCallback(){u.w.hasScrollbar()&&u.w.unlockScroll()}render(){return(0,o.h)(o.H,null)}get el(){return(0,o.g)(this)}};I.style="@-webkit-keyframes slideDown{from{max-height:0}to{max-height:1000px}}@keyframes slideDown{from{max-height:0}to{max-height:1000px}}@-webkit-keyframes slideUp{from{max-height:1000px}to{max-height:0}}@keyframes slideUp{from{max-height:1000px}to{max-height:0}}@-webkit-keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@-webkit-keyframes slideRight{from{max-width:1000px}to{max-width:0}}@keyframes slideRight{from{max-width:1000px}to{max-width:0}}@-webkit-keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@-webkit-keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@-webkit-keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@-webkit-keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@-webkit-keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@-webkit-keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}.phn-flex-col.sc-phn-backdrop{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.phn-flex-row.sc-phn-backdrop{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.phn-align-center.sc-phn-backdrop{-ms-flex-align:center;align-items:center}.phn-justify-around.sc-phn-backdrop{-ms-flex-pack:distribute;justify-content:space-around}.phn-justify-between.sc-phn-backdrop{-ms-flex-pack:justify;justify-content:space-between}.phn-flex-wrap.sc-phn-backdrop{-ms-flex-wrap:wrap;flex-wrap:wrap}.sc-phn-backdrop-h{position:fixed;z-index:300;top:0;left:0;right:0;bottom:0;background-color:rgba(0, 0, 0, 0.6);cursor:pointer;backdrop-filter:blur(32px);-webkit-backdrop-filter:blur(32px)}"},981:(A,D,r)=>{r.d(D,{r:()=>e});const e=(0,r(62).d)({routingKeyHistory:[],routingKeyPointer:-1,initialRoutingKeyHistory:null,initialRoutingKeyPointer:null})}}]);