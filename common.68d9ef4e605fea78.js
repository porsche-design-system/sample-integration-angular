"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[592],{3659:(A,C,n)=>{n.d(C,{a:()=>h});var s=n(7837),d=n(21),e=n(4164),i=n(1077);const E={},h={setDrawerType:function g(l){E.drawerType=l},calculateDisplayElementId:function O(l){const{drawerType:a}=E,r=((0,e.i)(l)?(0,s.b)(l):d.r.state.routingKeyHistory[d.r.state.routingKeyPointer])||"",t=(0,s.g)(r),c=(0,s.d)(r),o=c-1;if(!(0,e.i)(r))return"level0";const u=(0,e.i)(r)?`level${c}-${t}`:`level${c-1}-unknown`;return"doubleDrawer"===a?""===r?`level${o}-unknown_level${c}-unknown`:`level${o}-${(0,i.g)(r)}_${u}`:u},calculateDisplayElementType:function I(l,a){const{drawerType:r}=E,t=(0,s.d)(l);return"doubleDrawer"===r?`level${t-1}_${a}`:(0,e.i)(l)?`level${t}_${a}`:`level${t-1}_${a}`},getModelName:function _(l){const a=l.link.split("/"),r=a[a.length-1];let t;return t=""===r?void 0===a[a.length-2]?"":a[a.length-2].split("-").join(" "):r.split("-").join(" "),t},getModelTargetElement:function D(l,a){if(l.includes("models"))return`level${(0,s.d)(l)}_${a.toLowerCase()}`}}},642:(A,C,n)=>{n.d(C,{f:()=>I,g:()=>t});var s=n(5861),d=n(5928),e=n(4164),i=n(908),E=n(4554),g=n(8753);const O=new Map;function I(o,u){return _.apply(this,arguments)}function _(){return(_=(0,s.Z)(function*(o,u){var f;const p=(0,e.h)(g.f.env),S=D(p.CONTENT_URL,o),m=(0,E.i)(o,u||e.A.default)?l(p.SHOP_CONTENT_URL,o):Promise.resolve(null),[P,R]=yield Promise.allSettled([S,m]);if("rejected"===P.status)throw P.reason;const L=(0,E.r)(o,u,P.value),v="fulfilled"===R.status?R.value:null;return null===v||null===L.shop?L:Object.assign(Object.assign({},L),{shop:Object.assign(Object.assign({},L.shop),{link:"",children:v||(null===(f=L.shop)||void 0===f?void 0:f.children)||[]})})})).apply(this,arguments)}function D(o,u){return h.apply(this,arguments)}function h(){return(h=(0,s.Z)(function*(o,u){const{country:f,language:p}=(0,d.s)(u),S=(0,e.c)(o,u),m=O.get(S);if(void 0!==m)return m;const P=yield fetch(`${o}/${p}-${f}.json`,{headers:{"Cache-Control":"no-cache","Content-Type":"application/json"}});if(404===P.status)throw new i.N(`No content for locale ${u} found`,i.a.NO_RESULTS);if(!P.ok)throw new i.N(`Could not get content for locale ${u}`,i.a.GENERAL);const R=yield P.json();return O.set(S,R),R})).apply(this,arguments)}function l(o,u){return a.apply(this,arguments)}function a(){return(a=(0,s.Z)(function*(o,u){const{country:f,language:p}=(0,d.s)(u),S=yield fetch(`${o}/${f.toLowerCase()}/${p}-${f}/navigation`,{headers:{"Cache-Control":"no-cache","Content-Type":"application/json","x-vercel-protection-bypass":"hXMkVgu6erfnX2ydOdeSCixWDWbPjBUk"}});if(404===S.status)throw new i.N(`No shop content for locale ${u} found`,i.a.NO_RESULTS);if(!S.ok)throw new i.N(`Could not get shop content for locale ${u}`,i.a.GENERAL);return S.json()})).apply(this,arguments)}function r(o,u){const{country:f}=(0,d.s)(u);let p=f;return p.includes("-")&&!(0,d.i)(p)&&(p=f.split("-")[0]),`${o}/flags/${p}.svg`}function t(o,u){return c.apply(this,arguments)}function c(){return(c=(0,s.Z)(function*(o,u){try{const f=r(o,u);if((yield fetch(f)).ok)return f}catch{}return""})).apply(this,arguments)}},397:(A,C,n)=>{n.d(C,{d:()=>i});var s=n(8314),d=n(908),e=n(4164);const i=(0,s.c)({searchTerm:"",results:[],savedDealerCookie:function E(){try{return JSON.parse(d.w.getCookie(e.S))}catch{return null}}(),ppnDealers:{}});i.onChange("savedDealerCookie",g=>{d.w.setCookie(e.S,JSON.stringify(g))})},4567:(A,C,n)=>{n.d(C,{a:()=>E,g:()=>O});var s=n(5861),d=n(8314),e=n(908),i=function(_,D){var h={};for(var l in _)Object.prototype.hasOwnProperty.call(_,l)&&D.indexOf(l)<0&&(h[l]=_[l]);if(null!=_&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(l=Object.getOwnPropertySymbols(_);a<l.length;a++)D.indexOf(l[a])<0&&Object.prototype.propertyIsEnumerable.call(_,l[a])&&(h[l[a]]=_[l[a]])}return h};function E(_,D,h,l){return g.apply(this,arguments)}function g(){return(g=(0,s.Z)(function*(_,D,h,l){let a,r;try{const t=new Headers;t.set("Accept","*/*"),_===d.E.LOCAL&&t.set("Authorization","Basic "+e.w.btoa("undefined:undefined")),a=yield fetch(`${D}/${l}/dealers?coordinates=${h.latitude},${h.longitude}`,{method:"GET",headers:t})}catch{throw new e.N("Unable to fetch dealers",e.a.GENERAL)}if(400===a.status)throw new e.N("dealerService.getPPNDealers failed with invalid coordinates",e.a.GENERAL);if(404===a.status)throw new e.N("dealerService.getPPNDealers failed with invalid country code and therefore responded with no results",e.a.NO_RESULTS);if(200!==a.status)throw new e.N("dealerService.getPPNDealers failed with invalid response",e.a.GENERAL);try{r=yield a.json()}catch{throw new e.N("dealerService.getPPNDealers could not parse response into json format",e.a.GENERAL)}return r.map(t=>{var{dealer:c}=t,o=i(t,["dealer"]);return Object.assign({ppnDealer:c},o)})})).apply(this,arguments)}function O(_,D,h,l,a){return I.apply(this,arguments)}function I(){return(I=(0,s.Z)(function*(_,D,h,l,a){var r;let t;try{t=null===(r=(yield E(_,D,l,a)).find(o=>h===o.ppnDealer.id))||void 0===r?void 0:r.ppnDealer}catch{throw new e.N("Unable to fetch a dealer",e.a.GENERAL)}if(void 0===t)throw new e.N(`Requested dealer ${h} could not be found`,e.a.NO_RESULTS);return t})).apply(this,arguments)}},1077:(A,C,n)=>{n.d(C,{a:()=>h,b:()=>l,c:()=>a,d:()=>O,e:()=>g,f:()=>_,g:()=>I});var s=n(4047),d=n(5928),e=n(7837),i=n(4164),E=n(4766);function g(r,t,c,o,u,f){const{dealer:p,models:S,myPorsche:m,vehiclePurchase:P,shop:R,experience:L,services:v}=r,{savedDealerCookie:y,ppnDealers:x}=t,M=null!==y?x[y.id]:void 0,U=[e.a.DEALER_SEARCH];void 0!==M&&U.push((0,e.c)(M.id));const N=[{elementId:e.a.MODELS,routingKeys:[e.a.MODELS],analyticsId:S.id,text:S.text},{elementId:e.a.VEHICLE_PURCHASE,routingKeys:[e.a.VEHICLE_PURCHASE],analyticsId:P.id,text:P.text},{elementId:e.a.SERVICES,routingKeys:[e.a.SERVICES],analyticsId:v.id,text:v.text},{elementId:e.a.EXPERIENCE,routingKeys:[e.a.EXPERIENCE],analyticsId:L.id,text:L.text}],T={elementId:e.a.DEALER_SEARCH,routingKeys:U,analyticsId:p.id,text:p.text};if(null!==R&&""!==R.text){const w={elementId:e.a.SHOP,routingKeys:[e.a.SHOP],analyticsId:R.id,text:R.text,link:(0,i.i)(R.link)?R.link:void 0,datalayerEventAction:d.E.NAVIGATION_LINK_CLICK,iconRight:"external"};N.splice(2,0,w)}if(function D(r,t){try{const{country:c}=(0,d.s)(r);return"CN"!==c&&!(0,d.i)(c)&&t}catch{}return!0}(c,f)){const w=M?.name;(0,i.i)(w)&&(T.subtext=w)}else T.link=p.search.map.link,T.onClick=void 0;if(N.push(T),null!==m){const w=(0,i.I)(o),j=w?(0,i.w)(o,m.loggedInFallback):void 0;N.push({elementId:e.a.MY_PORSCHE,routingKeys:[e.a.MY_PORSCHE],analyticsId:m.id,text:m.text,subtext:j,showIconModifier:w&&u>0})}return N}function O(r,t,c,o,u,f,p){const S=(0,e.f)(f);switch(S){case f:break;case e.a.MODELS:return r.models.series.map(m=>({elementId:(0,e.h)(m.id),routingKeys:[(0,e.h)(m.id)],analyticsId:m.id,text:m.name,subtext:m.tags.map(P=>P.text).join(" | "),datalayerEventAction:d.E.MODEL_RANGE_CLICK}));case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const m=(0,e.r)(f),P=_(r,m,S);if(null!==P)return P.children.map(R=>({elementId:(0,e.e)(m,R.id),routingKeys:[(0,e.e)(m,R.id)],analyticsId:R.id,text:R.text,link:R.link}));break}}return g(r,t,c,o,u,p)}function I(r){switch((0,e.f)(r)){case r:break;case e.a.DEALER_SEARCH:return e.a.DEALER_SEARCH;case e.a.MODELS:return e.a.MODELS;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const c=(0,e.r)(r);return(0,e.g)(c)}}return e.a.MAIN_MENU}function _(r,t,c){const{vehiclePurchase:o,experience:u,shop:f,legacyMore:p,services:S}=r,m={[e.a.VEHICLE_PURCHASE]:o,[e.a.EXPERIENCE]:u,[e.a.SHOP]:f,[e.a.MORE]:p,[e.a.SERVICES]:S}[c];if(void 0===m)return null;const P=(0,e.g)(t);return P===c?m:(0,s.f)(m,P)}function h(r,t){if(!(0,i.i)(t))return"";const c=(0,e.f)(t);switch(c){case e.a.MODELS:return r.models.text;case e.a.DEALER_SEARCH:return r.dealer.details.backToSearch;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.MORE:case e.a.EXPERIENCE:{const o=_(s.n.state,t,c);if(null!==o)return o.text;break}}return""}function l(r,t,c){var o;const{dealer:u,myPorsche:f,models:p,vehiclePurchase:S,experience:m,shop:P,legacyMore:R,services:L}=r;let v;switch(c){case e.a.MORE:case e.a.SHOP:case e.a.EXPERIENCE:case e.a.SERVICES:case e.a.VEHICLE_PURCHASE:{if(v={[e.a.VEHICLE_PURCHASE]:S,[e.a.EXPERIENCE]:m,[e.a.SHOP]:P,[e.a.MORE]:R,[e.a.SERVICES]:L}[c],void 0===v)return"";const y=(0,e.g)(t);return y===c?v?.text:null===(o=(0,s.f)(v,y))||void 0===o?void 0:o.text}case e.a.SERIES:case e.a.MODELS:{const y=(0,e.g)(t);return v=p.series.find(x=>y===x.id),void 0===v?p.text:v?.id}case e.a.DEALER_SEARCH:return u.search.text;case e.a.MY_PORSCHE:return f?.text}return""}function a(r){const{myPorsche:t}=s.n.state,{loggedInState:c}=E.n.state;return r===e.a.MY_PORSCHE&&(0,i.I)(c)?(0,i.w)(c,t?.loggedInFallback||""):""}},6874:(A,C,n)=>{n.d(C,{g:()=>i,i:()=>e});var s=n(8753),d=n(4164);function e(E,g){return s.f.isPcomSearchToggleActive()&&["de-DE","en-US","en-CN","zh-CN"].includes(E)&&g===d.A.pcom}function i(E){switch(E){case"de-DE":return"https://www.porsche.com/germany/search/";case"en-US":return"https://www.porsche.com/usa/search/";case"en-CN":return"https://www.porsche.com/china/en/search/";case"zh-CN":return"https://www.porsche.com/china/zh/search/";default:return""}}},46:(A,C,n)=>{n.d(C,{c:()=>e});var s=n(5861),d=n(908);function e(E,g){return i.apply(this,arguments)}function i(){return i=(0,s.Z)(function*(E,g,...O){if(null===E)return null;const I=function(){var h=(0,s.Z)(function*(l){const a=yield d.w.waitForElement(E,l);return"function"==typeof a?.componentOnReady&&(yield a.componentOnReady()),a});return function(a){return h.apply(this,arguments)}}(),_=O.length>0?O.map(I):[I()],D=new Promise(h=>g.set((0,s.Z)(function*(){return h(null)})));return Promise.race([Promise.all(_),D])}),i.apply(this,arguments)}},4554:(A,C,n)=>{n.d(C,{i:()=>e,r:()=>i});var s=n(8753),d=n(4164);function e(E,g){return s.f.isOneUiToggleActive()&&s.f.isShopToggleActive()&&["de-CH","fr-CH","it-CH","de-DE","en-FI","en-GB","en-IE","en-SK","en-US","es-ES","fr-FR","sv-SE"].includes(E)&&g===d.A.shop}function i(E,g,O){return["sv-SE"].includes(E)&&g!==d.A.shop?Object.assign(Object.assign({},O),{shop:{id:"",link:"",text:"",children:[]}}):O}},5377:(A,C,n)=>{n.d(C,{a:()=>E,b:()=>g,c:()=>O,i:()=>I,r:()=>i});var s=n(9204),d=n(8753),e=n(2391);const i=({onAnimationEnds:_})=>{const h=[[{elementSelector:"phn-single-drawer .drawer.animating",animation:{name:d.f.isOneUiToggleActive()?"slideInFromLeftFixed":"slideInFromRightFixed",duration:500,cleanUpAfterAnimation:!0}},{elementSelector:"phn-backdrop",animation:{name:"fadeIn",duration:500,to:.8},onEnd:_}]];s.a.register(e.A.OPEN_SINGLE_DRAWER,(0,s.m)(h))},E=({onAnimationEnds:_})=>{const h=[[{elementSelector:"phn-single-drawer .drawer.animating",animation:{name:d.f.isOneUiToggleActive()?"slideOutToLeftFixed":"slideOutToRightFixed",duration:500,timingFunction:"easeInOutQuad"}},{elementSelector:"phn-backdrop",animation:{name:"fadeOut",duration:500,from:.8},onEnd:_}]];s.a.register(e.A.CLOSE_SINGLE_DRAWER,(0,s.m)(h))},g=({onAnimationEnds:_})=>{s.a.register(e.A.TRANSITION_NEXT_LEVEL_SINGLE_DRAWER,(0,s.m)([[{elementSelector:"phn-single-drawer .drawer.animating",animation:{name:"slideInFromRightFixed",duration:500,timingFunction:"easeInOutQuad"},onEnd:_}]]))},O=({onAnimationEnds:_})=>{s.a.register(e.A.TRANSITION_PREVIOUS_LEVEL_SINGLE_DRAWER,(0,s.m)([[{elementSelector:"phn-single-drawer .drawer.animating",animation:{name:"slideOutToRightFixed",duration:500,timingFunction:"easeInOutQuad"},onEnd:_}]]))},I=()=>{try{return[e.A.OPEN_SINGLE_DRAWER,e.A.CLOSE_SINGLE_DRAWER,e.A.TRANSITION_NEXT_LEVEL_SINGLE_DRAWER,e.A.TRANSITION_PREVIOUS_LEVEL_SINGLE_DRAWER].some(D=>{try{return s.a.isPlaying(D)}catch{return!1}})}catch{return!1}}},1836:(A,C,n)=>{n.d(C,{T:()=>d});var s=n(5861);class d{constructor(i){this.delay=i,this.timer=null}set(i){var E=this;this.cancel(),this.timer=setTimeout((0,s.Z)(function*(){yield i(),E.cancel()}),this.delay)}cancel(){null!==this.timer&&(clearTimeout(this.timer),"function"==typeof this.timer.unref&&this.timer.unref(),this.timer=null)}}}}]);