"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[805],{574:(A,g,r)=>{r.d(g,{a:()=>u});var c=r(376),e=r(981),y=r(62),E=r(243),k=r(477);const p={};function I(n){const{drawerType:a}=p,l=((0,E.i)(n)?(0,c.b)(n):e.r.state.routingKeyHistory[e.r.state.routingKeyPointer])||"",i=(0,c.g)(l),s=(0,c.d)(l),d=s-1;if(!(0,E.i)(l))return"level0";const t=(0,E.i)(l)?`level${s}-${i}`:`level${s-1}-unknown`;return"doubleDrawer"===a?""===l?`level${d}-unknown_level${s}-unknown`:`level${d}-${(0,k.g)(l)}_${t}`:t}function D(n,a,l){const{drawerType:i}=p,s=(0,c.d)(n);if("doubleDrawer"===i){let d=s;return l&&(d-=1),`level${d}_${a}`}return(0,E.i)(n)?`level${s}_${a}`:`level${s-1}_${a}`}function w(){return p.drawerType}const u={setDrawerType:function C(n){p.drawerType=n},getDealerResultsLoadDisplayElementId:function P(n){return"doubleDrawer"===w()?n:I()},calculateDisplayElementId:I,getDealerResultsLoadDisplayElementType:function o(){return"doubleDrawer"===w()?y.h:D("",y.f.dealerSearchForm)},calculateDisplayElementType:D,getModelName:function b(n){const a=n.link.split("/"),l=a[a.length-1];let i;return i=""===l?void 0===a[a.length-2]?"":a[a.length-2].split("-").join(" "):l.split("-").join(" "),i},getModelTargetElement:function R(n,a){if(n.includes("models"))return`level${(0,c.d)(n)}_${a.toLowerCase()}`}}},477:(A,g,r)=>{r.d(g,{a:()=>R,b:()=>w,c:()=>P,d:()=>C,e:()=>p,f:()=>D,g:()=>I});var c=r(62),e=r(376),y=r(97),E=r(243),k=r(926);function p(o,u,n,a,l,i){var s,d;const{dealer:t,models:h,myPorsche:f,vehiclePurchase:L,shop:_,experience:x,services:O}=o,{savedDealerCookie:T,ppnDealers:B}=u,{app:j}=c.n.state,m=null!==T?B[T.id]:void 0;let H;"en-SG"===n&&t.search.outboundLink&&(H=null===(s=t.search.outboundLink)||void 0===s?void 0:s.link);const K=[e.a.DEALER_SEARCH];void 0!==m&&1!=(null===(d=y.d.state.results)||void 0===d?void 0:d.length)&&K.push((0,e.c)(m.ppnDealer.id));const M=[{elementId:e.a.MODELS,routingKeys:[e.a.MODELS],analyticsId:h.id,text:h.text},{elementId:e.a.VEHICLE_PURCHASE,routingKeys:[e.a.VEHICLE_PURCHASE],analyticsId:L.id,text:L.text},{elementId:e.a.SERVICES,routingKeys:[e.a.SERVICES],analyticsId:O.id,text:O.text},{elementId:e.a.EXPERIENCE,routingKeys:[e.a.EXPERIENCE],analyticsId:x.id,text:x.text}],S={elementId:e.a.DEALER_SEARCH,routingKeys:K,analyticsId:t.id,text:t.text,link:H,iconRight:"en-SG"===n&&t.search.outboundLink?"external":"arrow-head-right"};if(null!==_&&""!==_.text&&M.splice(2,0,{elementId:e.a.SHOP,routingKeys:[e.a.SHOP],analyticsId:_.id,text:_.text,link:j!==E.A.shop?_.link:void 0,datalayerEventAction:c.E.NAVIGATION_LINK_CLICK,iconRight:"external"}),function b(o,u){try{const{country:n}=(0,c.s)(o),a=!(0,c.i)(n)&&u;return(k.f.isDealerSearchChinaEnabled()||"CN"!==n)&&a}catch{}return!0}(n,i)){const v="en"===(0,c.s)(n).language?m?.ppnDealer.name:(0,E.i)(m?.ppnDealer.nameLocalized)?m?.ppnDealer.nameLocalized:m?.ppnDealer.name;(0,E.i)(v)&&(S.subtext=v)}else S.link=t.search.map.link,S.onClick=void 0;if(M.push(S),null!==f){const v=(0,E.I)(a),U=v?(0,E.z)(a,f.loggedInFallback):void 0;M.push({elementId:e.a.MY_PORSCHE,routingKeys:[e.a.MY_PORSCHE],analyticsId:f.id,text:f.text,subtext:U,showIconModifier:v&&l>0})}return M}function C(o,u,n,a,l,i,s){const d=(0,e.f)(i);switch(d){case i:break;case e.a.MODELS:return o.models.series.map(t=>({elementId:(0,e.h)(t.id),routingKeys:[(0,e.h)(t.id)],analyticsId:t.id,text:t.name,subtext:t.tags.map(h=>h.text).join(" | "),renderSignatures:!0,datalayerEventAction:c.E.MODEL_RANGE_CLICK}));case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const t=(0,e.r)(i),h=D(o,t,d);if(null!==h)return h.children.map(f=>({elementId:(0,e.e)(t,f.id),routingKeys:[(0,e.e)(t,f.id)],analyticsId:f.id,text:f.text,link:f.link}));break}}return p(o,u,n,a,l,s)}function I(o){switch((0,e.f)(o)){case o:break;case e.a.DEALER_SEARCH:return e.a.DEALER_SEARCH;case e.a.MODELS:return e.a.MODELS;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const n=(0,e.r)(o);return(0,e.g)(n)}}return e.a.MAIN_MENU}function D(o,u,n){const{vehiclePurchase:a,experience:l,shop:i,legacyMore:s,services:d}=o,t={[e.a.VEHICLE_PURCHASE]:a,[e.a.EXPERIENCE]:l,[e.a.SHOP]:i,[e.a.MORE]:s,[e.a.SERVICES]:d}[n];if(null==t)return null;(0,E.i)(t.experienceName)&&(t.children=(0,y.a)().executeContentChange(t));const h=(0,e.g)(u);return h===n?t:(0,c.j)(t,h)}function R(o,u){if(!(0,E.i)(u))return"";const n=(0,e.f)(u);switch(n){case e.a.MODELS:return o.models.text;case e.a.DEALER_SEARCH:return 1===o.dealer.numberOfDealers?"":o.dealer.details.backToSearch;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.MORE:case e.a.EXPERIENCE:{const a=D(c.a.state,u,n);if(null!==a)return a.text;break}}return""}function w(o,u,n){var a;const{dealer:l,myPorsche:i,models:s,vehiclePurchase:d,experience:t,shop:h,legacyMore:f,services:L}=o;let _;switch(n){case e.a.MORE:case e.a.SHOP:case e.a.EXPERIENCE:case e.a.SERVICES:case e.a.VEHICLE_PURCHASE:{if(_={[e.a.VEHICLE_PURCHASE]:d,[e.a.EXPERIENCE]:t,[e.a.SHOP]:h,[e.a.MORE]:f,[e.a.SERVICES]:L}[n],void 0===_)return"";const x=(0,e.g)(u);return x===n?_?.text:null===(a=(0,c.j)(_,x))||void 0===a?void 0:a.text}case e.a.SERIES:case e.a.MODELS:{const x=(0,e.g)(u);return _=s.series.find(O=>x===O.id),void 0===_?s.text:_?.id}case e.a.DEALER_SEARCH:return l.search.text;case e.a.MY_PORSCHE:return i?.text}return""}function P(o,u,n){const{myPorsche:a,models:l}=c.a.state,{loggedInState:i}=c.n.state;if(o===e.a.MY_PORSCHE)return(0,E.I)(i)?(0,E.z)(i,a?.loggedInFallback||""):"";if(o===e.a.DEALER_SEARCH){const{savedDealerCookie:s,ppnDealers:d}=y.d.state,t=null!==s?d[s.id]:void 0,h=n&&"en"===(0,c.s)(n).language?t?.ppnDealer.name:(0,E.i)(t?.ppnDealer.nameLocalized)?t?.ppnDealer.nameLocalized:t?.ppnDealer.name;return s?h:""}if(o===e.a.MODELS&&(0,E.i)(u)){const s=(0,e.g)(u),d=l.series.find(t=>s===t.id);if(d)return d.tags.map(t=>t.text).join(" | ")}return""}},805:(A,g,r)=>{r.r(g),r.d(g,{phn_drawer_header:()=>n});var c=r(861),e=r(510),y=r(802),E=r(62),k=r(574),p=r(243),C=r(477),I=r(376),D=r(448),b=r(564);r(981),r(97),r(273),r(926);const n=class{constructor(a){(0,e.r)(this,a),this.clickDrawerHeaderBack=(0,e.c)(this,"clickDrawerHeaderBack",7),this.clickDrawerHeaderClose=(0,e.c)(this,"clickDrawerHeaderClose",7),this.backButtonText="",this.backButtonAnalyticsId=void 0,this.showBackButton=!1,this.activeRoutingKey=void 0,this.breakpoint=void 0,this.receivedContent=!1,this.locale=void 0,this.showSkeleton=!0}componentWillLoad(){this.waitForComponentsToLoad()}waitForComponentsToLoad(){var a=this;return(0,c.Z)(function*(){yield(0,D.c)(a.el,new b.T(5e3)),a.showSkeleton=!a.receivedContent})()}sendDataLayerEvent(){y.g.pushDataLayerEvent(E.E.MENU_CLOSE_CLICK,{componentClick:{clickElementId:"mainmenu.drawer.close",clickElementName:"X",clickElementType:E.C.Button,targetElement:"level-0"},componentDisplay:{displayElementId:k.a.calculateDisplayElementId(),displayElementType:k.a.calculateDisplayElementType(this.activeRoutingKey,E.f.closeButton),displayElementName:"X"}})}render(){const a=(0,I.f)(this.activeRoutingKey),l=!(0,p.n)(this.breakpoint),i=void 0!==a?(0,C.b)(E.a.state,this.activeRoutingKey,a):"",s=i.includes("mainmenu.")?i.split("mainmenu.")[1]:"",d=(0,C.c)(a,this.activeRoutingKey,this.locale);return(0,e.h)("div",{class:"drawer-header"},this.showBackButton?(0,e.h)(e.F,null,(0,e.h)("phn-back-button",{class:"back-button",onClick:()=>{this.clickDrawerHeaderBack.emit()},analyticsId:this.backButtonAnalyticsId,text:l?"":this.backButtonText,activeRoutingKey:this.activeRoutingKey,style:this.showSkeleton?{display:"none"}:{}}),this.showSkeleton?(0,e.h)("div",{class:"button-skeleton"}):null):(0,e.h)("div",{class:"spacer"}),l?""===s?(0,e.h)(e.F,null,this.showSkeleton&&this.showBackButton?(0,e.h)("div",{class:"skeleton-headline"}):null,(0,e.h)("phn-heading",{text:i,style:this.showSkeleton||!(0,p.i)(i)?{display:"none"}:{},class:"heading-items",subtext:d})):(0,e.h)(e.F,null,this.showSkeleton?(0,e.h)("div",{class:"skeleton-headline"}):null,(0,e.h)("phn-signature-heading",{text:s,subtext:d})):null,(0,e.h)(e.F,null,(0,e.h)("phn-p-button-pure",{class:"close-button",icon:"close",hideLabel:"true",aria:{"aria-label":"close dialog"},size:"small",style:this.showSkeleton?{display:"none"}:{},"data-test-id":"close-button",onClick:()=>{this.sendDataLayerEvent(),this.clickDrawerHeaderClose.emit()}},"Close Dialog"),this.showSkeleton?(0,e.h)("div",{class:"button-skeleton"}):null))}get el(){return(0,e.g)(this)}};n.style="@-webkit-keyframes slideDown{from{max-height:0}to{max-height:1000px}}@keyframes slideDown{from{max-height:0}to{max-height:1000px}}@-webkit-keyframes slideUp{from{max-height:1000px}to{max-height:0}}@keyframes slideUp{from{max-height:1000px}to{max-height:0}}@-webkit-keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@-webkit-keyframes slideRight{from{max-width:1000px}to{max-width:0}}@keyframes slideRight{from{max-width:1000px}to{max-width:0}}@-webkit-keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@-webkit-keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@-webkit-keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@-webkit-keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@-webkit-keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@-webkit-keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}.phn-flex-col.sc-phn-drawer-header{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.phn-flex-row.sc-phn-drawer-header{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.phn-align-center.sc-phn-drawer-header{-ms-flex-align:center;align-items:center}.phn-justify-around.sc-phn-drawer-header{-ms-flex-pack:distribute;justify-content:space-around}.phn-justify-between.sc-phn-drawer-header{-ms-flex-pack:justify;justify-content:space-between}.phn-flex-wrap.sc-phn-drawer-header{-ms-flex-wrap:wrap;flex-wrap:wrap}.sc-phn-drawer-header-h{display:block}.drawer-header.sc-phn-drawer-header{height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.heading-items.sc-phn-drawer-header{margin-bottom:0.25rem;-ms-flex-align:center;align-items:center}.skeleton-headline.sc-phn-drawer-header{width:9.375rem;height:1.5rem;background:#d8d8db;border-radius:4px}.button-skeleton.sc-phn-drawer-header{margin-left:0.5rem;border-radius:0.25rem;height:1.5rem;width:1.5rem;background:#d8d8db}"},981:(A,g,r)=>{r.d(g,{r:()=>e});const e=(0,r(62).d)({routingKeyHistory:[],routingKeyPointer:-1,initialRoutingKeyHistory:null,initialRoutingKeyPointer:null})}}]);