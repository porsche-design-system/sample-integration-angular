"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[805],{492:(A,g,i)=>{i.d(g,{a:()=>d});var c=i(598),e=i(554),y=i(195),m=i(681),x=i(685);const p={};function v(t){const{drawerType:n}=p,s=((0,m.i)(t)?(0,c.b)(t):e.r.state.routingKeyHistory[e.r.state.routingKeyPointer])||"",l=(0,c.g)(s),r=(0,c.d)(s),u=r-1;if(!(0,m.i)(s))return"level0";const a=(0,m.i)(s)?`level${r}-${l}`:`level${r-1}-unknown`;return"doubleDrawer"===n?""===s?`level${u}-unknown_level${r}-unknown`:`level${u}-${(0,x.g)(s)}_${a}`:a}function k(t,n,s){const{drawerType:l}=p,r=(0,c.d)(t);if("doubleDrawer"===l){let u=r;return s&&(u-=1),`level${u}_${n}`}return(0,m.i)(t)?`level${r}_${n}`:`level${r-1}_${n}`}function I(){return p.drawerType}const d={setDrawerType:function b(t){p.drawerType=t},getDealerResultsLoadDisplayElementId:function L(t){return"doubleDrawer"===I()?t:v()},calculateDisplayElementId:v,getDealerResultsLoadDisplayElementType:function o(){return"doubleDrawer"===I()?y.j:k("",y.h.dealerSearchForm)},calculateDisplayElementType:k,getModelName:function C(t){const n=t.link.split("/"),s=n[n.length-1];let l;return l=""===s?void 0===n[n.length-2]?"":n[n.length-2].split("-").join(" "):s.split("-").join(" "),l},getModelTargetElement:function R(t,n){if(t.includes("models"))return`level${(0,c.d)(t)}_${n.toLowerCase()}`}}},685:(A,g,i)=>{i.d(g,{a:()=>R,b:()=>I,c:()=>L,d:()=>b,e:()=>p,f:()=>k,g:()=>v});var c=i(195),e=i(598),y=i(499),m=i(681),x=i(250);function p(o,d,t,n,s,l){var r,u;const{dealer:a,models:h,myPorsche:_,vehiclePurchase:P,shop:f,experience:D,services:O}=o,{savedDealerCookie:T,ppnDealers:B}=d,{app:U}=c.n.state,E=null!==T?B[T.id]:void 0;let H;"en-SG"===t&&a.search.outboundLink&&(H=null===(r=a.search.outboundLink)||void 0===r?void 0:r.link);const K=[e.a.DEALER_SEARCH];void 0!==E&&1!=(null===(u=y.d.state.results)||void 0===u?void 0:u.length)&&K.push((0,e.c)(E.ppnDealer.id));const M=[{elementId:e.a.MODELS,routingKeys:[e.a.MODELS],analyticsId:h.id,text:h.text},{elementId:e.a.VEHICLE_PURCHASE,routingKeys:[e.a.VEHICLE_PURCHASE],analyticsId:P.id,text:P.text},{elementId:e.a.SERVICES,routingKeys:[e.a.SERVICES],analyticsId:O.id,text:O.text},{elementId:e.a.EXPERIENCE,routingKeys:[e.a.EXPERIENCE],analyticsId:D.id,text:D.text}],S={elementId:e.a.DEALER_SEARCH,routingKeys:K,analyticsId:a.id,text:a.text,link:H,iconRight:"en-SG"===t&&a.search.outboundLink?"external":"arrow-head-right"};if(null!==f&&""!==f.text&&M.splice(2,0,{elementId:e.a.SHOP,routingKeys:[e.a.SHOP],analyticsId:f.id,text:f.text,link:U!==m.A.shop?f.link:void 0,datalayerEventAction:c.E.NAVIGATION_LINK_CLICK,iconRight:"external"}),function C(o,d){try{const{country:t}=(0,c.s)(o),n=!(0,c.i)(t)&&d;return(x.f.isDealerSearchChinaEnabled()||"CN"!==t)&&n}catch{}return!0}(t,l)){const w="en"===(0,c.s)(t).language?E?.ppnDealer.name:(0,m.i)(E?.ppnDealer.nameLocalized)?E?.ppnDealer.nameLocalized:E?.ppnDealer.name;(0,m.i)(w)&&(S.subtext=w)}else S.link=a.search.map.link,S.onClick=void 0;if(M.push(S),null!==_){const w=(0,m.I)(n),j=w?(0,m.x)(n,_.loggedInFallback):void 0;M.push({elementId:e.a.MY_PORSCHE,routingKeys:[e.a.MY_PORSCHE],analyticsId:_.id,text:_.text,subtext:j,showIconModifier:w&&s>0})}return M}function b(o,d,t,n,s,l,r){const u=(0,e.f)(l);switch(u){case l:break;case e.a.MODELS:return o.models.series.map(a=>({elementId:(0,e.h)(a.id),routingKeys:[(0,e.h)(a.id)],analyticsId:a.id,text:a.name,subtext:a.tags.map(h=>h.text).join(" | "),renderSignatures:!0,datalayerEventAction:c.E.MODEL_RANGE_CLICK}));case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const a=(0,e.r)(l),h=k(o,a,u);if(null!==h)return h.children.map(_=>({elementId:(0,e.e)(a,_.id),routingKeys:[(0,e.e)(a,_.id)],analyticsId:_.id,text:_.text,link:_.link}));break}}return p(o,d,t,n,s,r)}function v(o){switch((0,e.f)(o)){case o:break;case e.a.DEALER_SEARCH:return e.a.DEALER_SEARCH;case e.a.MODELS:return e.a.MODELS;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const t=(0,e.r)(o);return(0,e.g)(t)}}return e.a.MAIN_MENU}function k(o,d,t){const{vehiclePurchase:n,experience:s,shop:l,legacyMore:r,services:u}=o,a={[e.a.VEHICLE_PURCHASE]:n,[e.a.EXPERIENCE]:s,[e.a.SHOP]:l,[e.a.MORE]:r,[e.a.SERVICES]:u}[t];if(null==a)return null;(0,m.i)(a.experienceName)&&(a.children=(0,y.a)().executeContentChange(a));const h=(0,e.g)(d);return h===t?a:(0,c.k)(a,h)}function R(o,d){if(!(0,m.i)(d))return"";const t=(0,e.f)(d);switch(t){case e.a.MODELS:return o.models.text;case e.a.DEALER_SEARCH:return 1===o.dealer.numberOfDealers?"":o.dealer.details.backToSearch;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.MORE:case e.a.EXPERIENCE:{const n=k(c.b.state,d,t);if(null!==n)return n.text;break}}return""}function I(o,d,t){var n;const{dealer:s,myPorsche:l,models:r,vehiclePurchase:u,experience:a,shop:h,legacyMore:_,services:P}=o;let f;switch(t){case e.a.MORE:case e.a.SHOP:case e.a.EXPERIENCE:case e.a.SERVICES:case e.a.VEHICLE_PURCHASE:{if(f={[e.a.VEHICLE_PURCHASE]:u,[e.a.EXPERIENCE]:a,[e.a.SHOP]:h,[e.a.MORE]:_,[e.a.SERVICES]:P}[t],void 0===f)return"";const D=(0,e.g)(d);return D===t?f?.text:null===(n=(0,c.k)(f,D))||void 0===n?void 0:n.text}case e.a.SERIES:case e.a.MODELS:{const D=(0,e.g)(d);return f=r.series.find(O=>D===O.id),void 0===f?r.text:f?.id}case e.a.DEALER_SEARCH:return s.search.text;case e.a.MY_PORSCHE:return l?.text}return""}function L(o,d,t){const{myPorsche:n,models:s}=c.b.state,{loggedInState:l}=c.n.state;if(o===e.a.MY_PORSCHE)return(0,m.I)(l)?(0,m.x)(l,n?.loggedInFallback||""):"";if(o===e.a.DEALER_SEARCH){const{savedDealerCookie:r,ppnDealers:u}=y.d.state,a=null!==r?u[r.id]:void 0,h=t&&"en"===(0,c.s)(t).language?a?.ppnDealer.name:(0,m.i)(a?.ppnDealer.nameLocalized)?a?.ppnDealer.nameLocalized:a?.ppnDealer.name;return r?h:""}if(o===e.a.MODELS&&(0,m.i)(d)){const r=(0,e.g)(d),u=s.series.find(a=>r===a.id);if(u)return u.tags.map(a=>a.text).join(" | ")}return""}},805:(A,g,i)=>{i.r(g),i.d(g,{phn_drawer_header:()=>d});var c=i(861),e=i(702),y=i(974),m=i(195),x=i(492),p=i(681),b=i(685),v=i(598),k=i(372),C=i(564);i(554),i(499),i(250);const d=class{constructor(t){(0,e.r)(this,t),this.clickDrawerHeaderBack=(0,e.c)(this,"clickDrawerHeaderBack",7),this.clickDrawerHeaderClose=(0,e.c)(this,"clickDrawerHeaderClose",7),this.backButtonText="",this.backButtonAnalyticsId=void 0,this.showBackButton=!1,this.activeRoutingKey=void 0,this.breakpoint=void 0,this.receivedContent=!1,this.locale=void 0,this.showSkeleton=!0}componentWillLoad(){this.waitForComponentsToLoad()}waitForComponentsToLoad(){var t=this;return(0,c.Z)(function*(){yield(0,k.c)(t.el,new C.T(5e3)),t.showSkeleton=!t.receivedContent})()}sendDataLayerEvent(){y.g.pushDataLayerEvent(m.E.MENU_CLOSE_CLICK,{componentClick:{clickElementId:"mainmenu.drawer.close",clickElementName:"X",clickElementType:m.C.Button,targetElement:"level-0"},componentDisplay:{displayElementId:x.a.calculateDisplayElementId(),displayElementType:x.a.calculateDisplayElementType(this.activeRoutingKey,m.h.closeButton),displayElementName:"X"}})}render(){const t=(0,v.f)(this.activeRoutingKey),n=!(0,p.l)(this.breakpoint),s=void 0!==t?(0,b.b)(m.b.state,this.activeRoutingKey,t):"",l=s.includes("mainmenu.")?s.split("mainmenu.")[1]:"",r=(0,b.c)(t,this.activeRoutingKey,this.locale);return(0,e.h)("div",{class:"drawer-header"},this.showBackButton?(0,e.h)(e.F,null,(0,e.h)("phn-back-button",{class:"back-button",onClick:()=>{this.clickDrawerHeaderBack.emit()},analyticsId:this.backButtonAnalyticsId,text:n?"":this.backButtonText,activeRoutingKey:this.activeRoutingKey,style:this.showSkeleton?{display:"none"}:{}}),this.showSkeleton?(0,e.h)("div",{class:"button-skeleton"}):null):(0,e.h)("div",{class:"spacer"}),n?""===l?(0,e.h)(e.F,null,this.showSkeleton&&this.showBackButton?(0,e.h)("div",{class:"skeleton-headline"}):null,(0,e.h)("phn-heading",{text:s,style:this.showSkeleton||!(0,p.i)(s)?{display:"none"}:{},class:"heading-items",subtext:r})):(0,e.h)(e.F,null,this.showSkeleton?(0,e.h)("div",{class:"skeleton-headline"}):null,(0,e.h)("phn-signature-heading",{text:l,subtext:r})):null,(0,e.h)(e.F,null,(0,e.h)("phn-p-button-pure",{class:"close-button",icon:"close",hideLabel:"true",aria:{"aria-label":"close dialog"},size:"small",style:this.showSkeleton?{display:"none"}:{},"data-test-id":"close-button",onClick:()=>{this.sendDataLayerEvent(),this.clickDrawerHeaderClose.emit()}},"Close Dialog"),this.showSkeleton?(0,e.h)("div",{class:"button-skeleton"}):null))}get el(){return(0,e.g)(this)}};d.style="@-webkit-keyframes transition-forward-in-animation{from{left:150%}to{left:0%}}@keyframes transition-forward-in-animation{from{left:150%}to{left:0%}}@-webkit-keyframes transition-backward-in-animation{from{left:-150%}to{left:0%}}@keyframes transition-backward-in-animation{from{left:-150%}to{left:0%}}@-webkit-keyframes single-drawer-transition-forward-in-animation{from{left:100%}to{left:0%}}@keyframes single-drawer-transition-forward-in-animation{from{left:100%}to{left:0%}}@-webkit-keyframes fade-in-animation{from{opacity:0;background-color:rgba(0, 0, 0, 0)}to{opacity:1;background-color:rgba(0, 0, 0, 0.6)}}@keyframes fade-in-animation{from{opacity:0;background-color:rgba(0, 0, 0, 0)}to{opacity:1;background-color:rgba(0, 0, 0, 0.6)}}@-webkit-keyframes slide-in-from-left-absolute{from{left:-1000px}to{left:0px}}@keyframes slide-in-from-left-absolute{from{left:-1000px}to{left:0px}}@-webkit-keyframes slideDown{from{max-height:0}to{max-height:1000px}}@keyframes slideDown{from{max-height:0}to{max-height:1000px}}@-webkit-keyframes slideUp{from{max-height:1000px}to{max-height:0}}@keyframes slideUp{from{max-height:1000px}to{max-height:0}}@-webkit-keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@-webkit-keyframes slideRight{from{max-width:1000px}to{max-width:0}}@keyframes slideRight{from{max-width:1000px}to{max-width:0}}@-webkit-keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@-webkit-keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@-webkit-keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@-webkit-keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@-webkit-keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@-webkit-keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}.transition-forward-animation-out.sc-phn-drawer-header{-webkit-transition:left 250ms;transition:left 250ms;position:relative !important;left:-150% !important}.transition-forward-animation-in.sc-phn-drawer-header{position:relative;-webkit-animation:transition-forward-in-animation 250ms;animation:transition-forward-in-animation 250ms}.transition-backward-animation-out.sc-phn-drawer-header{-webkit-transition:left 250ms;transition:left 250ms;position:relative !important;left:150% !important}.transition-backward-animation-in.sc-phn-drawer-header{position:relative !important;-webkit-animation:transition-backward-in-animation 250ms;animation:transition-backward-in-animation 250ms}.slide-out-to-right-fixed.sc-phn-drawer-header{-webkit-transition:left 400ms;transition:left 400ms;position:fixed;left:100% !important}.slide-in-from-right-fixed.sc-phn-drawer-header{position:fixed;-webkit-animation:single-drawer-transition-forward-in-animation 400ms;animation:single-drawer-transition-forward-in-animation 400ms}.phn-flex-col.sc-phn-drawer-header{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.phn-flex-row.sc-phn-drawer-header{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.phn-align-center.sc-phn-drawer-header{-ms-flex-align:center;align-items:center}.phn-justify-around.sc-phn-drawer-header{-ms-flex-pack:distribute;justify-content:space-around}.phn-justify-between.sc-phn-drawer-header{-ms-flex-pack:justify;justify-content:space-between}.phn-flex-wrap.sc-phn-drawer-header{-ms-flex-wrap:wrap;flex-wrap:wrap}.sc-phn-drawer-header-h{display:block}.drawer-header.sc-phn-drawer-header{height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.heading-items.sc-phn-drawer-header{margin-bottom:0.25rem;-ms-flex-align:center;align-items:center}.skeleton-headline.sc-phn-drawer-header{width:9.375rem;height:1.5rem;background:#d8d8db;border-radius:4px}.button-skeleton.sc-phn-drawer-header{margin-left:0.5rem;border-radius:0.25rem;height:1.5rem;width:1.5rem;background:#d8d8db}"},554:(A,g,i)=>{i.d(g,{r:()=>e});const e=(0,i(195).e)({routingKeyHistory:[],routingKeyPointer:-1,initialRoutingKeyHistory:null,initialRoutingKeyPointer:null})}}]);