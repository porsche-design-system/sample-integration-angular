"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[315],{7522:(y,h,e)=>{e.d(h,{c:()=>p,g:()=>i,i:()=>o});var r=e(5861),t=e(8753);const i=()=>t.f.isOneUiToggleActive()?"default":"pds2";function o(){return _.apply(this,arguments)}function _(){return(_=(0,r.Z)(function*(){if(t.f.isOneUiToggleActive()){const{load:u}=yield e.e(610).then(e.bind(e,3610));u({prefix:"phn"})}else{const{load:u}=yield e.e(613).then(e.bind(e,4613));u({prefix:"phn"})}})).apply(this,arguments)}function p(u){return d.apply(this,arguments)}function d(){return(d=(0,r.Z)(function*(u){let E;if(t.f.isOneUiToggleActive()){const{componentsReady:g}=yield e.e(610).then(e.bind(e,3610));E=g}else{const{componentsReady:g}=yield e.e(613).then(e.bind(e,4613));E=g}yield E(u)})).apply(this,arguments)}},8753:(y,h,e)=>{e.d(h,{F:()=>p,a:()=>u,f:()=>L,l:()=>b});var r=e(5861),t=e(8314),i=e(4164),o=e(908);const p="navi_3",d="one_ui",u="porsche_75_years_logo",E="shop",O={local:{featureOverrideEnabled:{enabled:!0},homenav_1723:{enabled:!0},navi_3:{enabled:!1},porsche_75_years_logo:{enabled:!1},one_ui:{enabled:!1},mock_shop_content:{enabled:!1},shop:{enabled:!1},pcom_search:{enabled:!1}},preview:{featureOverrideEnabled:{enabled:!0},homenav_1723:{enabled:!0},navi_3:{enabled:!1},porsche_75_years_logo:{enabled:!1},one_ui:{enabled:!1},mock_shop_content:{enabled:!1},shop:{enabled:!1},pcom_search:{enabled:!1}},test:{featureOverrideEnabled:{enabled:!0},homenav_1723:{enabled:!0},navi_3:{enabled:!0},porsche_75_years_logo:{enabled:!1},one_ui:{enabled:!1},mock_shop_content:{enabled:!1},shop:{enabled:!1},pcom_search:{enabled:!1}},production:{featureOverrideEnabled:{enabled:!1},homenav_1723:{enabled:!1},navi_3:{enabled:!0},porsche_75_years_logo:{enabled:!1},mock_shop_content:{enabled:!1},shop:{enabled:!1},pcom_search:{enabled:!1}}},b=new class D{constructor(){this.env=null,this.version=i.V,this.breakpoint=0,this.locale=null}init(n,s,l){this.env=n,this.breakpoint=s,this.locale=l}log(n,s,l,f,v){if(this.env!==t.E.TEST)try{const R=JSON.stringify({name:n,level:s,env:this.env,breakpoint:this.breakpoint,locale:this.locale,version:this.version,hostname:o.w.location.hostname,pathname:o.w.location.pathname,id:l,errorType:v||"",message:f});this.env===t.E.PRODUCTION?"debug"!==s&&fetch("https://logs.nav.porsche.com",{method:"POST",body:R,mode:"no-cors"}):console[s](R)}catch{}}info(n,s=""){this.log("PHN_HEADER_LOG_ENTRY","info",n,s)}error(n,s){this.log("PHN_HEADER_LOG_ENTRY","error",n,s.message,s instanceof o.N?s.type:o.a.GENERAL)}},L=new class C{constructor(n=(0,t.g)(i.v),s=O){this.featureEnvMap=s,this.features={},this.env="local",this.isOneUiToggleActive=()=>this.isFeatureEnabled(d,o.w.location.search),this.isShopToggleActive=()=>this.isFeatureEnabled(E,o.w.location.search),this.isPcomSearchToggleActive=()=>this.isFeatureEnabled("pcom_search",o.w.location.search),this.env=n,this.features=this.featureEnvMap[n]}loadRemoteToggles(){var n=this;return(0,r.Z)(function*(){try{const s=(0,i.h)(n.env).BFF_ENDPOINT,l=yield fetch(`${s}/toggles?env=${n.env}`);if(!l.ok){const v=yield l.text();throw new Error(v)}const f=yield l.json();n.features=f}catch(s){throw new o.N(`Load Feature Toggles failed with error: ${s}`,o.a.GENERAL)}})()}stringToBooleanStrict(n){return"true"===n||"false"!==n&&null}getUrlFeatureToggleOverride(n,s){var l,f;const v=null===(f=null===(l=s.split("?")[1])||void 0===l?void 0:l.split("&").find(R=>R.includes(n)))||void 0===f?void 0:f.split("=")[1];return(0,i.i)(v)?this.stringToBooleanStrict(v||""):null}getLocalStorageFeatureToggleOverride(n){const s=localStorage.getItem(`phn.${n}`);return(0,i.i)(s)?this.stringToBooleanStrict(s):null}isFeatureEnabled(n,s){var l;if(void 0===this.features||this.env===t.E.PRODUCTION&&this.isOnSecurityLayer(n))return!1;if(null!==(l=this.features.featureOverrideEnabled)&&void 0!==l&&l.enabled){const f=[this.getUrlFeatureToggleOverride(n,s),this.getLocalStorageFeatureToggleOverride(n)];for(const v of f)if(null!==v)return v}return void 0!==this.features[n]&&this.features[n].enabled}setFeatures(n){var s=this;return(0,r.Z)(function*(){s.env=n;try{if("test"===n)return void(s.features=s.featureEnvMap[n]);yield s.loadRemoteToggles()}catch(l){b.error("INIT_APP_CONFIG",l),s.features=s.featureEnvMap[n]}})()}isOnSecurityLayer(n){return[d,E].includes(n)}}},4047:(y,h,e)=>{e.d(h,{f:()=>M,n:()=>a});var r=e(8314),t=e(4164);const i={id:"",text:"",link:"",icon:"",description:""},o={id:"",text:"",description:""},d={id:"",text:"",link:"",children:[]};function M(c,O){if(!(0,t.i)(O))return null;if(null!==c){if(c.id===O)return c;if(!Array.isArray(c.children))return null;for(const P of c.children){const D=M(P,O);if(null!==D)return D}}return null}const a=(0,r.c)({menu:o,crest:i,back:o,close:o,accessibilityStatement:i,countryRecommender:{statement:"",region:"",language:"",change:o},contextualButtons:{},contextualLinks:{},models:{text:"",id:"",all:{id:"",text:"",link:"",icon:"",description:""},series:[]},dealer:{id:"",text:"",search:{id:"",text:"",form:{inputPlaceholder:"",inputDescription:""},clear:o,or:"",geolocation:o,load:"",map:i},details:{id:"",finder:i,bookService:i,backToSearch:""}},myPorsche:{id:"",text:"",link:"",loggedInFallback:"",login:i,loginText:"",logout:i,messages:i,more:null,signup:i,signupText:"",links:[]},vehiclePurchase:d,shop:d,experience:d,services:d,error:{wrong:"",retry:"",noResults:"",noInput:"",invalidInput:"",geolocationDenied:""},loadingDescription:"",legacyMore:d,legacyShop:d})},4766:(y,h,e)=>{e.d(h,{n:()=>i});var r=e(8314),t=e(4164);const i=(0,r.c)({loggedInState:t.L,unreadMessagesCount:t.D,userConsent:!1,env:(0,r.g)(t.v)})},5315:(y,h,e)=>{e.r(h),e.d(h,{phn_menu_drawer_header:()=>L});var r=e(5861),t=e(1502),i=e(9665),o=e(5928),_=e(8753),p=e(3659),d=e(4047),u=e(4164),E=e(1077),g=e(7837),T=e(46),M=e(1836),a=e(7522);e(8314),e(908),e(21),e(4766);const L=class{constructor(m){(0,t.r)(this,m),this.clickMenuDrawerHeaderBack=(0,t.c)(this,"clickMenuDrawerHeaderBack",7),this.clickMenuDrawerHeaderClose=(0,t.c)(this,"clickMenuDrawerHeaderClose",7),this.backButtonText="",this.backButtonAnalyticsId=void 0,this.showBackButton=!1,this.activeRoutingKey=void 0,this.breakpoint=void 0,this.receivedContent=!1,this.pdsMode=(0,a.g)(),this.showSkeleton=!0}componentWillLoad(){this.waitForComponentsToLoad()}waitForComponentsToLoad(){var m=this;return(0,r.Z)(function*(){yield(0,T.c)(m.el,new M.T(5e3)),m.showSkeleton=!m.receivedContent})()}sendDataLayerEvent(){i.g.pushDataLayerEvent(o.E.MENU_CLOSE_CLICK,{componentClick:{clickElementId:"mainmenu.drawer.close",clickElementName:"X",clickElementType:o.C.Button,targetElement:"level-0"},componentDisplay:{displayElementId:p.a.calculateDisplayElementId(),displayElementType:p.a.calculateDisplayElementType(this.activeRoutingKey,o.c.closeButton),displayElementName:"X"}})}render(){const m=(0,g.f)(this.activeRoutingKey),n=_.f.isOneUiToggleActive()&&!(0,u.l)(this.breakpoint),s=void 0!==m?(0,E.b)(d.n.state,this.activeRoutingKey,m):"",l=s.includes("mainmenu.")?s.split("mainmenu.")[1]:"",f=(0,E.c)(m);return(0,t.h)("div",{class:"drawer-header"},this.showBackButton?(0,t.h)(t.F,null,(0,t.h)("phn-back-button",{class:"back-button",onClick:()=>{this.clickMenuDrawerHeaderBack.emit()},analyticsId:this.backButtonAnalyticsId,text:n?"":this.backButtonText,activeRoutingKey:this.activeRoutingKey,style:this.showSkeleton?{display:"none"}:{}}),this.showSkeleton?(0,t.h)("div",{class:"button-skeleton"}):null):(0,t.h)("div",{class:"spacer"}),n?""===l?(0,t.h)(t.F,null,this.showSkeleton&&this.showBackButton?(0,t.h)("div",{class:"skeleton-headline"}):null,(0,t.h)("phn-heading",{text:s,style:this.showSkeleton?{display:"none"}:{},class:"heading-items",subtext:f})):(0,t.h)(t.F,null,this.showSkeleton?(0,t.h)("div",{class:"skeleton-headline"}):null,(0,t.h)("phn-p-model-signature",{model:l,size:"inherit",style:this.showSkeleton?{display:"none"}:{}})):null,(0,t.h)(t.F,null,(0,t.h)("phn-p-button-pure",{class:"close-button",icon:"close",hideLabel:"true",aria:{"aria-label":"close dialog"},size:"small",style:this.showSkeleton?{display:"none"}:{},onClick:()=>{this.sendDataLayerEvent(),this.clickMenuDrawerHeaderClose.emit()}},"Close Dialog"),this.showSkeleton?(0,t.h)("div",{class:"button-skeleton"}):null))}get el(){return(0,t.g)(this)}};L.style={default:".sc-phn-menu-drawer-header-default-h{display:block}.drawer-header.sc-phn-menu-drawer-header-default{height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.heading-items.sc-phn-menu-drawer-header-default{margin-bottom:0.375rem;align:center}.skeleton-headline.sc-phn-menu-drawer-header-default{width:9.375rem;height:1.5rem;background:#d8d8db;border-radius:4px}.button-skeleton.sc-phn-menu-drawer-header-default{margin-left:0.5rem;border-radius:0.25rem;height:1.5rem;width:1.5rem;background:#d8d8db}phn-p-model-signature.sc-phn-menu-drawer-header-default{margin-top:0.375rem;align:center}@media (min-width: 0px){phn-p-model-signature.sc-phn-menu-drawer-header-default{height:1.625rem}}@media (min-width: 480px){phn-p-model-signature.sc-phn-menu-drawer-header-default{height:2.25rem}}",pds2:".sc-phn-menu-drawer-header-pds2-h{display:block}.drawer-header.sc-phn-menu-drawer-header-pds2{height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.heading-items.sc-phn-menu-drawer-header-pds2{margin-bottom:0.375rem;align:center}.skeleton-headline.sc-phn-menu-drawer-header-pds2{width:9.375rem;height:1.5rem;background:#e3e4e5;border-radius:4px}.button-skeleton.sc-phn-menu-drawer-header-pds2{margin-left:0.5rem;border-radius:0.25rem;height:1.5rem;width:1.5rem;background:#e3e4e5}phn-p-model-signature.sc-phn-menu-drawer-header-pds2{margin-top:0.375rem;align:center}@media (min-width: 0){phn-p-model-signature.sc-phn-menu-drawer-header-pds2{height:1.625rem}}@media (min-width: 480px){phn-p-model-signature.sc-phn-menu-drawer-header-pds2{height:2.25rem}}"}},21:(y,h,e)=>{e.d(h,{r:()=>t});const t=(0,e(8314).c)({routingKeyHistory:[],routingKeyPointer:-1,initialRoutingKeyHistory:null,initialRoutingKeyPointer:null})},7837:(y,h,e)=>{e.d(h,{R:()=>i,a:()=>t,b:()=>M,c:()=>d,d:()=>T,e:()=>o,f:()=>_,g:()=>E,h:()=>p,i:()=>u,r:()=>g});var r=e(4164);const t={MAIN_MENU:"mainmenu",DEALER_SEARCH:"find_a_dealer",MORE:"more",SHOP:"shop",SERIES:"series",MY_PORSCHE:"my_porsche",VEHICLE_PURCHASE:"vehicle_purchase",EXPERIENCE:"experience",SERVICES:"services",MODELS:"models"};var i=(()=>{return(a=i||(i={}))[a.LEVEL_ZERO=-1]="LEVEL_ZERO",a[a.LEVEL_ONE=0]="LEVEL_ONE",a[a.LEVEL_TWO=1]="LEVEL_TWO",i;var a})();function o(...a){return a.reduce((c,O)=>[...c,...(0,r.g)(O).split("/")],[]).filter(Boolean).join("/")}function _(a){if((0,r.i)(a))return Object.values(t).find(c=>a.startsWith(c))}function p(...a){return o(t.MODELS,...a)}function d(...a){return o(t.DEALER_SEARCH,...a)}function u(...a){return o(t.MY_PORSCHE,...a)}function E(a){return a.split("/").slice(-1)[0]}function g(a){return a.split("/").slice(0,-1).join("/")}function T(a){switch(_(a)){case t.MAIN_MENU:return 1;case a:return 2;default:return a.split("/").length+1}}function M(a){const c=g(a);return(0,r.i)(c)?c:t.MAIN_MENU}}}]);