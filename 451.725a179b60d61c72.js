"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[451],{945:(j,f,o)=>{o.d(f,{a:()=>S,b:()=>g,c:()=>p,d:()=>w,e:()=>y,f:()=>v,g:()=>H});var i=o(556),e=o(862),O=o(213),l=o(49),P=o(181);function y(s,a,t,r,E,d){const{dealer:c,models:u,myPorsche:n,vehiclePurchase:_,shop:C,experience:R,services:h,legacyMore:D}=s,{savedDealerCookie:M,ppnDealers:U}=a,{app:k}=i.n.state,m=null!==M?U[M.id]:void 0,N="en-SG"===t?D.children[2].children[2].link:void 0,K=[e.a.DEALER_SEARCH];void 0!==m&&K.push((0,e.c)(m.ppnDealer.id));const L=[{elementId:e.a.MODELS,routingKeys:[e.a.MODELS],analyticsId:u.id,text:u.text},{elementId:e.a.VEHICLE_PURCHASE,routingKeys:[e.a.VEHICLE_PURCHASE],analyticsId:_.id,text:_.text},{elementId:e.a.SERVICES,routingKeys:[e.a.SERVICES],analyticsId:h.id,text:h.text},{elementId:e.a.EXPERIENCE,routingKeys:[e.a.EXPERIENCE],analyticsId:R.id,text:R.text}],x={elementId:e.a.DEALER_SEARCH,routingKeys:K,analyticsId:c.id,text:c.text,link:N,iconRight:"en-SG"===t?"external":"arrow-head-right"};if(null!==C&&""!==C.text&&L.splice(2,0,{elementId:e.a.SHOP,routingKeys:[e.a.SHOP],analyticsId:C.id,text:C.text,link:k!==l.A.shop?C.link:void 0,datalayerEventAction:i.E.NAVIGATION_LINK_CLICK,iconRight:"external"}),function A(s,a){try{const{country:t}=(0,i.s)(s),r=!(0,i.i)(t)&&a;return(P.f.isDealerSearchChinaEnabled()||"CN"!==t)&&r}catch{}return!0}(t,d)){const I="en"===(0,i.s)(t).language?m?.ppnDealer.name:(0,l.i)(m?.ppnDealer.nameLocalized)?m?.ppnDealer.nameLocalized:m?.ppnDealer.name;(0,l.i)(I)&&(x.subtext=I)}else x.link=c.search.map.link,x.onClick=void 0;if(L.push(x),null!==n){const I=(0,l.I)(r),b=I?(0,l.z)(r,n.loggedInFallback):void 0;L.push({elementId:e.a.MY_PORSCHE,routingKeys:[e.a.MY_PORSCHE],analyticsId:n.id,text:n.text,subtext:b,showIconModifier:I&&E>0})}return L}function w(s,a,t,r,E,d,c){const u=(0,e.f)(d);switch(u){case d:break;case e.a.MODELS:return s.models.series.map(n=>({elementId:(0,e.h)(n.id),routingKeys:[(0,e.h)(n.id)],analyticsId:n.id,text:n.name,subtext:n.tags.map(_=>_.text).join(" | "),renderSignatures:!0,datalayerEventAction:i.E.MODEL_RANGE_CLICK}));case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const n=(0,e.r)(d),_=v(s,n,u);if(null!==_)return _.children.map(C=>({elementId:(0,e.e)(n,C.id),routingKeys:[(0,e.e)(n,C.id)],analyticsId:C.id,text:C.text,link:C.link}));break}}return y(s,a,t,r,E,c)}function H(s){switch((0,e.f)(s)){case s:break;case e.a.DEALER_SEARCH:return e.a.DEALER_SEARCH;case e.a.MODELS:return e.a.MODELS;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const t=(0,e.r)(s);return(0,e.g)(t)}}return e.a.MAIN_MENU}function v(s,a,t){const{vehiclePurchase:r,experience:E,shop:d,legacyMore:c,services:u}=s,n={[e.a.VEHICLE_PURCHASE]:r,[e.a.EXPERIENCE]:E,[e.a.SHOP]:d,[e.a.MORE]:c,[e.a.SERVICES]:u}[t];if(null==n)return null;(0,l.i)(n.experienceName)&&(n.children=(0,O.a)().executeContentChange(n));const _=(0,e.g)(a);return _===t?n:(0,i.j)(n,_)}function S(s,a){if(!(0,l.i)(a))return"";const t=(0,e.f)(a);switch(t){case e.a.MODELS:return s.models.text;case e.a.DEALER_SEARCH:return s.dealer.details.backToSearch;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.MORE:case e.a.EXPERIENCE:{const r=v(i.a.state,a,t);if(null!==r)return r.text;break}}return""}function g(s,a,t){var r;const{dealer:E,myPorsche:d,models:c,vehiclePurchase:u,experience:n,shop:_,legacyMore:C,services:R}=s;let h;switch(t){case e.a.MORE:case e.a.SHOP:case e.a.EXPERIENCE:case e.a.SERVICES:case e.a.VEHICLE_PURCHASE:{if(h={[e.a.VEHICLE_PURCHASE]:u,[e.a.EXPERIENCE]:n,[e.a.SHOP]:_,[e.a.MORE]:C,[e.a.SERVICES]:R}[t],void 0===h)return"";const D=(0,e.g)(a);return D===t?h?.text:null===(r=(0,i.j)(h,D))||void 0===r?void 0:r.text}case e.a.SERIES:case e.a.MODELS:{const D=(0,e.g)(a);return h=c.series.find(M=>D===M.id),void 0===h?c.text:h?.id}case e.a.DEALER_SEARCH:return E.search.text;case e.a.MY_PORSCHE:return d?.text}return""}function p(s,a,t){const{myPorsche:r,models:E}=i.a.state,{loggedInState:d}=i.n.state;if(s===e.a.MY_PORSCHE)return(0,l.I)(d)?(0,l.z)(d,r?.loggedInFallback||""):"";if(s===e.a.DEALER_SEARCH){const{savedDealerCookie:c,ppnDealers:u}=O.d.state,n=null!==c?u[c.id]:void 0,_=t&&"en"===(0,i.s)(t).language?n?.ppnDealer.name:(0,l.i)(n?.ppnDealer.nameLocalized)?n?.ppnDealer.nameLocalized:n?.ppnDealer.name;return c?_:""}if(s===e.a.MODELS&&(0,l.i)(a)){const c=(0,e.g)(a),u=E.series.find(n=>c===n.id);if(u)return u.tags.map(n=>n.text).join(" | ")}return""}},451:(j,f,o)=>{o.r(f),o.d(f,{phn_side_drawer:()=>S});var i=o(565),e=o(945),O=o(213),l=o(556),P=o(49);o(862),o(181),o(997);const S=class{constructor(g){(0,i.r)(this,g),this.sideDrawerItemClick=(0,i.c)(this,"sideDrawerItemClick",7),this.activeRoutingKey=void 0,this.locale=void 0}render(){const{loggedInState:g,unreadMessagesCount:p,userConsent:s}=l.n.state,a=(0,e.d)(l.a.state,O.d.state,this.locale,g,p,this.activeRoutingKey,s);return(0,i.h)("nav",null,a.map(t=>{var{routingKeys:r}=t,E=function(g,p){var s={};for(var a in g)Object.prototype.hasOwnProperty.call(g,a)&&p.indexOf(a)<0&&(s[a]=g[a]);if(null!=g&&"function"==typeof Object.getOwnPropertySymbols){var t=0;for(a=Object.getOwnPropertySymbols(g);t<a.length;t++)p.indexOf(a[t])<0&&Object.prototype.propertyIsEnumerable.call(g,a[t])&&(s[a[t]]=g[a[t]])}return s}(t,["routingKeys"]);const d=r.includes(this.activeRoutingKey);return(0,i.h)(i.F,null,(0,i.h)("phn-side-drawer-item",Object.assign({key:E.elementId,onClick:()=>{!(0,P.i)(E.link)&&!d&&this.sideDrawerItemClick.emit(r)},isActive:d,class:(0,P.G)(E.text)?"models":""},E)),d?(0,i.h)("div",{class:"item-highlight"}):null)}))}};S.style=".sc-phn-side-drawer-h{display:block;width:100%}.sc-phn-side-drawer-h .item-highlight.sc-phn-side-drawer{display:none}.sc-phn-side-drawer-h phn-side-drawer-item.sc-phn-side-drawer{margin-top:2.25rem}@media (min-width: 1000px){.sc-phn-side-drawer-h phn-side-drawer-item.sc-phn-side-drawer{margin-top:0.85rem}}@media (min-width: 1920px){.sc-phn-side-drawer-h phn-side-drawer-item.sc-phn-side-drawer{margin-top:1rem}}.sc-phn-side-drawer-h phn-side-drawer-item.models.sc-phn-side-drawer{margin-top:0.5rem}@media (min-width: 1920px){.sc-phn-side-drawer-h phn-side-drawer-item.models.sc-phn-side-drawer{margin-top:1rem}}.sc-phn-side-drawer-h phn-side-drawer-item.sc-phn-side-drawer:first-of-type{margin-top:0}"}}]);