"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[682],{5276:(y,E,n)=>{n.d(E,{a:()=>M});var s=n(1513),e=n(21),h=n(3812),r=n(5201);const p={},M={setDrawerType:function D(u){p.drawerType=u},calculateDisplayElementId:function I(u){const{drawerType:o}=p,t=((0,h.i)(u)?(0,s.b)(u):e.r.state.routingKeyHistory[e.r.state.routingKeyPointer])||"",i=(0,s.g)(t),a=(0,s.d)(t),c=a-1;if(!(0,h.i)(t))return"level0";const f=(0,h.i)(t)?`level${a}-${i}`:`level${a-1}-unknown`;return"doubleDrawer"===o?""===t?`level${c}-unknown_level${a}-unknown`:`level${c}-${(0,r.g)(t)}_${f}`:f},calculateDisplayElementType:function C(u,o,t){const{drawerType:i}=p,a=(0,s.d)(u);if("doubleDrawer"===i){let c=a;return t&&(c-=1),`level${c}_${o}`}return(0,h.i)(u)?`level${a}_${o}`:`level${a-1}_${o}`},getModelName:function v(u){const o=u.link.split("/"),t=o[o.length-1];let i;return i=""===t?void 0===o[o.length-2]?"":o[o.length-2].split("-").join(" "):t.split("-").join(" "),i},getModelTargetElement:function P(u,o){if(u.includes("models"))return`level${(0,s.d)(u)}_${o.toLowerCase()}`}}},6316:(y,E,n)=>{n.d(E,{d:()=>r});var s=n(8314),e=n(6671),h=n(3812);const r=(0,s.c)({searchTerm:"",results:[],savedDealerCookie:function p(){try{return JSON.parse(e.w.getCookie(h.S))}catch{return null}}(),ppnDealers:{}});r.onChange("savedDealerCookie",D=>{e.w.setCookie(h.S,JSON.stringify(D))})},7540:(y,E,n)=>{n.d(E,{c:()=>D,g:()=>h,i:()=>r});var s=n(5861),e=n(6369);const h=()=>e.f.isOneUiToggleActive()?"default":"pds2";function r(){return p.apply(this,arguments)}function p(){return(p=(0,s.Z)(function*(){if(e.f.isOneUiToggleActive()){const{load:C}=yield n.e(958).then(n.bind(n,8958));C({prefix:"phn"})}else{const{load:C}=yield n.e(613).then(n.bind(n,4613));C({prefix:"phn"})}})).apply(this,arguments)}function D(C){return I.apply(this,arguments)}function I(){return(I=(0,s.Z)(function*(C){let v;if(e.f.isOneUiToggleActive()){const{componentsReady:P}=yield n.e(958).then(n.bind(n,8958));v=P}else{const{componentsReady:P}=yield n.e(613).then(n.bind(n,4613));v=P}yield v(C)})).apply(this,arguments)}},5201:(y,E,n)=>{n.d(E,{a:()=>M,b:()=>u,c:()=>o,d:()=>I,e:()=>D,f:()=>v,g:()=>C});var s=n(6369),e=n(1513),h=n(6316),r=n(3812),p=n(5267);function D(t,i,a,c,f,d){const{dealer:l,models:_,myPorsche:w,vehiclePurchase:m,shop:O,experience:R,services:g}=t,{savedDealerCookie:L,ppnDealers:T}=i,x=null!==L?T[L.id]:void 0,U=[e.a.DEALER_SEARCH];void 0!==x&&U.push((0,e.c)(x.ppnDealer.id));const A=[{elementId:e.a.MODELS,routingKeys:[e.a.MODELS],analyticsId:_.id,text:_.text},{elementId:e.a.VEHICLE_PURCHASE,routingKeys:[e.a.VEHICLE_PURCHASE],analyticsId:m.id,text:m.text},{elementId:e.a.SERVICES,routingKeys:[e.a.SERVICES],analyticsId:g.id,text:g.text},{elementId:e.a.EXPERIENCE,routingKeys:[e.a.EXPERIENCE],analyticsId:R.id,text:R.text}],b={elementId:e.a.DEALER_SEARCH,routingKeys:U,analyticsId:l.id,text:l.text};if(null!==O&&""!==O.text){const S={elementId:e.a.SHOP,routingKeys:[e.a.SHOP],analyticsId:O.id,text:O.text,link:(0,r.i)(O.link)?O.link:void 0,datalayerEventAction:s.E.NAVIGATION_LINK_CLICK,iconRight:"external"};A.splice(2,0,S)}if(function P(t,i){try{const{country:a}=(0,s.s)(t);return"CN"!==a&&!(0,s.i)(a)&&i}catch{}return!0}(a,d)){const S=x?.ppnDealer.nameLocalized?x?.ppnDealer.nameLocalized:x?.ppnDealer.name;(0,r.i)(S)&&(b.subtext=S)}else b.link=l.search.map.link,b.onClick=void 0;if(A.push(b),null!==w){const S=(0,r.I)(c),K=S?(0,r.w)(c,w.loggedInFallback):void 0;A.push({elementId:e.a.MY_PORSCHE,routingKeys:[e.a.MY_PORSCHE],analyticsId:w.id,text:w.text,subtext:K,showIconModifier:S&&f>0})}return A}function I(t,i,a,c,f,d,l){const _=s.f.isOneUiToggleActive(),w=(0,e.f)(d);switch(w){case d:break;case e.a.MODELS:return t.models.series.map(m=>({elementId:(0,e.h)(m.id),routingKeys:[(0,e.h)(m.id)],analyticsId:m.id,text:m.name,subtext:m.tags.map(O=>O.text).join(" | "),renderSignatures:_,datalayerEventAction:s.E.MODEL_RANGE_CLICK}));case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const m=(0,e.r)(d),O=v(t,m,w);if(null!==O)return O.children.map(R=>({elementId:(0,e.e)(m,R.id),routingKeys:[(0,e.e)(m,R.id)],analyticsId:R.id,text:R.text,link:R.link}));break}}return D(t,i,a,c,f,l)}function C(t){switch((0,e.f)(t)){case t:break;case e.a.DEALER_SEARCH:return e.a.DEALER_SEARCH;case e.a.MODELS:return e.a.MODELS;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const a=(0,e.r)(t);return(0,e.g)(a)}}return e.a.MAIN_MENU}function v(t,i,a){const{vehiclePurchase:c,experience:f,shop:d,legacyMore:l,services:_}=t,w={[e.a.VEHICLE_PURCHASE]:c,[e.a.EXPERIENCE]:f,[e.a.SHOP]:d,[e.a.MORE]:l,[e.a.SERVICES]:_}[a];if(void 0===w)return null;const m=(0,e.g)(i);return m===a?w:(0,s.d)(w,m)}function M(t,i){if(!(0,r.i)(i))return"";const a=(0,e.f)(i);switch(a){case e.a.MODELS:return t.models.text;case e.a.DEALER_SEARCH:return t.dealer.details.backToSearch;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.MORE:case e.a.EXPERIENCE:{const c=v(s.n.state,i,a);if(null!==c)return c.text;break}}return""}function u(t,i,a){var c;const{dealer:f,myPorsche:d,models:l,vehiclePurchase:_,experience:w,shop:m,legacyMore:O,services:R}=t;let g;switch(a){case e.a.MORE:case e.a.SHOP:case e.a.EXPERIENCE:case e.a.SERVICES:case e.a.VEHICLE_PURCHASE:{if(g={[e.a.VEHICLE_PURCHASE]:_,[e.a.EXPERIENCE]:w,[e.a.SHOP]:m,[e.a.MORE]:O,[e.a.SERVICES]:R}[a],void 0===g)return"";const L=(0,e.g)(i);return L===a?g?.text:null===(c=(0,s.d)(g,L))||void 0===c?void 0:c.text}case e.a.SERIES:case e.a.MODELS:{const L=(0,e.g)(i);return g=l.series.find(T=>L===T.id),void 0===g?l.text:g?.id}case e.a.DEALER_SEARCH:return f.search.text;case e.a.MY_PORSCHE:return d?.text}return""}function o(t,i){const{myPorsche:a,models:c}=s.n.state,{loggedInState:f}=p.n.state;if(t===e.a.MY_PORSCHE)return(0,r.I)(f)?(0,r.w)(f,a?.loggedInFallback||""):"";if(t===e.a.DEALER_SEARCH){const{savedDealerCookie:d,ppnDealers:l}=h.d.state;return d?l[d.id].ppnDealer.name:""}if(t===e.a.MODELS&&(0,r.i)(i)){const d=(0,e.g)(i),l=c.series.find(_=>d===_.id);if(l)return l.tags.map(_=>_.text).join(" | ")}return""}},5267:(y,E,n)=>{n.d(E,{n:()=>h});var s=n(8314),e=n(3812);const h=(0,s.c)({loggedInState:e.L,unreadMessagesCount:e.D,userConsent:!1,env:(0,s.g)(e.v)})},5682:(y,E,n)=>{n.r(E),n.d(E,{phn_side_drawer_item:()=>f});var s=n(1502),e=n(5276),h=n(2257),r=n(6369),p=n(3812),D=n(7540),I=n(6788);function i({isActive:d,text:l,subtext:_,renderSignatures:w}){return(0,s.h)("div",{class:"text-container"},w&&(0,p.B)(l)?(0,s.h)("phn-p-model-signature",{model:l.toLowerCase(),size:"inherit",class:"model-signature"}):(0,s.h)("phn-p-text",{size:"inherit",weight:d?"semibold":"regular",color:"inherit",tag:"div"},l),(0,p.i)(_)&&!(0,p.E)(l)?(0,s.h)("phn-p-text",{color:"inherit",class:"subtext",weight:"regular",size:"x-small",tag:"div",ellipsis:"true","data-test-id":"subtext"},_):null)}n(1513),n(21),n(8314),n(5201),n(6316),n(6671),n(5267);const f=class{constructor(d){(0,s.r)(this,d),this.text=void 0,this.analyticsId=void 0,this.subtext="",this.elementId="",this.link="",this.iconRight="",this.datalayerEventAction=r.E.NAVIGATION_CLICK,this.customDatalayerProperties={},this.isActive=!1,this.hasDoubleDrawerAnimationFinished=!1,this.pdsMode=(0,D.g)(),this.renderSignatures=!1}sendDataLayerEvent(d,l){h.g.pushDataLayerEvent(this.datalayerEventAction,Object.assign(Object.assign(Object.assign({componentClick:Object.assign({clickElementId:this.analyticsId,clickElementName:this.text,targetElement:e.a.getModelTargetElement(l,this.text),clickElementType:d},d===r.C.Link?{targetUrl:this.link}:{})},this.customDatalayerProperties),{componentDisplay:{displayElementId:e.a.calculateDisplayElementId(),displayElementType:e.a.calculateDisplayElementType(l,r.c.sideDrawerItem,!0),displayElementName:this.text}}),this.datalayerEventAction===r.E.MODEL_RANGE_CLICK?{car:{modelRangeName:this.text.toLowerCase()}}:{}))}existsSlot(d){return null!==this.el.querySelector(`[slot="${d}"]`)}render(){const d=r.f.isOneUiToggleActive(),l=(0,s.h)("div",{class:"body-container phn-flex-row phn-align-center"},(0,s.h)(i,{isActive:!d&&this.isActive,text:this.text,subtext:this.subtext,renderSignatures:this.renderSignatures}),this.existsSlot("suffix")?(0,s.h)("div",null,(0,s.h)("slot",{name:"suffix"})):null);return(0,p.i)(this.link)?(0,s.h)(I.a,{href:this.link,icon:(0,p.i)(this.iconRight)?this.iconRight:"none","align-label":"left",stretch:"true","data-id":this.elementId,target:"_self",onClick:()=>{this.sendDataLayerEvent(r.C.Link,this.elementId)}},l):(0,s.h)(s.H,{class:this.isActive?"active":""},(0,s.h)(I.T,{active:this.isActive&&d,class:(0,p.B)(this.text)?"models":"",size:"inherit",stretch:"true","data-id":this.elementId,onClick:()=>{this.sendDataLayerEvent(r.C.Button,this.elementId)},aria:{"aria-expanded":this.isActive?"true":"false"},icon:d?"arrow-head-right":"none","align-label":"left"},l))}get el(){return(0,s.g)(this)}};f.style={default:".sc-phn-side-drawer-item-default-h{display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:start;align-items:flex-start}.sc-phn-side-drawer-item-default-h phn-p-link-pure.sc-phn-side-drawer-item-default,.sc-phn-side-drawer-item-default-h phn-p-button-pure.sc-phn-side-drawer-item-default,.sc-phn-side-drawer-item-default-h phn-tmp-menu-item.sc-phn-side-drawer-item-default{-webkit-box-sizing:border-box;box-sizing:border-box}.sc-phn-side-drawer-item-default-h phn-p-link-pure.sc-phn-side-drawer-item-default .models.sc-phn-side-drawer-item-default,.sc-phn-side-drawer-item-default-h phn-p-button-pure.sc-phn-side-drawer-item-default .models.sc-phn-side-drawer-item-default,.sc-phn-side-drawer-item-default-h phn-tmp-menu-item.sc-phn-side-drawer-item-default .models.sc-phn-side-drawer-item-default{padding:1rem 0.5rem}.sc-phn-side-drawer-item-default-h phn-p-link-pure.sc-phn-side-drawer-item-default .body-container.sc-phn-side-drawer-item-default,.sc-phn-side-drawer-item-default-h phn-p-button-pure.sc-phn-side-drawer-item-default .body-container.sc-phn-side-drawer-item-default,.sc-phn-side-drawer-item-default-h phn-tmp-menu-item.sc-phn-side-drawer-item-default .body-container.sc-phn-side-drawer-item-default{height:3.25rem}.sc-phn-side-drawer-item-default-h phn-p-link-pure.sc-phn-side-drawer-item-default phn-p-text.sc-phn-side-drawer-item-default,.sc-phn-side-drawer-item-default-h phn-p-button-pure.sc-phn-side-drawer-item-default phn-p-text.sc-phn-side-drawer-item-default,.sc-phn-side-drawer-item-default-h phn-tmp-menu-item.sc-phn-side-drawer-item-default phn-p-text.sc-phn-side-drawer-item-default{font-size:1.25rem}@media (min-width: 1300px){.sc-phn-side-drawer-item-default-h phn-p-link-pure.sc-phn-side-drawer-item-default phn-p-text.sc-phn-side-drawer-item-default,.sc-phn-side-drawer-item-default-h phn-p-button-pure.sc-phn-side-drawer-item-default phn-p-text.sc-phn-side-drawer-item-default,.sc-phn-side-drawer-item-default-h phn-tmp-menu-item.sc-phn-side-drawer-item-default phn-p-text.sc-phn-side-drawer-item-default{font-size:1.375rem}}@media (min-width: 1920px){.sc-phn-side-drawer-item-default-h phn-p-link-pure.sc-phn-side-drawer-item-default phn-p-text.sc-phn-side-drawer-item-default,.sc-phn-side-drawer-item-default-h phn-p-button-pure.sc-phn-side-drawer-item-default phn-p-text.sc-phn-side-drawer-item-default,.sc-phn-side-drawer-item-default-h phn-tmp-menu-item.sc-phn-side-drawer-item-default phn-p-text.sc-phn-side-drawer-item-default{font-size:1.5rem}}.sc-phn-side-drawer-item-default-h phn-p-link-pure.sc-phn-side-drawer-item-default .body-container.sc-phn-side-drawer-item-default,.sc-phn-side-drawer-item-default-h phn-p-button-pure.sc-phn-side-drawer-item-default .body-container.sc-phn-side-drawer-item-default,.sc-phn-side-drawer-item-default-h phn-tmp-menu-item.sc-phn-side-drawer-item-default .body-container.sc-phn-side-drawer-item-default{max-width:230px}@media (min-width: 1300px){.sc-phn-side-drawer-item-default-h phn-p-link-pure.sc-phn-side-drawer-item-default .body-container.sc-phn-side-drawer-item-default,.sc-phn-side-drawer-item-default-h phn-p-button-pure.sc-phn-side-drawer-item-default .body-container.sc-phn-side-drawer-item-default,.sc-phn-side-drawer-item-default-h phn-tmp-menu-item.sc-phn-side-drawer-item-default .body-container.sc-phn-side-drawer-item-default{max-width:270px}}@media (min-width: 1920px){.sc-phn-side-drawer-item-default-h phn-p-link-pure.sc-phn-side-drawer-item-default .body-container.sc-phn-side-drawer-item-default,.sc-phn-side-drawer-item-default-h phn-p-button-pure.sc-phn-side-drawer-item-default .body-container.sc-phn-side-drawer-item-default,.sc-phn-side-drawer-item-default-h phn-tmp-menu-item.sc-phn-side-drawer-item-default .body-container.sc-phn-side-drawer-item-default{max-width:400px}}.sc-phn-side-drawer-item-default-h phn-p-link-pure.sc-phn-side-drawer-item-default .body-container.sc-phn-side-drawer-item-default .text-container.sc-phn-side-drawer-item-default,.sc-phn-side-drawer-item-default-h phn-p-button-pure.sc-phn-side-drawer-item-default .body-container.sc-phn-side-drawer-item-default .text-container.sc-phn-side-drawer-item-default,.sc-phn-side-drawer-item-default-h phn-tmp-menu-item.sc-phn-side-drawer-item-default .body-container.sc-phn-side-drawer-item-default .text-container.sc-phn-side-drawer-item-default{width:100%}.sc-phn-side-drawer-item-default-h .model-signature.sc-phn-side-drawer-item-default{height:1.625rem}@media (min-width: 1920px){.sc-phn-side-drawer-item-default-h .model-signature.sc-phn-side-drawer-item-default{height:1.875rem}}",pds2:".sc-phn-side-drawer-item-pds2-h{display:block}.sc-phn-side-drawer-item-pds2-h phn-p-link-pure.sc-phn-side-drawer-item-pds2,.sc-phn-side-drawer-item-pds2-h phn-p-button-pure.sc-phn-side-drawer-item-pds2{-webkit-box-sizing:border-box;box-sizing:border-box;width:calc(100% - 2px)}.sc-phn-side-drawer-item-pds2-h phn-p-link-pure.sc-phn-side-drawer-item-pds2 phn-p-text.sc-phn-side-drawer-item-pds2,.sc-phn-side-drawer-item-pds2-h phn-p-button-pure.sc-phn-side-drawer-item-pds2 phn-p-text.sc-phn-side-drawer-item-pds2{font-size:1.25rem}@media (min-width: 1300px){.sc-phn-side-drawer-item-pds2-h phn-p-link-pure.sc-phn-side-drawer-item-pds2 phn-p-text.sc-phn-side-drawer-item-pds2,.sc-phn-side-drawer-item-pds2-h phn-p-button-pure.sc-phn-side-drawer-item-pds2 phn-p-text.sc-phn-side-drawer-item-pds2{font-size:1.375rem}}@media (min-width: 1920px){.sc-phn-side-drawer-item-pds2-h phn-p-link-pure.sc-phn-side-drawer-item-pds2 phn-p-text.sc-phn-side-drawer-item-pds2,.sc-phn-side-drawer-item-pds2-h phn-p-button-pure.sc-phn-side-drawer-item-pds2 phn-p-text.sc-phn-side-drawer-item-pds2{font-size:1.5rem}}.sc-phn-side-drawer-item-pds2-h phn-p-link-pure.sc-phn-side-drawer-item-pds2 phn-p-text.subtext.sc-phn-side-drawer-item-pds2,.sc-phn-side-drawer-item-pds2-h phn-p-button-pure.sc-phn-side-drawer-item-pds2 phn-p-text.subtext.sc-phn-side-drawer-item-pds2{color:rgb(176, 177, 178)}.sc-phn-side-drawer-item-pds2-h phn-p-link-pure.sc-phn-side-drawer-item-pds2{padding-right:1.5rem}"}},21:(y,E,n)=>{n.d(E,{r:()=>e});const e=(0,n(8314).c)({routingKeyHistory:[],routingKeyPointer:-1,initialRoutingKeyHistory:null,initialRoutingKeyPointer:null})},1513:(y,E,n)=>{n.d(E,{R:()=>h,a:()=>e,b:()=>o,c:()=>I,d:()=>u,e:()=>r,f:()=>p,g:()=>P,h:()=>D,i:()=>v,j:()=>C,r:()=>M});var s=n(3812);const e={MAIN_MENU:"mainmenu",DEALER_SEARCH:"find_a_dealer",MORE:"more",SHOP:"shop",SERIES:"series",MY_PORSCHE:"my_porsche",VEHICLE_PURCHASE:"vehicle_purchase",EXPERIENCE:"experience",SERVICES:"services",MODELS:"models"};var h=(()=>{return(t=h||(h={}))[t.LEVEL_ZERO=-1]="LEVEL_ZERO",t[t.LEVEL_ONE=0]="LEVEL_ONE",t[t.LEVEL_TWO=1]="LEVEL_TWO",h;var t})();function r(...t){return t.reduce((i,a)=>[...i,...(0,s.g)(a).split("/")],[]).filter(Boolean).join("/")}function p(t){if((0,s.i)(t))return Object.values(e).find(i=>t.startsWith(i))}function D(...t){return r(e.MODELS,...t)}function I(...t){return r(e.DEALER_SEARCH,...t)}function C(...t){return r(e.MY_PORSCHE,...t)}function v(...t){return r(e.VEHICLE_PURCHASE,...t)}function P(t){return t.split("/").slice(-1)[0]}function M(t){return t.split("/").slice(0,-1).join("/")}function u(t){switch(p(t)){case e.MAIN_MENU:return 1;case t:return 2;default:return t.split("/").length+1}}function o(t){const i=M(t);return(0,s.i)(i)?i:e.MAIN_MENU}}}]);