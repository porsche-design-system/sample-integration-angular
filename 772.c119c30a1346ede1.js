"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[772],{416:(D,v,u)=>{u.d(v,{d:()=>g});var d=u(172),r=u(35),l=u(58);const g=(0,d.e)({searchTerm:"",results:null,savedDealerCookie:function f(){try{return JSON.parse(r.w.getCookie(l.S))}catch{return null}}(),ppnDealers:{},dealersOfRegion:{regions:[]}});g.onChange("savedDealerCookie",p=>{r.w.setCookie(l.S,JSON.stringify(p))})},35:(D,v,u)=>{u.d(v,{f:()=>V,l:()=>M,w:()=>h});var d=u(861),r=u(172),l=u(58);const m="opening_hours",w="sentry",U={local:{featureOverrideEnabled:{enabled:!0},homenav_1723:{enabled:!0},navi_3:{enabled:!1},porsche_75_years_logo:{enabled:!1},one_ui:{enabled:!1},mock_shop_content:{enabled:!1},shop:{enabled:!1},pcom_search:{enabled:!1},shop_wishlist:{enabled:!1}},preview:{featureOverrideEnabled:{enabled:!0},homenav_1723:{enabled:!0},navi_3:{enabled:!1},porsche_75_years_logo:{enabled:!1},one_ui:{enabled:!1},mock_shop_content:{enabled:!1},shop:{enabled:!1},pcom_search:{enabled:!1},shop_wishlist:{enabled:!1}},test:{featureOverrideEnabled:{enabled:!0},homenav_1723:{enabled:!0},navi_3:{enabled:!0},porsche_75_years_logo:{enabled:!1},one_ui:{enabled:!1},mock_shop_content:{enabled:!1},shop:{enabled:!1},pcom_search:{enabled:!1},shop_wishlist:{enabled:!1}},production:{featureOverrideEnabled:{enabled:!1},homenav_1723:{enabled:!1},navi_3:{enabled:!0},porsche_75_years_logo:{enabled:!1},mock_shop_content:{enabled:!1},shop:{enabled:!1},pcom_search:{enabled:!1},shop_wishlist:{enabled:!1}}},h=new class F{constructor(){this.initialBodyStyleValues={top:"",position:"",inlineSize:"",overflowY:""},this.initialDocumentScrollTop=0}get location(){return window.location}set location(e){window.location=e}get sessionStorage(){return window.sessionStorage}get localStorage(){return window.localStorage}set version(e){Object.assign(window,{PHN_HEADER_VERSION:e})}set navigationLoaded(e){Object.assign(window,{PHN_NAVIGATION_LOADED:e})}get bodyOverflow(){return document.body.style.overflow}get bodyHeight(){return document.body.style.height}requestAnimationFrame(e){return window.requestAnimationFrame(e)}createDiv(){return window.document.createElement("div")}getBreakpoint(){const e=Math.max(window.document.documentElement.clientWidth,window.innerWidth||0),t=Object.keys(l.o).reverse().find(n=>(0,l.u)(l.o,n)&&e>=l.o[n]);return"string"==typeof t&&(0,l.u)(l.o,t)?l.o[t]:0}get redirected(){return!0===window.REDIRECTED||window.location.search.includes("cs_redirect=")}createIframe(e,t){const n=window.document.createElement("iframe");n.id=e,n.style.display="none",n.src=t,window.document.body.appendChild(n)}removeElement(e){var t;null===(t=window.document.getElementById(e))||void 0===t||t.remove()}redirectToUrl(e){window.location.assign(e)}generateRandom(e){const n=new Uint8Array(e);window.crypto.getRandomValues(n);const i=[];for(let s=0;s<n.byteLength;s+=1)i.push("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"[n[s]%62]);return i.join("")}maybeCheckMarketingConsent(e){var t,n,i,s,a,c,b,R,C,y,L;const P={processorId:null!==(i=null===(n=null===(t=window.GlobalConsent)||void 0===t?void 0:t.Processor)||void 0===n?void 0:n.googleMaps)&&void 0!==i?i:"Google Maps",timeoutVar:{},mapContainer:"",callbacks:{success:e}};return"function"==typeof(null===(a=null===(s=window.PCOM)||void 0===s?void 0:s.globalConsent)||void 0===a?void 0:a.checkConsent)?(null===(R=null===(b=null===(c=window.PCOM)||void 0===c?void 0:c.globalConsent)||void 0===b?void 0:b.checkConsent)||void 0===R||R.call(b,P),!0):"function"==typeof(null===(C=window.ucPrivacyShield)||void 0===C?void 0:C.checkConsent)?(null===(L=null===(y=window.ucPrivacyShield)||void 0===y?void 0:y.checkConsent)||void 0===L||L.call(y,P),!0):(e(),!1)}deriveChallenge(e){return(0,d.Z)(function*(){if(e.length<43||e.length>128)throw new r.N("invalid code length",r.a.INVALID_INPUT);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let c=0;c<e.length;c++)n[c]=e.charCodeAt(c);const i=yield window.crypto.subtle.digest("SHA-256",n),s=new Uint8Array(i);let a="";for(let c=0;c<s.byteLength;c++)a+=String.fromCharCode(s[c]);return window.btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")})()}hashString(e){return(0,d.Z)(function*(){const t=(new TextEncoder).encode(e),n=yield window.crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(s=>s.toString(16).padStart(2,"0")).join("")})()}getScrollbarWidth(){const e=window.document.createElement("div");e.style.overflow="scroll",window.document.body.appendChild(e);const t=e.offsetWidth-e.clientWidth;return window.document.body.removeChild(e),Number.isNaN(t)?"0px":`${t}px`}fetchGoogleMapsApi(e,t=`https://maps.googleapis.com/maps/api/js?key=${e}&libraries=places`){return(0,d.Z)(function*(){if(void 0!==window.google&&void 0!==window.google.maps&&void 0!==window.google.maps.version||document.getElementById("googleMaps"))return window.google;const i=document.createElement("script");return i.src=t,i.id="googleMaps",document.head.appendChild(i),new Promise((s,a)=>{i.onerror=()=>{a(new r.N("Failed to load google maps script.",r.a.GENERAL))},i.onload=()=>{s(window.google)}})})()}getNavigatorLatLong(){return(0,d.Z)(function*(){return new Promise((e,t)=>{window.navigator.geolocation.getCurrentPosition(({coords:{latitude:n,longitude:i}})=>{e({latitude:n,longitude:i})},n=>t(new r.N(`geolocation.getCurrentPosition failed with ${n.code}: ${n.message}`,function k(E){switch(E.code){case E.PERMISSION_DENIED:return r.a.GEOLOCATION_DENIED;case E.POSITION_UNAVAILABLE:case E.TIMEOUT:return r.a.RETRY;default:return r.a.GENERAL}}(n))))})})()}getCookie(e){var t;return(0,l.g)(null===(t=document.cookie.split("; ").find(n=>n.startsWith(`${e}=`)))||void 0===t?void 0:t.split("=")[1])}setCookie(e,t){document.cookie=`${e}=${t};domain=${l.C};expires=${new Date(Date.now()+10*l.M).toUTCString()};`}btoa(e){return window.btoa(e)}lockScroll(){this.initialBodyStyleValues=(0,l.x)(document.body.style,this.initialBodyStyleValues),this.initialDocumentScrollTop=document.documentElement.scrollTop,document.body.style.top=`-${document.documentElement.scrollTop}px`,document.body.style.position="fixed",document.body.style.inlineSize="100%",document.body.style.overflowY="scroll"}unlockScroll(){Object.entries(this.initialBodyStyleValues).forEach(([e,t])=>document.body.style.setProperty((0,l.y)(e),t)),document.documentElement.scrollTop=this.initialDocumentScrollTop}hasScrollbar(){return window.document.body.offsetHeight>window.innerHeight}waitForElement(e,t){return(0,d.Z)(function*(){if(!(0,l.i)(t))return e;const n=(0,l.t)(e.querySelector(t));return null!==n?n:new Promise(i=>{const s=new MutationObserver(()=>{const a=(0,l.t)(e.querySelector(t));null!==a&&(i(a),s.disconnect())});s.observe(e,{childList:!0,subtree:!0})})})()}},M=new class H{constructor(){this.version=l.V,this.breakpoint=0,this.locale=null}init(e,t){this.breakpoint=h.getBreakpoint(),this.locale=t}log(e,t,n,i,s){const{env:a}=r.n.state;if(a!==r.c.TEST)try{const c=JSON.stringify({name:e,level:t,env:a,breakpoint:this.breakpoint,locale:this.locale,version:this.version,hostname:h.location.hostname,pathname:h.location.pathname,id:n,errorType:s||"",message:i});a!==r.c.PRODUCTION&&console[t](c)}catch{}}info(e,t=""){this.log("PHN_HEADER_LOG_ENTRY","info",e,t)}error(e,t){this.log("PHN_HEADER_LOG_ENTRY","error",e,t.message,t instanceof r.N?t.type:r.a.GENERAL)}},V=new class B{constructor(e=(0,r.g)(l.v),t=U){this.featureEnvMap=t,this.features={},this.env="local",this.isShopToggleActive=()=>this.isFeatureEnabled("shop",h.location.search),this.isPcomSearchToggleActive=()=>this.isFeatureEnabled("pcom_search",h.location.search),this.isSavedItemsToggleActive=()=>this.isFeatureEnabled("saved_items",h.location.search),this.isABTestingToggleActive=()=>this.isFeatureEnabled("ab",h.location.search),this.isDealerSearchChinaEnabled=()=>this.isFeatureEnabled("dealer_search_china",h.location.search),this.isDealerSearchOpeningHoursEnabled=()=>this.isFeatureEnabled(m,h.location.search),this.isSentryEnabled=()=>this.isFeatureEnabled(w,h.location.search),this.isShopWishlistToggleActive=()=>this.isFeatureEnabled("shop_wishlist",h.location.search),this.env=e,this.features=this.featureEnvMap[e]}loadRemoteToggles(){var e=this;return(0,d.Z)(function*(){try{const t=(0,l.a)(e.env).BFF_ENDPOINT,n=yield fetch(`${t}/toggles?env=${e.env}`);if(!n.ok){const s=yield n.text();throw new Error(s)}const i=yield n.json();e.features=i}catch(t){throw new r.N(`Load Feature Toggles failed with error: ${t}`,r.a.GENERAL)}})()}stringToBooleanStrict(e){return"true"===e||"false"!==e&&null}getUrlFeatureToggleOverride(e,t){var n,i;const s=null===(i=null===(n=t.split("?")[1])||void 0===n?void 0:n.split("&").find(a=>a.includes(e)))||void 0===i?void 0:i.split("=")[1];return(0,l.i)(s)?this.stringToBooleanStrict(s||""):null}getLocalStorageFeatureToggleOverride(e){const t=localStorage.getItem(`phn.${e}`);return(0,l.i)(t)?this.stringToBooleanStrict(t):null}isFeatureEnabled(e,t){var n;if(void 0===this.features||this.env===r.c.PRODUCTION&&this.isOnSecurityLayer(e))return!1;if(null!==(n=this.features.featureOverrideEnabled)&&void 0!==n&&n.enabled){const i=[this.getUrlFeatureToggleOverride(e,t),this.getLocalStorageFeatureToggleOverride(e)];for(const s of i)if(null!==s)return s}return void 0!==this.features[e]&&this.features[e].enabled}setFeatures(e){var t=this;return(0,d.Z)(function*(){t.env=e;try{if("test"===e)return void(t.features=t.featureEnvMap[e]);yield t.loadRemoteToggles()}catch(n){M.error("INIT_APP_CONFIG",n),t.features=t.featureEnvMap[e]}})()}isOnSecurityLayer(e){return[w,m].includes(e)}}},740:(D,v,u)=>{u.d(v,{R:()=>l,a:()=>r,b:()=>N,c:()=>g,d:()=>A,e:()=>S,f:()=>f,g:()=>m,h:()=>p,i:()=>T,j:()=>O,r:()=>w});var d=u(58);const r={MAIN_MENU:"mainmenu",DEALER_SEARCH:"find_a_dealer",MORE:"more",SHOP:"shop",SERIES:"series",MY_PORSCHE:"my_porsche",VEHICLE_PURCHASE:"vehicle_purchase",EXPERIENCE:"experience",SERVICES:"services",MODELS:"models"};var l=function(o){return o[o.LEVEL_ZERO=-1]="LEVEL_ZERO",o[o.LEVEL_ONE=0]="LEVEL_ONE",o[o.LEVEL_TWO=1]="LEVEL_TWO",o}(l||{});function g(...o){return o.reduce((_,I)=>[..._,...(0,d.g)(I).split("/")],[]).filter(Boolean).join("/")}function f(o){if((0,d.i)(o))return Object.values(r).find(_=>o.startsWith(_))}function p(...o){return g(r.MODELS,...o)}function S(...o){return g(r.DEALER_SEARCH,...o)}function O(...o){return g(r.MY_PORSCHE,...o)}function T(...o){return g(r.VEHICLE_PURCHASE,...o)}function m(o){return o.split("/").slice(-1)[0]}function w(o){return o.split("/").slice(0,-1).join("/")}function A(o){switch(f(o)){case r.MAIN_MENU:return 1;case o:return 2;default:return o.split("/").length+1}}function N(o){const _=w(o);return(0,d.i)(_)?_:r.MAIN_MENU}}}]);