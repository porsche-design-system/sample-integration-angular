"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[667],{667:(v,f,n)=>{n.r(f),n.d(f,{phn_single_drawer:()=>b});var p=n(861),i=n(510),m=n(376),w=n(216),E=n(802),r=n(243),D=n(564),x=n(477),c=n(62),h=n(569),u=n(574),P=n(780),_=n(492);function y({routingKey:e,previousRoutingKey:a,breakpoint:t,locale:d,showBackButton:s,receivedContent:o}){const{menu:l}=c.a.state,g=(0,x.a)(c.a.state,a??"")||l.text;return(0,i.h)(i.F,null,(0,i.h)("div",{class:"bottom-gradient"}),(0,i.h)("div",{class:"drawer-content"},(0,i.h)("phn-drawer-header",{showBackButton:s,backButtonAnalyticsId:l.id,backButtonText:g,activeRoutingKey:e,breakpoint:t,receivedContent:o,locale:d}),(0,i.h)("phn-router",{activeRoutingKey:e,breakpoint:t,locale:d,receivedContent:o})))}n(273),n(97),n(926),n(981);const b=class{constructor(e){(0,i.r)(this,e),this.drawerClosed=(0,i.c)(this,"drawerClosed",7),this.drawerChanged=(0,i.c)(this,"drawerChanged",7),this.drawerStartsClosing=(0,i.c)(this,"drawerStartsClosing",7),this.backdropClosed=(0,i.c)(this,"backdropClosed",7),this.phnDrawerStatus=(0,i.c)(this,"phnDrawerStatus",7),this.focusTimeout=new D.T(0),this.operationPipeline=[],this.breakpoint=void 0,this.locale=void 0,this.usingKeyboard=!1,this.routingKeyHistory=void 0,this.routingKeyPointer=void 0,this.receivedContent=!1,this.animatingPointer=-1}handleKeyDown(e){if("Tab"!==e.key)return;const a=(0,r.u)(e.target);if(null===a)return;let t=(0,P.g)(this.el.querySelector(".active"));if(0===t.length)return;this.routingKeyHistory[this.routingKeyPointer].startsWith(m.a.DEALER_SEARCH)&&(t=t.filter(l=>"BUTTON"!==l.nodeName&&"A"!==l.nodeName));const s=t[0],o=t[t.length-1];return a===s&&e.shiftKey?(e.preventDefault(),void(null!==o&&(0,r.p)(o))):a!==o||e.shiftKey?void 0:(e.preventDefault(),void(null!==s&&(0,r.p)(s)))}handleMobileMenuItemClick(e){(0,h.i)()?e.stopPropagation():this.animatingPointer=this.routingKeyPointer}handleClickDrawerHeaderClose(e){(0,h.i)()&&e.stopPropagation()}handleClickDrawerHeaderBack(e){(0,h.i)()?e.stopPropagation():this.animatingPointer=this.routingKeyPointer}onTransitionEnd(){var e=this;const a=this.animatingPointer>this.routingKeyPointer?this.routingKeyHistory[this.animatingPointer]:"";this.animatingPointer=this.routingKeyPointer,this.drawerChanged.emit(this.routingKeyPointer<this.routingKeyHistory.length-1),this.focusTimeout.set((0,p.Z)(function*(){e.focusOnActiveDrawer(a)})),this.sendDataLayerEvent()}componentWillLoad(){(0,h.r)({onAnimationStarts:()=>{this.phnDrawerStatus.emit({status:r.B.startOpening})},onAnimationEnds:()=>{this.onTransitionEnd(),this.phnDrawerStatus.emit({status:r.B.finishOpening})}}),(0,h.a)({onAnimationStarts:()=>{this.phnDrawerStatus.emit({status:r.B.startClosing})},onAnimationEnds:()=>{this.backdropClosed.emit(),this.phnDrawerStatus.emit({status:r.B.finishClosing})}}),(0,h.b)({onAnimationEnds:()=>this.onTransitionEnd()}),(0,h.c)({onAnimationEnds:()=>this.onTransitionEnd()})}focusOnActiveDrawer(e){const a=(0,r.u)(this.el.querySelector(".active .autofocus"));if(null===a)if(this.usingKeyboard){let t=null;(0,r.i)(e)&&(t=(0,r.u)(this.el.querySelector(`.active [data-id="${e}"]`))),null===t&&(t=(0,r.u)(this.el.querySelector(`.active ${r.F}`))),null!==t&&(0,r.p)(t)}else{const t=(0,r.u)(this.el.querySelector(".first-focus"));null!==t&&(0,r.p)(t)}else(0,r.p)(a)}sendDataLayerEvent(){u.a.setDrawerType(c.e.SingleDrawer),E.g.pushDataLayerEvent(c.E.DRAWER_LOAD,{componentDisplay:{displayElementType:u.a.calculateDisplayElementType(this.routingKeyHistory[this.routingKeyPointer],c.f.singleDrawer),displayElementId:u.a.calculateDisplayElementId(),displayElementName:"Single Drawer"}})}disconnectedCallback(){this.focusTimeout.cancel()}componentDidRender(){var e=this;return(0,p.Z)(function*(){const a=[];for(const t of e.operationPipeline){const d=t();(0,r.t)(d)&&a.push(d)}yield Promise.all(a),e.operationPipeline.splice(0,e.operationPipeline.length)})()}render(){var e,a;const t=this.routingKeyPointer>this.animatingPointer,d=this.routingKeyPointer<this.animatingPointer;let s=-1,o=this.routingKeyPointer;t?(s=this.routingKeyPointer,o=this.animatingPointer,o!==m.R.LEVEL_ZERO&&this.operationPipeline.push((0,p.Z)(function*(){w.a.play(_.A.TRANSITION_NEXT_LEVEL_SINGLE_DRAWER)}))):d&&(s=this.animatingPointer,o!==m.R.LEVEL_ZERO&&this.operationPipeline.push((0,p.Z)(function*(){w.a.play(_.A.TRANSITION_PREVIOUS_LEVEL_SINGLE_DRAWER)})));const l=null!==(e=this.routingKeyHistory[s])&&void 0!==e?e:"",g=null!==(a=this.routingKeyHistory[o])&&void 0!==a?a:"";return(0,i.h)(i.H,null,(0,r.i)(g)?(0,i.h)("div",{class:"drawer active",key:g},(0,i.h)("span",{class:"first-focus",tabIndex:-1,"aria-hidden":"true"}),(0,i.h)(y,{routingKey:g,previousRoutingKey:this.routingKeyHistory[o-1],breakpoint:this.breakpoint,locale:this.locale,showBackButton:o>0,receivedContent:this.receivedContent})):null,(0,r.i)(l)?(0,i.h)("div",{class:"drawer animating",style:t?{right:"-100%"}:{},key:l},(0,i.h)(y,{routingKey:l,previousRoutingKey:this.routingKeyHistory[s-1],breakpoint:this.breakpoint,locale:this.locale,showBackButton:s>0,receivedContent:this.receivedContent})):null)}get el(){return(0,i.g)(this)}};b.style="@-webkit-keyframes slideDown{from{max-height:0}to{max-height:1000px}}@keyframes slideDown{from{max-height:0}to{max-height:1000px}}@-webkit-keyframes slideUp{from{max-height:1000px}to{max-height:0}}@keyframes slideUp{from{max-height:1000px}to{max-height:0}}@-webkit-keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@-webkit-keyframes slideRight{from{max-width:1000px}to{max-width:0}}@keyframes slideRight{from{max-width:1000px}to{max-width:0}}@-webkit-keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@-webkit-keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@-webkit-keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@-webkit-keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@-webkit-keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@-webkit-keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}.phn-flex-col.sc-phn-single-drawer{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.phn-flex-row.sc-phn-single-drawer{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.phn-align-center.sc-phn-single-drawer{-ms-flex-align:center;align-items:center}.phn-justify-around.sc-phn-single-drawer{-ms-flex-pack:distribute;justify-content:space-around}.phn-justify-between.sc-phn-single-drawer{-ms-flex-pack:justify;justify-content:space-between}.phn-flex-wrap.sc-phn-single-drawer{-ms-flex-wrap:wrap;flex-wrap:wrap}.sc-phn-single-drawer-h{display:block}.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer{z-index:301;background-color:#fff;position:fixed;top:0;bottom:0;right:0;width:100vw}.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer{overflow-y:auto;height:100vh;width:100vw;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 1.6875rem 6.25rem 1.6875rem}@media (min-width: 480px){.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer{padding:0 2.1875rem 6.25rem 2.1875rem}}@media (min-width: 760px){.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer{padding:0 3.375rem 6.25rem 3.375rem}}@media (min-width: 1000px){.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer{padding:0 2.25rem 6.25rem 2.25rem}}.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer phn-drawer-header.sc-phn-single-drawer{-webkit-box-sizing:border-box;box-sizing:border-box;margin-top:1.125rem;margin-bottom:1.9375rem}@media (min-width: 480px){.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer phn-drawer-header.sc-phn-single-drawer{margin-top:2rem;margin-bottom:2.3125rem}}@media (min-width: 760px){.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer phn-drawer-header.sc-phn-single-drawer{margin-bottom:1.25rem}}.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .drawer-content.sc-phn-single-drawer phn-router.sc-phn-single-drawer{padding-bottom:4rem}.sc-phn-single-drawer-h .drawer.sc-phn-single-drawer .bottom-gradient.sc-phn-single-drawer{height:10rem;background:-webkit-gradient(linear, left top, left bottom, from(rgba(255, 255, 255, 0)), to(rgb(255, 255, 255)));background:linear-gradient(to bottom, rgba(255, 255, 255, 0), rgb(255, 255, 255));opacity:1;position:absolute;width:100%;bottom:0;margin-left:-1.5rem;pointer-events:none;margin-left:0;z-index:1}"}}]);