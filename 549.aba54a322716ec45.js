"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[549],{5276:(h,D,t)=>{t.d(D,{a:()=>p});var s=t(1513),e=t(21),l=t(3812),r=t(5201);const g={},p={setDrawerType:function f(c){g.drawerType=c},calculateDisplayElementId:function S(c){const{drawerType:d}=g,n=((0,l.i)(c)?(0,s.b)(c):e.r.state.routingKeyHistory[e.r.state.routingKeyPointer])||"",a=(0,s.g)(n),i=(0,s.d)(n),o=i-1;if(!(0,l.i)(n))return"level0";const L=(0,l.i)(n)?`level${i}-${a}`:`level${i-1}-unknown`;return"doubleDrawer"===d?""===n?`level${o}-unknown_level${i}-unknown`:`level${o}-${(0,r.g)(n)}_${L}`:L},calculateDisplayElementType:function u(c,d,n){const{drawerType:a}=g,i=(0,s.d)(c);if("doubleDrawer"===a){let o=i;return n&&(o-=1),`level${o}_${d}`}return(0,l.i)(c)?`level${i}_${d}`:`level${i-1}_${d}`},getModelName:function I(c){const d=c.link.split("/"),n=d[d.length-1];let a;return a=""===n?void 0===d[d.length-2]?"":d[d.length-2].split("-").join(" "):n.split("-").join(" "),a},getModelTargetElement:function O(c,d){if(c.includes("models"))return`level${(0,s.d)(c)}_${d.toLowerCase()}`}}},5818:(h,D,t)=>{t.d(D,{s:()=>g});var s=t(6369),e=t(2257),l=t(5276),r=t(1513);function g({datalayerEventAction:f=s.E.NAVIGATION_CLICK,analyticsId:S,text:u,link:I,elementId:O,clickElementType:p,customDatalayerProperties:c={}}){e.g.pushDataLayerEvent(f,Object.assign(Object.assign({componentClick:Object.assign({clickElementId:S,clickElementName:u,targetElement:l.a.getModelTargetElement(O,u),clickElementType:p},p===s.C.Link?{targetUrl:I}:{}),componentDisplay:{displayElementId:l.a.calculateDisplayElementId(O),displayElementType:l.a.calculateDisplayElementType((0,r.r)(O),s.c.menuItem),displayElementName:u}},c),f===s.E.MODEL_RANGE_CLICK?{car:{modelRangeName:u.toLowerCase()}}:{}))}},6316:(h,D,t)=>{t.d(D,{d:()=>r});var s=t(8314),e=t(6671),l=t(3812);const r=(0,s.c)({searchTerm:"",results:[],savedDealerCookie:function g(){try{return JSON.parse(e.w.getCookie(l.S))}catch{return null}}(),ppnDealers:{}});r.onChange("savedDealerCookie",f=>{e.w.setCookie(l.S,JSON.stringify(f))})},7540:(h,D,t)=>{t.d(D,{c:()=>f,g:()=>l,i:()=>r});var s=t(5861),e=t(6369);const l=()=>e.f.isOneUiToggleActive()?"default":"pds2";function r(){return g.apply(this,arguments)}function g(){return(g=(0,s.Z)(function*(){if(e.f.isOneUiToggleActive()){const{load:u}=yield t.e(958).then(t.bind(t,8958));u({prefix:"phn"})}else{const{load:u}=yield t.e(613).then(t.bind(t,4613));u({prefix:"phn"})}})).apply(this,arguments)}function f(u){return S.apply(this,arguments)}function S(){return(S=(0,s.Z)(function*(u){let I;if(e.f.isOneUiToggleActive()){const{componentsReady:O}=yield t.e(958).then(t.bind(t,8958));I=O}else{const{componentsReady:O}=yield t.e(613).then(t.bind(t,4613));I=O}yield I(u)})).apply(this,arguments)}},5201:(h,D,t)=>{t.d(D,{a:()=>p,b:()=>c,c:()=>d,d:()=>S,e:()=>f,f:()=>I,g:()=>u});var s=t(6369),e=t(1513),l=t(6316),r=t(3812),g=t(5267);function f(n,a,i,o,L,E){const{dealer:C,models:M,myPorsche:m,vehiclePurchase:_,shop:P,experience:y,services:R}=n,{savedDealerCookie:A,ppnDealers:T}=a,v=null!==A?T[A.id]:void 0,x=[e.a.DEALER_SEARCH];void 0!==v&&x.push((0,e.c)(v.ppnDealer.id));const U=[{elementId:e.a.MODELS,routingKeys:[e.a.MODELS],analyticsId:M.id,text:M.text},{elementId:e.a.VEHICLE_PURCHASE,routingKeys:[e.a.VEHICLE_PURCHASE],analyticsId:_.id,text:_.text},{elementId:e.a.SERVICES,routingKeys:[e.a.SERVICES],analyticsId:R.id,text:R.text},{elementId:e.a.EXPERIENCE,routingKeys:[e.a.EXPERIENCE],analyticsId:y.id,text:y.text}],K={elementId:e.a.DEALER_SEARCH,routingKeys:x,analyticsId:C.id,text:C.text};if(null!==P&&""!==P.text){const H={elementId:e.a.SHOP,routingKeys:[e.a.SHOP],analyticsId:P.id,text:P.text,link:(0,r.i)(P.link)?P.link:void 0,datalayerEventAction:s.E.NAVIGATION_LINK_CLICK,iconRight:"external"};U.splice(2,0,H)}if(function O(n,a){try{const{country:i}=(0,s.s)(n);return"CN"!==i&&!(0,s.i)(i)&&a}catch{}return!0}(i,E)){const H=v?.ppnDealer.nameLocalized?v?.ppnDealer.nameLocalized:v?.ppnDealer.name;(0,r.i)(H)&&(K.subtext=H)}else K.link=C.search.map.link,K.onClick=void 0;if(U.push(K),null!==m){const H=(0,r.I)(o),N=H?(0,r.w)(o,m.loggedInFallback):void 0;U.push({elementId:e.a.MY_PORSCHE,routingKeys:[e.a.MY_PORSCHE],analyticsId:m.id,text:m.text,subtext:N,showIconModifier:H&&L>0})}return U}function S(n,a,i,o,L,E,C){const M=s.f.isOneUiToggleActive(),m=(0,e.f)(E);switch(m){case E:break;case e.a.MODELS:return n.models.series.map(_=>({elementId:(0,e.h)(_.id),routingKeys:[(0,e.h)(_.id)],analyticsId:_.id,text:_.name,subtext:_.tags.map(P=>P.text).join(" | "),renderSignatures:M,datalayerEventAction:s.E.MODEL_RANGE_CLICK}));case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const _=(0,e.r)(E),P=I(n,_,m);if(null!==P)return P.children.map(y=>({elementId:(0,e.e)(_,y.id),routingKeys:[(0,e.e)(_,y.id)],analyticsId:y.id,text:y.text,link:y.link}));break}}return f(n,a,i,o,L,C)}function u(n){switch((0,e.f)(n)){case n:break;case e.a.DEALER_SEARCH:return e.a.DEALER_SEARCH;case e.a.MODELS:return e.a.MODELS;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const i=(0,e.r)(n);return(0,e.g)(i)}}return e.a.MAIN_MENU}function I(n,a,i){const{vehiclePurchase:o,experience:L,shop:E,legacyMore:C,services:M}=n,m={[e.a.VEHICLE_PURCHASE]:o,[e.a.EXPERIENCE]:L,[e.a.SHOP]:E,[e.a.MORE]:C,[e.a.SERVICES]:M}[i];if(void 0===m)return null;const _=(0,e.g)(a);return _===i?m:(0,s.d)(m,_)}function p(n,a){if(!(0,r.i)(a))return"";const i=(0,e.f)(a);switch(i){case e.a.MODELS:return n.models.text;case e.a.DEALER_SEARCH:return n.dealer.details.backToSearch;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.MORE:case e.a.EXPERIENCE:{const o=I(s.n.state,a,i);if(null!==o)return o.text;break}}return""}function c(n,a,i){var o;const{dealer:L,myPorsche:E,models:C,vehiclePurchase:M,experience:m,shop:_,legacyMore:P,services:y}=n;let R;switch(i){case e.a.MORE:case e.a.SHOP:case e.a.EXPERIENCE:case e.a.SERVICES:case e.a.VEHICLE_PURCHASE:{if(R={[e.a.VEHICLE_PURCHASE]:M,[e.a.EXPERIENCE]:m,[e.a.SHOP]:_,[e.a.MORE]:P,[e.a.SERVICES]:y}[i],void 0===R)return"";const A=(0,e.g)(a);return A===i?R?.text:null===(o=(0,s.d)(R,A))||void 0===o?void 0:o.text}case e.a.SERIES:case e.a.MODELS:{const A=(0,e.g)(a);return R=C.series.find(T=>A===T.id),void 0===R?C.text:R?.id}case e.a.DEALER_SEARCH:return L.search.text;case e.a.MY_PORSCHE:return E?.text}return""}function d(n,a){const{myPorsche:i,models:o}=s.n.state,{loggedInState:L}=g.n.state;if(n===e.a.MY_PORSCHE)return(0,r.I)(L)?(0,r.w)(L,i?.loggedInFallback||""):"";if(n===e.a.DEALER_SEARCH){const{savedDealerCookie:E,ppnDealers:C}=l.d.state;return E?C[E.id].ppnDealer.name:""}if(n===e.a.MODELS&&(0,r.i)(a)){const E=(0,e.g)(a),C=o.series.find(M=>E===M.id);if(C)return C.tags.map(M=>M.text).join(" | ")}return""}},5267:(h,D,t)=>{t.d(D,{n:()=>l});var s=t(8314),e=t(3812);const l=(0,s.c)({loggedInState:e.L,unreadMessagesCount:e.D,userConsent:!1,env:(0,s.g)(e.v)})},21:(h,D,t)=>{t.d(D,{r:()=>e});const e=(0,t(8314).c)({routingKeyHistory:[],routingKeyPointer:-1,initialRoutingKeyHistory:null,initialRoutingKeyPointer:null})},1513:(h,D,t)=>{t.d(D,{R:()=>l,a:()=>e,b:()=>d,c:()=>S,d:()=>c,e:()=>r,f:()=>g,g:()=>O,h:()=>f,i:()=>I,j:()=>u,r:()=>p});var s=t(3812);const e={MAIN_MENU:"mainmenu",DEALER_SEARCH:"find_a_dealer",MORE:"more",SHOP:"shop",SERIES:"series",MY_PORSCHE:"my_porsche",VEHICLE_PURCHASE:"vehicle_purchase",EXPERIENCE:"experience",SERVICES:"services",MODELS:"models"};var l=(()=>{return(n=l||(l={}))[n.LEVEL_ZERO=-1]="LEVEL_ZERO",n[n.LEVEL_ONE=0]="LEVEL_ONE",n[n.LEVEL_TWO=1]="LEVEL_TWO",l;var n})();function r(...n){return n.reduce((a,i)=>[...a,...(0,s.g)(i).split("/")],[]).filter(Boolean).join("/")}function g(n){if((0,s.i)(n))return Object.values(e).find(a=>n.startsWith(a))}function f(...n){return r(e.MODELS,...n)}function S(...n){return r(e.DEALER_SEARCH,...n)}function u(...n){return r(e.MY_PORSCHE,...n)}function I(...n){return r(e.VEHICLE_PURCHASE,...n)}function O(n){return n.split("/").slice(-1)[0]}function p(n){return n.split("/").slice(0,-1).join("/")}function c(n){switch(g(n)){case e.MAIN_MENU:return 1;case n:return 2;default:return n.split("/").length+1}}function d(n){const a=p(n);return(0,s.i)(a)?a:e.MAIN_MENU}}}]);