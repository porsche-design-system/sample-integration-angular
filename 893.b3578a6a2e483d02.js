"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[893],{893:(ne,F,m)=>{m.r(F),m.d(F,{phn_autocomplete_search_field:()=>B,phn_dealer_details_drawer:()=>j,phn_dealer_search_by_number_of_dealers:()=>U,phn_dealer_search_form_dropdown:()=>K,phn_dealer_search_form_geolocation:()=>z,phn_dealer_search_results:()=>$,phn_menu_item_card:()=>G,phn_myporsche_login:()=>W});var g=m(861),t=m(565),s=m(556),n=m(49),y=m(862),E=m(551),l=m(213),I=m(152),D=m(22),p=m(247),P=m(600),A=m(742),_=m(181),O=m(997),H=m(638);m(843),m(945);const B=class{constructor(e){(0,t.r)(this,e),this.searchInput=(0,t.c)(this,"searchInput",7),this.clearSearch=(0,t.c)(this,"clearSearch",7),this.submitSearch=(0,t.c)(this,"submitSearch",7),this.predictionsToggle=(0,t.c)(this,"predictionsToggle",7),this.autoCompleteLoaded=(0,t.c)(this,"autoCompleteLoaded",7),this.placeholder=void 0,this.predictions=void 0,this.initialValue="",this.errorState="",this.errorMessage="",this.showPredictions=!1,this.highlightedPredictionIndex=-1,this.searchterm=this.initialValue}clickListener(e){this.showPredictions=e.composedPath()[0]===this.el.querySelector("input.autofocus")&&this.predictions.length>0}keydownListener(e){"Escape"===e.key&&this.showPredictions&&(e.preventDefault(),e.stopPropagation(),this.showPredictions=!1)}watchShowPredictions(e){this.predictionsToggle.emit(e)}watchInitialValue(){this.searchterm=this.initialValue}componentDidRender(){this.autoCompleteLoaded.emit(!0)}onKeyDown(e){if(0!==this.predictions.length){switch(e){case"ArrowDown":if(!this.showPredictions)return;if(this.highlightedPredictionIndex===this.predictions.length-1){this.highlightedPredictionIndex=0;break}this.highlightedPredictionIndex++;break;case"ArrowUp":if(!this.showPredictions)return;if(this.highlightedPredictionIndex<0){this.highlightedPredictionIndex=0;break}if(0===this.highlightedPredictionIndex){this.highlightedPredictionIndex=this.predictions.length-1;break}this.highlightedPredictionIndex--}this.highlightedPredictionIndex>-1&&(this.searchterm=this.predictions[this.highlightedPredictionIndex].text)}}onSubmit(){const e=this.highlightedPredictionIndex<0?this.predictions[0]:this.predictions[this.highlightedPredictionIndex];this.submitSearch.emit(e??null),this.showPredictions=!1,void 0!==e&&(this.searchterm=e.text)}render(){return(0,t.h)("form",{class:"form-container",onSubmit:e=>{e.preventDefault(),this.onSubmit()}},(0,t.h)("phn-p-text-field-wrapper",{"data-test-id":"dealer-search-form-input",state:(0,n.i)(this.errorMessage)?"error":"none",message:this.errorMessage},(0,t.h)("input",{class:"autofocus","aria-label":"Find a dealer by typing a city name or zip code",type:"search",placeholder:this.placeholder,autocomplete:"off",role:"combobox","data-validate":"required","aria-expanded":(this.predictions.length>0&&this.showPredictions).toString(),"aria-controls":"predictions","aria-autocomplete":"list","aria-activedescendant":this.showPredictions?String(this.highlightedPredictionIndex):void 0,value:this.searchterm,onInput:e=>{var a;e.preventDefault(),this.showPredictions=!0,this.highlightedPredictionIndex=-1;const r=null===(a=(0,n.O)(e.target))||void 0===a?void 0:a.value;if(!(0,n.i)(r))return this.searchterm="",this.showPredictions=!1,void this.clearSearch.emit();this.searchInput.emit(r)},onKeyDown:e=>{this.onKeyDown(e.key)}})),this.predictions.length>0&&this.showPredictions?(0,t.h)("div",{class:"prediction-container"},(0,t.h)("ul",{id:"predictions","data-test-id":"dealer-search-autocomplete-predictions",role:"listbox","aria-label":"List of location predictions"},this.predictions.map((e,a)=>(0,t.h)("li",{key:e.id,class:a===this.highlightedPredictionIndex?"highlighted-prediction":"",role:"option","aria-selected":String(a===this.highlightedPredictionIndex),id:String(a),onClick:()=>{this.highlightedPredictionIndex=a,this.onSubmit()},onKeyDown:r=>{"Enter"===r.key&&this.onSubmit()}},(0,t.h)("phn-p-text",{color:"inherit"},e.text)))),(0,t.h)("img",{class:"powered-by-google",src:(0,t.d)(`${(0,n.b)(s.n.state.env).ASSETS_URL}/icon-assets/powered_by_google_on_white.png`),alt:"powered by Google"})):null)}get el(){return(0,t.g)(this)}static get watchers(){return{showPredictions:["watchShowPredictions"],initialValue:["watchInitialValue"]}}};B.style="@-webkit-keyframes slideDown{from{max-height:0}to{max-height:1000px}}@keyframes slideDown{from{max-height:0}to{max-height:1000px}}@-webkit-keyframes slideUp{from{max-height:1000px}to{max-height:0}}@keyframes slideUp{from{max-height:1000px}to{max-height:0}}@-webkit-keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@-webkit-keyframes slideRight{from{max-width:1000px}to{max-width:0}}@keyframes slideRight{from{max-width:1000px}to{max-width:0}}@-webkit-keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@-webkit-keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@-webkit-keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@-webkit-keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@-webkit-keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@-webkit-keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}.phn-flex-col.sc-phn-autocomplete-search-field{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.phn-flex-row.sc-phn-autocomplete-search-field{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.phn-align-center.sc-phn-autocomplete-search-field{-ms-flex-align:center;align-items:center}.phn-justify-around.sc-phn-autocomplete-search-field{-ms-flex-pack:distribute;justify-content:space-around}.phn-justify-between.sc-phn-autocomplete-search-field{-ms-flex-pack:justify;justify-content:space-between}.sc-phn-autocomplete-search-field-h{display:block}.sc-phn-autocomplete-search-field-h .form-container.sc-phn-autocomplete-search-field{display:block;position:relative;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.sc-phn-autocomplete-search-field-h .form-container.sc-phn-autocomplete-search-field phn-p-text-field-wrapper.sc-phn-autocomplete-search-field{width:100%}.sc-phn-autocomplete-search-field-h .form-container.sc-phn-autocomplete-search-field phn-p-text-field-wrapper.sc-phn-autocomplete-search-field input[type=search].sc-phn-autocomplete-search-field::-ms-clear{display:none;width:0;height:0}.sc-phn-autocomplete-search-field-h .form-container.sc-phn-autocomplete-search-field phn-p-text-field-wrapper.sc-phn-autocomplete-search-field input[type=search].sc-phn-autocomplete-search-field::-ms-reveal{display:none;width:0;height:0}.sc-phn-autocomplete-search-field-h .form-container.sc-phn-autocomplete-search-field phn-p-text-field-wrapper.sc-phn-autocomplete-search-field input[type=search].sc-phn-autocomplete-search-field::-webkit-search-decoration,.sc-phn-autocomplete-search-field-h .form-container.sc-phn-autocomplete-search-field phn-p-text-field-wrapper.sc-phn-autocomplete-search-field input[type=search].sc-phn-autocomplete-search-field::-webkit-search-cancel-button,.sc-phn-autocomplete-search-field-h .form-container.sc-phn-autocomplete-search-field phn-p-text-field-wrapper.sc-phn-autocomplete-search-field input[type=search].sc-phn-autocomplete-search-field::-webkit-search-results-button,.sc-phn-autocomplete-search-field-h .form-container.sc-phn-autocomplete-search-field phn-p-text-field-wrapper.sc-phn-autocomplete-search-field input[type=search].sc-phn-autocomplete-search-field::-webkit-search-results-decoration{display:none}.sc-phn-autocomplete-search-field-h .form-container.inline-search-form.sc-phn-autocomplete-search-field{margin-right:1rem}.sc-phn-autocomplete-search-field-h .prediction-container.sc-phn-autocomplete-search-field{-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:10;width:100%;background-color:white;border:1px solid #d8d8db}.sc-phn-autocomplete-search-field-h .prediction-container.sc-phn-autocomplete-search-field ul.sc-phn-autocomplete-search-field{margin-block:0;margin-inline:0;padding-inline:0;list-style-type:none}.sc-phn-autocomplete-search-field-h .prediction-container.sc-phn-autocomplete-search-field ul.sc-phn-autocomplete-search-field li.sc-phn-autocomplete-search-field{padding-left:0.75rem;padding:0.5rem 0 0.5rem 0.75rem;color:#010205}.sc-phn-autocomplete-search-field-h .prediction-container.sc-phn-autocomplete-search-field ul.sc-phn-autocomplete-search-field li.sc-phn-autocomplete-search-field:hover{color:#2762ec;background-color:#eeeff2}.sc-phn-autocomplete-search-field-h .prediction-container.sc-phn-autocomplete-search-field ul.sc-phn-autocomplete-search-field li.highlighted-prediction.sc-phn-autocomplete-search-field{color:#2762ec}.sc-phn-autocomplete-search-field-h .prediction-container.sc-phn-autocomplete-search-field .powered-by-google.sc-phn-autocomplete-search-field{margin:0.75rem 0 0.75rem 0.75rem}";const j=class{constructor(e){(0,t.r)(this,e),this.clickDrawerHeaderBack=(0,t.c)(this,"clickDrawerHeaderBack",7),this.dealerId=void 0,this.locale=void 0,this.breakpoint=void 0,this.errorMessage="",this.showSkeleton=!0}componentWillLoad(){this.waitForComponentsToLoad()}componentDidLoad(){const e=this.getDealer();E.g.pushDataLayerEvent(s.E.DEALER_DETAILS_SCREEN_LOAD,{componentDisplay:{displayElementId:p.a.getDealerResultsLoadDisplayElementId(s.k),displayElementType:p.a.getDealerResultsLoadDisplayElementType(),displayElementName:e?.name},componentSearch:{searchTerm:l.d.state.searchTerm},partner:{companyName:e?.name,companyId:e?.porschePartnerNo}})}waitForComponentsToLoad(){var e=this;return(0,g.Z)(function*(){yield(0,I.c)(e.el,new D.T(5e3)),e.showSkeleton=!1})()}getDealer(){const{ppnDealer:e}=l.d.state.ppnDealers[this.dealerId]||{};return e}renderHeading(e){return(0,t.h)(t.F,null,this.showSkeleton?(0,t.h)("div",{class:"skeleton-headline"}):null,(0,t.h)("phn-p-heading",{style:{display:this.showSkeleton?"none":""},tag:"h3",size:"large","data-test-id":"dealer-headline"},e))}render(){const e=this.getDealer();if(void 0===e)return(0,t.h)("div",null,this.errorMessage);const a=(0,s.s)(this.locale).language,{testDrive:r,finder:o,bookService:i}=s.a.state.dealer.details,d=Object.values(e.addressLocalized).every(C=>null!=C&&""!=C),c="en"===a?e.address:d?e.addressLocalized:e.address,h="en"===a?e.name:(0,n.i)(e.nameLocalized)?e.nameLocalized:e.name,u=(0,n.i)(c.street)||(0,n.i)(e.address.postalCode)||(0,n.i)(c.city),b=(0,n.i)(e.contactDetails.phoneNumber),L=(0,n.i)(e.contactDetails.emailAddress),v=(0,n.i)(e.contactDetails.homepage),S=r&&(0,n.i)(r?.text)&&(0,n.i)(r?.link),f=(0,n.i)(e.nameLocalized)||(0,n.i)(e.name);let k="";try{k=(0,s.s)(this.locale).country}catch{}const M="JP"===k?`\u3012${e.address.postalCode} ${c.city} ${c.street}`:`${c.street}, ${e.address.postalCode} ${c.city}`,w={componentSearch:{searchTerm:l.d.state.searchTerm},partner:{companyName:h,companyId:e.porschePartnerNo}};return(0,t.h)(t.H,null,f&&(0,n.n)(this.breakpoint)?this.renderHeading(h):null,u?(0,t.h)(x,{showSkeleton:this.showSkeleton,elementId:(0,y.c)(this.dealerId,"address"),analyticsId:"metafunctionalities.finddealer.map",text:M,iconLeft:"pin","data-test-id":"dealer-address",link:`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(`${c.street},${e.address.postalCode},${c.city}`)}`,target:"_blank",datalayerEventAction:s.E.DEALER_CONTACT_CLICK,customDatalayerProperties:w,variant:n.J.DealerDetails}):null,b?(0,t.h)(x,{showSkeleton:this.showSkeleton,elementId:(0,y.c)(this.dealerId,"number"),analyticsId:"metafunctionalities.finddealer.phone",text:e.contactDetails.phoneNumber,iconLeft:"phone","data-test-id":"dealer-phonenumber",link:`tel:${e.contactDetails.phoneNumber}`,datalayerEventAction:s.E.DEALER_CONTACT_CLICK,customDatalayerProperties:w,variant:n.J.DealerDetails}):null,L?(0,t.h)(x,{showSkeleton:this.showSkeleton,elementId:(0,y.c)(this.dealerId,"email"),analyticsId:"metafunctionalities.finddealer.email",text:e.contactDetails.emailAddress,iconLeft:"email","data-test-id":"dealer-email",link:`mailto:${e.contactDetails.emailAddress}`,datalayerEventAction:s.E.DEALER_CONTACT_CLICK,customDatalayerProperties:w,variant:n.J.DealerDetails}):null,v?(0,t.h)(x,{showSkeleton:this.showSkeleton,elementId:(0,y.c)(this.dealerId,"homepage"),analyticsId:"metafunctionalities.finddealer.website",text:e.contactDetails.homepage.replace("https://",""),iconLeft:"globe","data-test-id":"dealer-homepage",link:(0,P.a)(e.contactDetails.homepage),target:"_blank",datalayerEventAction:s.E.DEALER_CONTACT_CLICK,customDatalayerProperties:w,variant:n.J.DealerDetails}):null,o&&(0,n.i)(k)?(0,t.h)(x,{showSkeleton:this.showSkeleton,elementId:(0,y.c)(this.dealerId,o.id),analyticsId:o.id,text:o.text,"data-test-id":"dealer-finder-cars",link:(0,n.P)(o.link,{dealership:e.ppnOrgId}),iconLeft:"car",datalayerEventAction:s.E.DEALER_CONTACT_CLICK,customDatalayerProperties:w,variant:n.J.DealerDetails}):null,i?(0,t.h)(x,{showSkeleton:this.showSkeleton,elementId:(0,y.c)(this.dealerId,i.text),analyticsId:i.id,text:i.text,link:(0,n.P)(i.link,{dealer:e.porschePartnerNo}),datalayerEventAction:s.E.DEALER_CONTACT_CLICK,customDatalayerProperties:w,variant:n.J.DealerDetails,"data-test-id":"dealer-book-service",iconLeft:"wrench"}):null,S?(0,t.h)(x,{showSkeleton:this.showSkeleton,elementId:(0,y.c)(this.dealerId,r.text),analyticsId:r.id,text:r.text,link:r.link,datalayerEventAction:s.E.DEALER_CONTACT_CLICK,customDatalayerProperties:w,variant:n.J.DealerDetails,"data-test-id":"dealer-book-testdrive",iconLeft:"steering-wheel"}):null)}get el(){return(0,t.g)(this)}};function x(e){return(0,t.h)("phn-menu-item-card",Object.assign({tabIndex:0,class:e.showSkeleton?"skeleton":""},e))}function T({errorMessage:e,onDismiss:a}){return(0,t.h)("div",{class:"error-message animated"},(0,t.h)("phn-p-inline-notification",{state:"error",description:e,onDismiss:a}))}j.style=".sc-phn-dealer-details-drawer-h{display:block;margin-top:1.625rem}@media (min-width: 760px){.sc-phn-dealer-details-drawer-h{margin-top:-0.125rem}}@media (min-width: 1300px){.sc-phn-dealer-details-drawer-h{margin-top:-0.1875rem}}@media (min-width: 1920px){.sc-phn-dealer-details-drawer-h{margin-top:-0.4375rem}}.sc-phn-dealer-details-drawer-h .skeleton-headline.sc-phn-dealer-details-drawer{width:auto;height:3.125rem;background:#d8d8db;margin-bottom:1.75rem;border-radius:4px}.sc-phn-dealer-details-drawer-h phn-p-heading.sc-phn-dealer-details-drawer{margin-bottom:1.5rem}.sc-phn-dealer-details-drawer-h phn-menu-item.sc-phn-dealer-details-drawer{margin-top:1.5rem}.sc-phn-dealer-details-drawer-h phn-menu-item.sc-phn-dealer-details-drawer:first-of-type{margin-top:0.875rem}.skeleton.sc-phn-dealer-details-drawer-h{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.skeleton.skeleton-menu-item.sc-phn-dealer-details-drawer-h{width:auto;height:1.25rem;background:#d8d8db;border-radius:4px}";const U=class{constructor(e){(0,t.r)(this,e),this.removeSkeletonOnDealerSearchForm=(0,t.c)(this,"removeSkeletonOnDealerSearchForm",7),this.isLoading=!1,this.formErrorMessage=null,this.locale=void 0}componentWillLoad(){this.waitForComponentsToLoad().then(()=>{const{dealer:e}=s.a.state;e.numberOfDealers<=5&&this.fetchAllDealersForMarket()})}componentDidLoad(){this.emitPageLoadEvent()}waitForComponentsToLoad(){var e=this;return(0,g.Z)(function*(){yield(0,I.c)(e.el,new D.T(5e3)),e.removeSkeletonOnDealerSearchForm.emit()})()}fetchAllDealersForMarket(){var e=this;return(0,g.Z)(function*(){const{error:a}=s.a.state;try{e.isLoading=!0;const{country:r}=(0,s.s)(e.locale),{env:o}=s.n.state,i=yield(0,A.b)(o,(0,n.b)(o).DEALER_API_URL_ALL_DEALERS,r);l.d.state.results=i.map(({ppnDealer:d})=>d.id),l.d.state.ppnDealers=i.reduce((d,c)=>Object.assign(Object.assign({},d),{[c.ppnDealer.id]:c}),l.d.state.ppnDealers)}catch(r){_.l.error("FETCH_DEALERS",r),e.formErrorMessage=(0,n.Q)(a,r)}finally{e.isLoading=!1,e.emitResultsLoadEvent()}})()}emitPageLoadEvent(){const{dealer:e}=s.a.state;E.g.pushDataLayerEvent(s.E.DEALER_SEARCH_SCREEN_LOAD,{componentDisplay:{displayElementId:p.a.calculateDisplayElementId(),displayElementType:p.a.calculateDisplayElementType("",s.f.dealerSearchForm),displayElementName:e.text},componentSearch:{searchTerm:n.R,numberOfResults:e.numberOfDealers}})}emitResultsLoadEvent(){const{dealer:e}=s.a.state;E.g.pushDataLayerEvent(s.E.DEALER_RESULTS_SCREEN_LOAD,{componentDisplay:{displayElementId:p.a.getDealerResultsLoadDisplayElementId(s.l),displayElementType:p.a.getDealerResultsLoadDisplayElementType(),displayElementName:e.text},componentSearch:{searchTerm:n.R,numberOfResults:e.numberOfDealers}})}reset(){this.formErrorMessage=null,this.isLoading=!1,l.d.state.results=null}render(){return this.isLoading?(0,t.h)("div",{class:"spinner"},(0,t.h)("phn-p-spinner",{size:"medium",aria:{"aria-label":"Loading page content"}})):(0,n.i)(this.formErrorMessage)?(0,t.h)(T,{errorMessage:this.formErrorMessage,onDismiss:()=>this.reset()}):void 0}get el(){return(0,t.g)(this)}};U.style=".sc-phn-dealer-search-by-number-of-dealers-h{display:block}.sc-phn-dealer-search-by-number-of-dealers-h .spinner.sc-phn-dealer-search-by-number-of-dealers{display:-ms-flexbox;display:flex;position:relative;-ms-flex-pack:center;justify-content:center;width:100%;margin-top:1.5rem}";const K=class{constructor(e){(0,t.r)(this,e),this.dealerSearchFormEvent=(0,t.c)(this,"dealerSearchFormEvent",7),this.clearSearchEvent=(0,t.c)(this,"clearSearchEvent",7),this.removeSkeletonOnDealerSearchForm=(0,t.c)(this,"removeSkeletonOnDealerSearchForm",7),this.locale="",this.isLoading=!1,this.errorMessage=null,this.dealersOfRegion={regions:[]},this.cities=[],this.selectedProvince="",this.selectedCity="",this.showSkeleton=!0}componentWillLoad(){this.waitForComponentsToLoad(),this.getDealersByRegion()}componentDidLoad(){this.emitPageLoadEvent()}waitForComponentsToLoad(){var e=this;return(0,g.Z)(function*(){yield(0,I.c)(e.el,new D.T(5e3)),e.removeSkeletonOnDealerSearchForm.emit()})()}loadedAutoCompleteListener(e){this.showSkeleton=!1}getDealersByRegion(){var e=this;return(0,g.Z)(function*(){const{error:a}=s.a.state,{country:r}=(0,s.s)(e.locale);try{e.isLoading=!0,e.dealersOfRegion=yield(0,A.c)(r)}catch(o){_.l.error("FETCH_DEALERS",o),e.errorMessage=(0,n.Q)(a,o)}finally{e.isLoading=!1,e.dealerSearchFormEvent.emit(),e.emitResultsLoadEvent()}})()}onCitySelect(e){var a;if(null===e.target)return;const r=e.target.value;this.selectedCity=r,l.d.state.ppnDealers=(null===(a=this.cities.find(o=>[o.cityName,o.cityNameLocalized].includes(r)))||void 0===a?void 0:a.dealers)||{},l.d.state.results=Object.keys(l.d.state.ppnDealers),l.d.state.searchTerm=`${this.selectedProvince}, ${this.selectedCity}`}onProvinceSelect(e){if(null===e.target)return;const a=e.target.value;this.cities=this.getCitiesByGivenRegionName(a),this.selectedProvince=a}getCitiesByGivenRegionName(e){const r=this.dealersOfRegion.regions.find(({regionName:o,regionNameLocalized:i})=>[o,i].includes(e));return r?.cities||[]}emitPageLoadEvent(){const{results:e,searchTerm:a}=l.d.state,{dealer:r}=s.a.state;E.g.pushDataLayerEvent(s.E.DEALER_SEARCH_SCREEN_LOAD,{componentDisplay:{displayElementId:p.a.calculateDisplayElementId(),displayElementType:p.a.calculateDisplayElementType("",s.f.dealerSearchForm),displayElementName:r.text},componentSearch:{searchTerm:(0,n.i)(a)?a:n.T,numberOfResults:e?.length||0}})}emitResultsLoadEvent(){const{results:e,searchTerm:a}=l.d.state,{dealer:r}=s.a.state,o=e?.length||0;E.g.pushDataLayerEvent(s.E.DEALER_RESULTS_SCREEN_LOAD,{componentDisplay:{displayElementId:p.a.getDealerResultsLoadDisplayElementId(s.l),displayElementType:p.a.getDealerResultsLoadDisplayElementType(),displayElementName:r.text},componentSearch:{searchTerm:a,numberOfResults:o}})}reset(){this.errorMessage=null,this.isLoading=!1,this.selectedProvince="",this.selectedCity="",l.d.state.results=null,this.clearSearchEvent.emit()}render(){const{results:e}=l.d.state,{dealer:a}=s.a.state;return this.isLoading?(0,t.h)("div",{class:"spinner"},(0,t.h)("phn-p-spinner",{size:"medium",aria:{"aria-label":"Loading page content"}})):(0,t.h)(t.H,null,e&&e.length>0?(0,t.h)("form",{class:"form-container",onSubmit:r=>{r.preventDefault()}},(0,t.h)("phn-p-text-field-wrapper",{"data-test-id":"dealer-search-form-input"},(0,t.h)("input",{"aria-label":"Selected Province",style:{display:this.showSkeleton?"none":"",cursor:"default",caretColor:"transparent"},type:"search",value:l.d.state.searchTerm,onKeyDown:r=>{"Tab"!==r.key&&(r.preventDefault(),this.reset())},onClick:r=>{r.preventDefault(),this.reset()},onInput:r=>{r.preventDefault(),this.reset()}}))):(0,t.h)(t.F,null,(0,t.h)("phn-p-select-wrapper",{filter:!0,label:a.search.dropdown.province,required:!0,style:{display:this.showSkeleton?"none":""}},(0,t.h)("select",{name:"dealers-province",onChange:r=>this.onProvinceSelect(r),style:{display:this.showSkeleton?"none":""}},(0,t.h)("option",{hidden:!0,selected:!0},a.search.dropdown.selectAProvince),this.dealersOfRegion.regions.map(r=>{const o="en"===(0,s.s)(this.locale).language||null===r.regionNameLocalized?r.regionName:r.regionNameLocalized;return(0,t.h)("option",{value:o},o)}))),(0,t.h)("phn-p-select-wrapper",{style:{display:this.showSkeleton?"none":""},class:"city-select-form-field",filter:"true",label:a.search.dropdown.city,required:!0},(0,t.h)("select",{disabled:!(0,n.i)(this.selectedProvince),style:{display:this.showSkeleton?"none":""},name:"dealers-cities",onChange:r=>{this.onCitySelect(r)}},(0,t.h)("option",{hidden:!0},a.search.dropdown.selectACity),this.cities.map(r=>(0,t.h)("option",null,"en"===(0,s.s)(this.locale).language||null===r.cityNameLocalized?r.cityName:r.cityNameLocalized)))),(0,n.i)(this.errorMessage)?(0,t.h)(T,{errorMessage:this.errorMessage,onDismiss:()=>this.reset()}):null))}get el(){return(0,t.g)(this)}};function N(e){switch(e){case"INVALID_REQUEST":return n.a.INVALID_INPUT;case"NOT_FOUND":case"ZERO_RESULTS":return n.a.NO_RESULTS;case"OVER_QUERY_LIMIT":case"UNKNOWN_ERROR":return n.a.RETRY;default:return n.a.GENERAL}}K.style=".sc-phn-dealer-search-form-dropdown-h{display:block}.sc-phn-dealer-search-form-dropdown-h .spinner.sc-phn-dealer-search-form-dropdown{display:-ms-flexbox;display:flex;position:relative;-ms-flex-pack:center;justify-content:center;width:100%;margin-top:1.5rem}.sc-phn-dealer-search-form-dropdown-h phn-p-text-field-wrapper.sc-phn-dealer-search-form-dropdown{width:100%}.sc-phn-dealer-search-form-dropdown-h phn-p-text-field-wrapper.sc-phn-dealer-search-form-dropdown input[type=search].sc-phn-dealer-search-form-dropdown::-ms-clear{display:none;width:0;height:0}.sc-phn-dealer-search-form-dropdown-h phn-p-text-field-wrapper.sc-phn-dealer-search-form-dropdown input[type=search].sc-phn-dealer-search-form-dropdown::-ms-reveal{display:none;width:0;height:0}.sc-phn-dealer-search-form-dropdown-h phn-p-text-field-wrapper.sc-phn-dealer-search-form-dropdown input[type=search].sc-phn-dealer-search-form-dropdown::-webkit-search-decoration,.sc-phn-dealer-search-form-dropdown-h phn-p-text-field-wrapper.sc-phn-dealer-search-form-dropdown input[type=search].sc-phn-dealer-search-form-dropdown::-webkit-search-cancel-button,.sc-phn-dealer-search-form-dropdown-h phn-p-text-field-wrapper.sc-phn-dealer-search-form-dropdown input[type=search].sc-phn-dealer-search-form-dropdown::-webkit-search-results-button,.sc-phn-dealer-search-form-dropdown-h phn-p-text-field-wrapper.sc-phn-dealer-search-form-dropdown input[type=search].sc-phn-dealer-search-form-dropdown::-webkit-search-results-decoration{display:none}.sc-phn-dealer-search-form-dropdown-h .city-select-form-field.sc-phn-dealer-search-form-dropdown{padding-top:1.5rem}";const R=new class Y{constructor(){this.autocompleteService=null,this.placesService=null,this.geocoderService=null,this.getLocation=null}init(a){var r=this;return(0,g.Z)(function*(){try{const o=yield O.w.fetchGoogleMapsApi(a);r.autocompleteService=new o.maps.places.AutocompleteService,r.placesService=new o.maps.places.PlacesService(new o.maps.Map(O.w.createDiv())),r.geocoderService=new o.maps.Geocoder,r.getLocation=i=>new o.maps.LatLng(i.latitude,i.longitude)}catch(o){throw new n.N(`windowService.fetchGoogleMapsApi failed with error: ${o}`,n.a.GENERAL)}})()}getPredictions(a,r){var o=this;return(0,g.Z)(function*(){var i;if(0===a.length)return[];const d=yield new Promise((c,h)=>{null!==o.autocompleteService?o.autocompleteService.getPlacePredictions({input:a,componentRestrictions:{country:(0,P.g)((0,s.s)(r).country)}},(u,b)=>"OK"===b?c(u):h(new n.N(`autocompleteService.getPlacePredictions failed with ${b}`,N(b)))):h(new n.N("autocompleteService is not initialised",n.a.GENERAL))});return null!==(i=d?.filter(({place_id:c,description:h})=>(0,n.i)(c)&&(0,n.i)(h)).map(({place_id:c,description:h})=>({id:c,text:h})))&&void 0!==i?i:[]})()}getPlaceCoordinates(a){var r=this;return(0,g.Z)(function*(){var o,i,d,c;const h=yield new Promise((L,v)=>{null!==r.placesService?r.placesService.getDetails({placeId:a},(S,f)=>"OK"===f?L(S):v(new n.N(`placeService.getDetails failed with ${f}`,N(f)))):v(new n.N("placesService is not initialised",n.a.GENERAL))}),u=null===(i=null===(o=h?.geometry)||void 0===o?void 0:o.location)||void 0===i?void 0:i.lat(),b=null===(c=null===(d=h?.geometry)||void 0===d?void 0:d.location)||void 0===c?void 0:c.lng();if("number"!=typeof u||"number"!=typeof b)throw new n.N(`placesService.getDetails did not find latitude or longitude for placeId: ${a}`,n.a.NO_RESULTS);return{latitude:u,longitude:b}})()}getFormattedAddressFromCoordinates(a){var r=this;return(0,g.Z)(function*(){if(null===r.getLocation)throw new n.N("getLocation is not initialised",n.a.GENERAL);const o=r.getLocation(a),i=yield new Promise((d,c)=>{null!==r.geocoderService?r.geocoderService.geocode({location:o},(h,u)=>{"OK"===u?d(h):c(new n.N(`geocoderService.geocode failed with status ${u}`,N(u)))}):c(new n.N("geocoderService is not initialised",n.a.GENERAL))});if(null===i||0===i.length)throw new n.N("geocoderService.geocode did not find the location based on coordinates.",n.a.NO_RESULTS);return i[0].formatted_address})()}},z=class{constructor(e){(0,t.r)(this,e),this.dealerSearchFormEvent=(0,t.c)(this,"dealerSearchFormEvent",7),this.clearSearchEvent=(0,t.c)(this,"clearSearchEvent",7),this.removeSkeletonOnDealerSearchForm=(0,t.c)(this,"removeSkeletonOnDealerSearchForm",7),this.debounceTimeout=new D.T(100),this.locale=void 0,this.predictions=[],this.errorMessage=null,this.formErrorMessage=null,this.isLoading=!1,this.showGeolocationButton=null===l.d.state.results,this.animateResults=!1,this.searchTerm=l.d.state.searchTerm,this.showSkeleton=!0}loadedAutoCompleteListener(){this.showSkeleton=!1}waitForComponentsToLoad(){var e=this;return(0,g.Z)(function*(){yield(0,I.c)(e.el,new D.T(5e3)),e.removeSkeletonOnDealerSearchForm.emit()})()}disconnectedCallback(){l.d.state.searchTerm=this.searchTerm,this.debounceTimeout.cancel()}componentWillLoad(){this.waitForComponentsToLoad().then(()=>{const{error:e}=s.a.state;R.init("AIzaSyDCVTh9wCeBxQEIxiN28Zb2ZWCf8wbiw0E").catch(a=>{_.l.error("INIT_MAPS_SERVICE",a),this.formErrorMessage=(0,n.Q)(e,a),this.errorMessage=null})})}componentDidLoad(){this.emitPageLoadEvent()}emitPageLoadEvent(){const{dealer:e}=s.a.state;E.g.pushDataLayerEvent(s.E.DEALER_SEARCH_SCREEN_LOAD,{componentDisplay:{displayElementId:p.a.calculateDisplayElementId(),displayElementType:p.a.calculateDisplayElementType("",s.f.dealerSearchForm,!0),displayElementName:e.text}})}emitResultsLoadEvent(e){const{results:a}=l.d.state,{dealer:r}=s.a.state,o=(0,n.i)(e)?e:n.T,i=a?.length||0;E.g.pushDataLayerEvent(s.E.DEALER_RESULTS_SCREEN_LOAD,{componentDisplay:{displayElementId:p.a.getDealerResultsLoadDisplayElementId(s.l),displayElementType:p.a.getDealerResultsLoadDisplayElementType(),displayElementName:r.text},componentSearch:{searchTerm:o,numberOfResults:i}})}fetchDealers(e){var a=this;return(0,g.Z)(function*(){const{error:r}=s.a.state;try{a.reset(),a.isLoading=!0;const[o,i]=yield e(),{env:d}=s.n.state,c=yield(0,A.d)(d,(0,n.b)(d).DEALER_API_URL,i,(0,P.g)((0,s.s)(a.locale).country));l.d.state.searchTerm=o,l.d.state.results=c.map(({ppnDealer:h})=>h.id),l.d.state.ppnDealers=c.reduce((h,u)=>Object.assign(Object.assign({},h),{[u.ppnDealer.id]:u}),l.d.state.ppnDealers),a.showGeolocationButton=!1}catch(o){_.l.error("FETCH_DEALERS",o),a.formErrorMessage=(0,n.Q)(r,o),a.errorMessage=null}finally{a.isLoading=!1,a.animateResults=!0}})()}onSubmit(e){var a=this;return(0,g.Z)(function*(){const{dealer:r,error:o}=s.a.state;if(!(0,n.i)(a.searchTerm))return a.errorMessage=o.noInput,void(a.formErrorMessage="");yield a.fetchDealers((0,g.Z)(function*(){if(null===e)throw new n.N("Dealer search form submitted without prediction",n.a.INVALID_INPUT);a.searchTerm=e.text,E.g.pushDataLayerEvent(s.E.DEALER_SEARCH_CLICK,{componentClick:{clickElementId:e.id,clickElementName:e.text,clickElementType:s.C.Button,targetElement:s.m},componentDisplay:{displayElementId:s.k,displayElementType:p.a.calculateDisplayElementType(y.a.DEALER_SEARCH,s.f.dealerSearchForm),displayElementName:r.text},componentSearch:{searchTerm:e.text}});const i=yield R.getPlaceCoordinates(e.id);return[e.text,i]})),a.emitResultsLoadEvent(a.searchTerm)})()}getCurrentLocation(){var e=this;return(0,g.Z)(function*(){const{dealer:a}=s.a.state;yield e.fetchDealers((0,g.Z)(function*(){const r=yield O.w.getNavigatorLatLong(),o=yield R.getFormattedAddressFromCoordinates(r);return e.searchTerm="",E.g.pushDataLayerEvent(s.E.DEALER_GEOLOCATION_CLICK,{componentClick:{clickElementId:a.search.geolocation.id,clickElementName:a.search.geolocation.text,clickElementType:s.C.Button,targetElement:s.m},componentDisplay:{displayElementId:s.k,displayElementType:p.a.calculateDisplayElementType(y.a.DEALER_SEARCH,s.f.dealerSearchForm),displayElementName:a.text},componentSearch:{searchTerm:n.T}}),[o,r]})),e.emitResultsLoadEvent(n.T)})()}onDealerSearchEntry(e){var a=this;return(0,g.Z)(function*(){const{error:r}=s.a.state;try{a.searchTerm=e,a.errorMessage=null,a.formErrorMessage=null,a.showGeolocationButton=null===l.d.state.results,a.predictions=yield R.getPredictions(e,a.locale)}catch(o){_.l.error("GET_PREDICTIONS",o),a.errorMessage=(0,n.Q)(r,o),a.predictions=[]}})()}reset(){this.errorMessage=null,this.formErrorMessage=null,this.animateResults=!1,this.showGeolocationButton=!0,this.isLoading=!1,l.d.state.results=null}render(){const{dealer:e}=s.a.state,{results:a}=l.d.state;return(0,t.h)(t.H,{class:this.showSkeleton?"skeleton":""},(0,t.h)("div",{class:"input-container"},this.showSkeleton?(0,t.h)("div",{class:"skeleton-autocomplete-search-field"}):null,(0,t.h)("phn-autocomplete-search-field",{placeholder:e.search.form.inputPlaceholder,initialValue:l.d.state.searchTerm,predictions:this.predictions,onSearchInput:r=>this.debounceTimeout.set(()=>this.onDealerSearchEntry(r.detail)),onClearSearch:()=>{this.predictions=[],l.d.state.searchTerm="",this.searchTerm="",this.reset(),this.clearSearchEvent.emit(),this.showGeolocationButton=!0},onSubmitSearch:r=>this.onSubmit(r.detail),errorMessage:(0,n.g)(this.errorMessage),style:{display:this.showSkeleton?"none":""}})),this.isLoading&&(0,t.h)("div",{class:"spinner"},(0,t.h)("phn-p-spinner",{size:"medium",aria:{"aria-label":"Loading page content"}})),this.showGeolocationButton&&null===a?(0,t.h)(t.F,null,(0,t.h)("div",{class:"or-container "+(this.isLoading?"animate-out":""),onAnimationEnd:()=>{this.showGeolocationButton=!1}},this.showSkeleton?(0,t.h)("div",{class:"skeleton-or-text"}):null,(0,t.h)("phn-p-text",{color:"inherit",size:"inherit",tag:"div","data-test-id":"dealer-search-or-label",style:{display:this.showSkeleton?"none":""}},e.search.or),this.showSkeleton?(0,t.h)("div",{class:"skeleton-geolocation-button"}):null,(0,t.h)("phn-p-button",{class:"geolocation",onClick:()=>this.getCurrentLocation(),variant:"tertiary",icon:"locate",style:{display:this.showSkeleton?"none":""}},e.search.geolocation.text))):null,(0,n.i)(this.formErrorMessage)?(0,t.h)(T,{errorMessage:this.formErrorMessage,onDismiss:()=>this.reset()}):null)}get el(){return(0,t.g)(this)}};function q({dealer:e,showOverlay:a,eventEmitter:r,locale:o}){const{ppnDealer:i,distance:d}=e,c=(0,s.s)(o).language,h=Object.values(i.addressLocalized).every(f=>null!=f&&""!=f),u="en"===c?i.address:h?i.addressLocalized:i.address,b="en"===c?i.name:(0,n.i)(i.nameLocalized)?i.nameLocalized:i.name,L=s.a.state.dealer.numberOfDealers;let v="";try{v=(0,s.s)(o).country}catch{}return(0,t.h)("phn-menu-item-card",{tabIndex:0,text:b,class:`animated ${a?"dealer-card-overlay":""} dealer-card`,onClick:()=>(f=>{const k=(0,y.c)(f.id);r.emit([k]);const{dealer:M}=s.a.state,{results:w,searchTerm:C}=l.d.state;E.g.pushDataLayerEvent(s.E.DEALER_RESULT_CLICK,{componentClick:{clickElementId:f.id,clickElementName:f.name,clickElementType:s.C.Button,targetElement:`level2_${k}`},componentDisplay:{displayElementId:s.k,displayElementType:p.a.calculateDisplayElementType(y.a.DEALER_SEARCH,s.f.dealerSearchForm),displayElementName:M.text},componentSearch:{searchTerm:C,numberOfResults:w?.length},partner:{companyName:f.name,companyId:f.porschePartnerNo}})})(i),analyticsId:i.id},(0,t.h)("div",{class:"phn-flex-row phn-justify-between phn-align-center"},"JP"===v?(0,t.h)("phn-p-text",{color:"primary",size:"small"},`\u3012${i.address.postalCode} ${u.city} ${u.street}`):(0,t.h)("phn-p-text",{color:"primary",size:"small"},`${u.street}, `,(0,t.h)("span",{class:"city"},i.address.postalCode," ",u.city)),d&&d.value>=1&&L>5?(0,t.h)("phn-p-tag",{color:"notification-info-soft"},`${Math.round(d.value)}${d.unit.toLowerCase()}`):null))}function ee(){const{dealer:e}=s.a.state;return(0,t.h)("a",{class:"animated",href:e.search.map.link,"aria-label":e.search.map.description},(0,t.h)("phn-p-button",{onClick:function a(){const r=e.search.map,{results:o,searchTerm:i}=l.d.state;E.g.pushDataLayerEvent(s.E.DEALER_MAP_CLICK,{componentClick:{clickElementId:r.id,clickElementName:r.text,clickElementType:s.C.Link,targetUrl:r.link},componentDisplay:{displayElementId:s.k,displayElementType:p.a.calculateDisplayElementType(y.a.DEALER_SEARCH,s.f.dealerSearchForm),displayElementName:e.text},componentSearch:{searchTerm:(0,n.i)(i)?i:n.T,numberOfResults:o?.length}})},variant:"tertiary"},e.search.map.text," "))}z.style="@-webkit-keyframes slideDown{from{max-height:0}to{max-height:1000px}}@keyframes slideDown{from{max-height:0}to{max-height:1000px}}@-webkit-keyframes slideUp{from{max-height:1000px}to{max-height:0}}@keyframes slideUp{from{max-height:1000px}to{max-height:0}}@-webkit-keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@-webkit-keyframes slideRight{from{max-width:1000px}to{max-width:0}}@keyframes slideRight{from{max-width:1000px}to{max-width:0}}@-webkit-keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@-webkit-keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@-webkit-keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@-webkit-keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@-webkit-keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@-webkit-keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}.phn-flex-col.sc-phn-dealer-search-form-geolocation{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.phn-flex-row.sc-phn-dealer-search-form-geolocation{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.phn-align-center.sc-phn-dealer-search-form-geolocation{-ms-flex-align:center;align-items:center}.phn-justify-around.sc-phn-dealer-search-form-geolocation{-ms-flex-pack:distribute;justify-content:space-around}.phn-justify-between.sc-phn-dealer-search-form-geolocation{-ms-flex-pack:justify;justify-content:space-between}.sc-phn-dealer-search-form-geolocation-h{display:block}.skeleton.sc-phn-dealer-search-form-geolocation-h{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.skeleton.sc-phn-dealer-search-form-geolocation-h .skeleton-autocomplete-search-field.sc-phn-dealer-search-form-geolocation{width:auto;height:3.125rem;background:#d8d8db;border-radius:4px}.skeleton.sc-phn-dealer-search-form-geolocation-h .skeleton-or-text.sc-phn-dealer-search-form-geolocation{width:auto;height:1.25rem;background:#d8d8db;border-radius:4px 4px 0 0}.skeleton.sc-phn-dealer-search-form-geolocation-h .skeleton-geolocation-button.sc-phn-dealer-search-form-geolocation{width:auto;height:3.125rem;background:#d8d8db;border-radius:0 0 4px 4px}.sc-phn-dealer-search-form-geolocation-h .or-container.sc-phn-dealer-search-form-geolocation{position:relative;width:100%;margin-top:1.25rem}.sc-phn-dealer-search-form-geolocation-h .or-container.sc-phn-dealer-search-form-geolocation .geolocation.sc-phn-dealer-search-form-geolocation{width:100%;padding-bottom:24px}.sc-phn-dealer-search-form-geolocation-h .or-container.sc-phn-dealer-search-form-geolocation phn-p-text.sc-phn-dealer-search-form-geolocation{margin-bottom:0.25rem;color:#010205}.sc-phn-dealer-search-form-geolocation-h .animate-out.sc-phn-dealer-search-form-geolocation{-webkit-animation:fadeOutToTop 0.75s ease-in-out 0s;animation:fadeOutToTop 0.75s ease-in-out 0s}.sc-phn-dealer-search-form-geolocation-h .input-container.sc-phn-dealer-search-form-geolocation{width:100%}.sc-phn-dealer-search-form-geolocation-h .spinner.sc-phn-dealer-search-form-geolocation{display:-ms-flexbox;display:flex;position:relative;-ms-flex-pack:center;justify-content:center;width:100%;margin-top:1.5rem}";const $=class{constructor(e){(0,t.r)(this,e),this.mobileMenuItemClick=(0,t.c)(this,"mobileMenuItemClick",6),this.showOverlay=!1,this.locale=void 0,this.breakpoint=void 0}render(){const{results:e,ppnDealers:a}=l.d.state,{error:r}=s.a.state;return null===e?null:0===e?.length?(0,t.h)(t.F,null,(0,t.h)(T,{errorMessage:r.noResults,onDismiss:()=>null})):1===e.length?(0,t.h)("phn-dealer-details-drawer",{breakpoint:this.breakpoint,dealerId:e[0],locale:this.locale}):(0,t.h)(t.H,null,(0,t.h)(t.F,null,e.map(o=>{const i=a[o];return void 0===i||void 0===i.ppnDealer?null:(0,t.h)(q,{dealer:i,eventEmitter:this.mobileMenuItemClick,showOverlay:this.showOverlay,locale:this.locale})}),(0,t.h)(ee,null)))}};$.style=".sc-phn-dealer-search-results-h{display:block}.sc-phn-dealer-search-results-h phn-dealer-details-drawer.sc-phn-dealer-search-results{margin-top:1.25rem}.sc-phn-dealer-search-results-h phn-menu-item-card.sc-phn-dealer-search-results>div.sc-phn-dealer-search-results{margin-top:14px}.sc-phn-dealer-search-results-h .dealer-card-overlay.sc-phn-dealer-search-results{opacity:0.3}.sc-phn-dealer-search-results-h .dealer-card.sc-phn-dealer-search-results phn-p-tag.sc-phn-dealer-search-results{margin-left:1rem}.sc-phn-dealer-search-results-h .error-message.sc-phn-dealer-search-results{position:relative;margin-top:2rem}.sc-phn-dealer-search-results-h .animated.sc-phn-dealer-search-results{-webkit-animation:fadeInFromBottom 0.75s ease-in-out 0s;animation:fadeInFromBottom 0.75s ease-in-out 0s}.sc-phn-dealer-search-results-h a.sc-phn-dealer-search-results{display:inline-block;position:relative;width:100%;-webkit-text-decoration-line:none;text-decoration-line:none;margin-top:2.25rem}.sc-phn-dealer-search-results-h a.sc-phn-dealer-search-results phn-p-button.sc-phn-dealer-search-results{width:100%}";const G=class{constructor(e){(0,t.r)(this,e),this.text=void 0,this.analyticsId=void 0,this.subtext="",this.elementId="",this.link="",this.datalayerEventAction=s.E.NAVIGATION_CLICK,this.customDatalayerProperties={},this.target="_self",this.iconLeft=""}handleKeyDown(e){var a;if("Enter"===e.key){const r=null===(a=(0,n.u)(e.target))||void 0===a?void 0:a.querySelector("a"),o=r||(0,n.u)(e.target);o&&(o.click(),r||this.sendDataLayerEvent(s.C.Button,this.elementId))}}sendDataLayerEvent(e,a){(0,H.s)({analyticsId:this.analyticsId,text:this.text,elementId:a,clickElementType:e,link:this.link,customDatalayerProperties:this.customDatalayerProperties,datalayerEventAction:this.datalayerEventAction})}renderTitle(){return(0,t.h)("div",{class:"phn-flex-row phn-align-center phn-justify-between title-container"},(0,t.h)("phn-p-heading",{tag:"h3",size:"medium"},this.text),(0,n.i)(this.iconLeft)?(0,t.h)("phn-p-icon",{name:this.iconLeft}):null)}renderSubtitle(){return(0,n.i)(this.subtext)?(0,t.h)("phn-p-text",{class:"subtext",color:"contrast-medium",weight:"regular",size:"xx-small",tag:"div",ellipsis:"true","data-test-id":"subtext"},this.subtext):null}render(){const e=(0,t.h)(t.F,null,(0,t.h)("div",{class:"texts"},this.renderTitle(),this.renderSubtitle()),(0,t.h)("slot",null));return(0,n.i)(this.link)?(0,t.h)("a",{tabIndex:-1,onClick:()=>{this.sendDataLayerEvent(s.C.Link,this.elementId)},class:"card-link",href:this.link,target:this.target},e):(0,t.h)(t.H,null,(0,t.h)("button",{tabIndex:-1,onClick:()=>{this.sendDataLayerEvent(s.C.Button,this.elementId)}},e))}get el(){return(0,t.g)(this)}};G.style=".sc-phn-menu-item-card-h{display:block;padding:1.1875rem;margin-top:1rem;border-radius:8px;background-color:rgba(148, 149, 152, 0.18);-webkit-transition:background-color 0.24s ease;transition:background-color 0.24s ease}.sc-phn-menu-item-card-h button.sc-phn-menu-item-card{all:unset}.skeleton.sc-phn-menu-item-card-h{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background:#d8d8db;border-radius:4px}.skeleton.sc-phn-menu-item-card-h *.sc-phn-menu-item-card{visibility:hidden}@media (min-width: 760px){.sc-phn-menu-item-card-h{background-color:#fff}}@media (min-width: 760px){.sc-phn-menu-item-card-h:hover{background-color:rgba(148, 149, 152, 0.18)}}.sc-phn-menu-item-card-h a.sc-phn-menu-item-card{text-decoration:none}.sc-phn-menu-item-card-h .subtext.sc-phn-menu-item-card{color:#010205}.sc-phn-menu-item-card-h .title-container.sc-phn-menu-item-card{width:100%;margin:0}.sc-phn-menu-item-card-h .title-container.sc-phn-menu-item-card phn-p-heading.sc-phn-menu-item-card{word-break:break-word}.sc-phn-menu-item-card-h .title-container.sc-phn-menu-item-card phn-p-icon.sc-phn-menu-item-card{margin-left:1rem}";const W=class{constructor(e){(0,t.r)(this,e),this.loginEvent=(0,t.c)(this,"loginEvent",7),this.login=void 0,this.more=null,this.signup=void 0,this.signupText=void 0}sendDataLayerEvent(e){E.g.pushDataLayerEvent(s.E.NAVIGATION_LINK_CLICK,{componentClick:{clickElementId:e?.id,clickElementName:e?.text,clickElementType:s.C.Link,targetUrl:e?.link},componentDisplay:{displayElementId:p.a.calculateDisplayElementId(),displayElementType:p.a.calculateDisplayElementType(y.a.MY_PORSCHE,s.f.myPorscheDrawer),displayElementName:e?.text}})}render(){return(0,t.h)(t.F,null,(0,t.h)("div",{class:"button-container"},(0,t.h)("phn-p-button",{variant:"primary",class:"login",onClick:()=>{this.loginEvent.emit(),this.sendDataLayerEvent(this.login)}},this.login.text),this.more&&(0,n.i)(this.more.link)?(0,t.h)("phn-p-link",{variant:"tertiary",class:"more",href:this.more.link,onClick:()=>{this.sendDataLayerEvent(this.more)}},this.more.text):null),(0,t.h)("div",null,(0,t.h)("phn-p-link-pure",{icon:"none",onClick:()=>{this.sendDataLayerEvent(this.signup)}},(0,t.h)("a",{href:this.signup.link},this.signup.text)),(0,t.h)("phn-p-text",null,"\xa0",this.signupText)))}};W.style=".sc-phn-myporsche-login-h .button-container.sc-phn-myporsche-login{display:-ms-flexbox;display:flex}@media (min-width: 0px) and (max-width: 479px){.sc-phn-myporsche-login-h .button-container.sc-phn-myporsche-login{-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between}}@media (min-width: 760px) and (max-width: 1299px){.sc-phn-myporsche-login-h .button-container.sc-phn-myporsche-login{-ms-flex-direction:column;flex-direction:column;-ms-flex-pack:justify;justify-content:space-between}}.sc-phn-myporsche-login-h .button-container.sc-phn-myporsche-login .login.sc-phn-myporsche-login{padding:2.25rem 0 1rem 0}@media (min-width: 0px) and (max-width: 759px){.sc-phn-myporsche-login-h .button-container.sc-phn-myporsche-login .login.sc-phn-myporsche-login{width:100%;padding-top:0}}@media (min-width: 480px){.sc-phn-myporsche-login-h .button-container.sc-phn-myporsche-login .login.sc-phn-myporsche-login{padding:0 0.5rem 1rem 0}}@media (min-width: 760px) and (max-width: 1299px){.sc-phn-myporsche-login-h .button-container.sc-phn-myporsche-login .login.sc-phn-myporsche-login{padding:0 0 1rem 0}}@media (min-width: 1760px){.sc-phn-myporsche-login-h .button-container.sc-phn-myporsche-login .login.sc-phn-myporsche-login{padding:0 1rem 1.4375rem 0}}.sc-phn-myporsche-login-h .button-container.sc-phn-myporsche-login .more.sc-phn-myporsche-login{padding:0 0 1rem 0}@media (min-width: 0px) and (max-width: 759px){.sc-phn-myporsche-login-h .button-container.sc-phn-myporsche-login .more.sc-phn-myporsche-login{width:100%}}@media (min-width: 480px){.sc-phn-myporsche-login-h .button-container.sc-phn-myporsche-login .more.sc-phn-myporsche-login{padding:0 0 1rem 0.5rem}}@media (min-width: 760px){.sc-phn-myporsche-login-h .button-container.sc-phn-myporsche-login .more.sc-phn-myporsche-login{padding:0 0 1.4375rem 0}}@media (min-width: 1760px){.sc-phn-myporsche-login-h .button-container.sc-phn-myporsche-login .more.sc-phn-myporsche-login{padding:0 1rem 1.4375rem 0}}.sc-phn-myporsche-login-h phn-p-text.sc-phn-myporsche-login{padding-bottom:1.5rem;border-bottom:2px solid #d8d8db;margin-bottom:0.625rem}@media (min-width: 1920px){.sc-phn-myporsche-login-h phn-p-text.sc-phn-myporsche-login{margin-bottom:1rem}}.sc-phn-myporsche-login-h phn-p-link-pure.sc-phn-myporsche-login{float:left;text-decoration:underline;color:black}"}}]);