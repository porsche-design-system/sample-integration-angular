"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[592],{385:(R,y,i)=>{i.d(y,{f:()=>S,g:()=>f});var s=i(861),t=i(195),m=i(681),d=i(676),D=i(250);const N=new Map;function S(a,e){return _.apply(this,arguments)}function _(){return _=(0,s.Z)(function*(a,e){var n;const r=(0,m.a)(D.f.env),c=D.f.isShopToggleActive()&&e===m.A.shop,p=function g(a,e){return h.apply(this,arguments)}(r.CONTENT_URL,a),v=c?function l(a,e){return o.apply(this,arguments)}(r.SHOP_CONTENT_URL,a):Promise.resolve(null),[O,L]=yield Promise.allSettled([p,v]);if("rejected"===O.status)throw O.reason;const A=(0,d.m)(a,e,O.value),b="fulfilled"===L.status?L.value:null;return null===b||null===A.shop?A:Object.assign(Object.assign({},A),{shop:Object.assign(Object.assign({},A.shop),{children:b.menuItems||(null===(n=A.shop)||void 0===n?void 0:n.children)||[],additionalContent:b.additionalContent,availableLocales:A.shop.availableLocales,availableLocalesOnlyForShop:A.shop.availableLocalesOnlyForShop})})}),_.apply(this,arguments)}function h(){return(h=(0,s.Z)(function*(a,e){const{country:n,language:r}=(0,t.s)(e),c=(0,m.d)(a,e),p=N.get(c);if(void 0!==p)return p;const v=yield fetch(`${a}/${r}-${n}.json`,{headers:{"Cache-Control":"no-cache","Content-Type":"application/json"}});if(404===v.status)throw new t.N(`No content for locale ${e} found`,t.a.NO_RESULTS);if(!v.ok)throw new t.N(`Could not get content for locale ${e}`,t.a.GENERAL);const O=yield v.json();return N.set(c,O),O})).apply(this,arguments)}function o(){return(o=(0,s.Z)(function*(a,e){const{country:n,language:r}=(0,t.s)(e),c=yield fetch(`${a}/${n.toLowerCase()}/${r}-${n}/navigation`,{headers:{"Content-Type":"application/json","x-vercel-protection-bypass":"hXMkVgu6erfnX2ydOdeSCixWDWbPjBUk"}});if(404===c.status)throw new t.N(`No shop content for locale ${e} found`,t.a.NO_RESULTS);if(!c.ok)throw new t.N(`Could not get shop content for locale ${e}`,t.a.GENERAL);return c.json()})).apply(this,arguments)}function f(a,e){return E.apply(this,arguments)}function E(){return(E=(0,s.Z)(function*(a,e){try{const n=function u(a,e){const{country:n}=(0,t.s)(e);let r=n;return r.includes("-")&&!(0,t.i)(r)&&(r=n.split("-")[0]),`${a}/flags/${r}.svg`}(a,e);if((yield fetch(n)).ok)return n}catch{}return""})).apply(this,arguments)}},896:(R,y,i)=>{i.d(y,{s:()=>D});var s=i(195),t=i(974),m=i(492),d=i(598);function D({datalayerEventAction:N=s.E.NAVIGATION_CLICK,analyticsId:S,text:_,link:g,elementId:h,clickElementType:l,customDatalayerProperties:o={}}){t.g.pushDataLayerEvent(N,Object.assign(Object.assign({componentClick:Object.assign({clickElementId:S,clickElementName:_,targetElement:m.a.getModelTargetElement(h,_),clickElementType:l},l===s.C.Link?{targetUrl:g}:{}),componentDisplay:{displayElementId:m.a.calculateDisplayElementId(h),displayElementType:m.a.calculateDisplayElementType((0,d.r)(h),s.h.menuItem),displayElementName:_}},o),N===s.E.MODEL_RANGE_CLICK?{car:{modelRangeName:_.toLowerCase()}}:{}))}},691:(R,y,i)=>{i.d(y,{a:()=>D,b:()=>d,g:()=>N,s:()=>m});var s=i(195),t=i(681);function m(o){return["CN"].includes(o)}function d(o){return o.includes("-")?o.split("-")[0]:o}function D(o){return o.startsWith("https://")?o:`http://${o}`}function N(o){const{openingHours:u}=s.b.state.dealer;if(!u)return"";const f=[u.monday,u.tuesday,u.wednesday,u.thursday,u.friday,u.saturday,u.sunday],E=function _(o,u){const f=new Map;for(const E of u){const a=o[E.day.toLowerCase()];(0,t.i)(a)&&f.set(a,{open:E.open,close:E.close})}return f}(u,o),a=[];let e="",n=-1,r=[];for(const c of f){const p=f.indexOf(c),O=g(E.get(c));""!==O&&(""===e?(e=O,r.push(c)):e!==O||n!==p-1?(a.push(S(r,e)),r=[c],e=O):r.push(c),n=p)}return""!==e&&a.push(S(r,e)),a.join("\n")}function S(o,u){return 1===o.length?`${o[0]}: ${u}`:`${o[0]} - ${o[o.length-1]}: ${u}`}function g(o){return o&&""!==o.open&&""!==o.close?function h(o){const{openingHours:u}=s.b.state.dealer,f=12===u?.timeFormat;return`${l(o.open,f)} - ${l(o.close,f)}`}(o):""}function l(o,u=!1){const[f,E]=o.split(":").map(Number);return new Date(0,0,0,f,E).toLocaleString(void 0,{hour:"numeric",minute:"numeric",hour12:u}).toUpperCase()}},959:(R,y,i)=>{i.d(y,{a:()=>h,b:()=>N,c:()=>E,d:()=>_,g:()=>u});var s=i(861),t=i(195),m=i(250),d=i(681),D=function(e,n){var r={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&n.indexOf(c)<0&&(r[c]=e[c]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var p=0;for(c=Object.getOwnPropertySymbols(e);p<c.length;p++)n.indexOf(c[p])<0&&Object.prototype.propertyIsEnumerable.call(e,c[p])&&(r[c[p]]=e[c[p]])}return r};function N(e,n,r){return S.apply(this,arguments)}function S(){return(S=(0,s.Z)(function*(e,n,r){return _(e,n,{latitude:0,longitude:0},r,{radius:1e7})})).apply(this,arguments)}function _(e,n,r,c){return g.apply(this,arguments)}function g(){return(g=(0,s.Z)(function*(e,n,r,c,p={}){const{radius:v}=p;let O,L;try{const A=new Headers;A.set("Accept","*/*"),e===t.c.LOCAL&&A.set("Authorization","Basic "+m.w.btoa("undefined:undefined"));const b={coordinates:`${r.latitude},${r.longitude}`,radius:v};O=yield fetch(`${n}/${c}/dealers?${(0,d.b)(b)}`,{method:"GET",headers:A})}catch{throw new t.N("Unable to fetch dealers",t.a.GENERAL)}if(400===O.status)throw new t.N("dealerService.getPPNDealers failed with invalid coordinates",t.a.GENERAL);if(404===O.status)throw new t.N("dealerService.getPPNDealers failed with invalid country code and therefore responded with no results",t.a.NO_RESULTS);if(200!==O.status)throw new t.N("dealerService.getPPNDealers failed with invalid response",t.a.GENERAL);try{L=yield O.json()}catch{throw new t.N("dealerService.getPPNDealers could not parse response into json format",t.a.GENERAL)}return L.map(A=>{var{dealer:b}=A,P=D(A,["dealer"]);return Object.assign({ppnDealer:b},P)})})).apply(this,arguments)}function h(e,n,r,c,p){return l.apply(this,arguments)}function l(){return(l=(0,s.Z)(function*(e,n,r,c,p){let v;try{v=(yield _(e,n,c,p)).find(L=>r===L.ppnDealer.id)}catch{throw new t.N("Unable to fetch a dealer",t.a.GENERAL)}if(void 0===v)throw new t.N(`Requested dealer ${r} could not be found`,t.a.NO_RESULTS);return v})).apply(this,arguments)}const o=new Map;function u(e,n){return f.apply(this,arguments)}function f(){return(f=(0,s.Z)(function*(e,n){const c=(yield E(n)).regions.flatMap(({cities:p})=>p.flatMap(({dealers:v})=>Object.values(v).reduce((O,L)=>[...O,L],[]))).find(({ppnDealer:p})=>p.id===e);if(void 0===c)throw new t.N("Requested dealer could not be found",t.a.NO_RESULTS);return c})).apply(this,arguments)}function E(e){return a.apply(this,arguments)}function a(){return(a=(0,s.Z)(function*(e){const{env:n}=t.n.state,r=new Headers;let c;if(o.has(e))c=o.get(e);else{const{BFF_ENDPOINT:p}=(0,d.a)(n);r.set("Accept","*/*"),c=yield(yield fetch(`${p}/dealers/region/${e}?env=${n}`,{method:"GET",headers:r})).json(),o.set(e,c)}if(void 0===c)throw new t.N("Requested dealer could not be found",t.a.NO_RESULTS);return c})).apply(this,arguments)}},374:(R,y,i)=>{i.d(y,{a:()=>N,b:()=>g,c:()=>_,d:()=>S,i:()=>h,r:()=>D});var s=i(233),t=i(205);const m=l=>{l.style.left="150%",l.style.position="relative"},d="#main-drawer > div:first-child",D=({onAnimationStarts:l,onAnimationEnds:o})=>{s.a.register(t.A.OPEN_DOUBLE_DRAWER,(0,s.m)([[{onStart:l,elementSelector:"phn-double-drawer",animation:{className:"opening-animation",cleanUpAfterAnimation:f=>{f.style.left="0px"}}},{elementSelector:"phn-backdrop",animation:{className:"fade-in-animation",cleanUpAfterAnimation:f=>{f.style.opacity="1",f.style.backgroundColor="rgba(0, 0, 0, 0.6)"}},onEnd:o}]]))},N=({onBackdropFadeOutEnd:l,onAnimationStarts:o,onAnimationEnds:u})=>{s.a.register(t.A.CLOSE_DOUBLE_DRAWER,(0,s.m)([[{elementSelector:"phn-double-drawer",onStart:o,animation:{className:"closing-animation",cleanUpBeforeAnimation:E=>{E.style.left=""}}},{elementSelector:"phn-backdrop",animation:{className:"fade-out-animation",cleanUpBeforeAnimation:E=>{E.style.opacity="",E.style.backgroundColor=""}},onEnd:()=>{l(),u()}}]]))},S=({onSlideMainDrawerOutEnd:l},o="normal")=>{s.a.register("transitionSameLevelDoubleDrawer"+("reverse"===o?"Reverse":""),(0,s.m)([[{elementSelector:d,animation:{className:"reverse"===o?"transition-backward-animation-out":"transition-forward-animation-out",cleanUpAfterAnimation:m},onEnd:l}],[{elementSelector:d,animation:{className:"transition-forward-animation-in",cleanUpBeforeAnimation:u=>{u.style.left="",u.style.position=""}}}]]))},_=({onSlideMainDrawerOutEnd:l})=>{s.a.register("transitionNextLevelDoubleDrawer",(0,s.m)([[{elementSelector:"#side-drawer > div",animation:{className:"transition-forward-animation-out"}},{elementSelector:d,animation:{className:"transition-forward-animation-out"},onEnd:l}],[{elementSelector:"#side-drawer > div",animation:{className:"transition-forward-animation-in"}},{elementSelector:d,animation:{className:"transition-forward-animation-in"}}]]))},g=({onSlideMainDrawerOutEnd:l})=>{s.a.register("transitionPreviousLevelDoubleDrawer",(0,s.m)([[{elementSelector:"#side-drawer > div",animation:{className:"transition-backward-animation-out"}},{elementSelector:d,animation:{className:"transition-backward-animation-out"},onEnd:l}],[{elementSelector:"#side-drawer > div",animation:{className:"transition-backward-animation-in"}},{elementSelector:d,animation:{className:"transition-backward-animation-in"}}]]))},h=()=>[t.A.OPEN_DOUBLE_DRAWER,t.A.CLOSE_DOUBLE_DRAWER,t.A.TRANSITION_NEXT_LEVEL_DOUBLE_DRAWER,t.A.TRANSITION_PREVIOUS_LEVEL_DOUBLE_DRAWER,t.A.TRANSITION_SAME_LEVEL_DOUBLE_DRAWER,t.A.TRANSITION_SAME_LEVEL_DOUBLE_DRAWER_REVERSE].some(o=>{try{return s.a.isPlaying(o)}catch{return!1}})},558:(R,y,i)=>{i.d(y,{f:()=>t});const t=(0,i(195).e)({savedSearchesCount:0,savedVehiclesCount:0})},372:(R,y,i)=>{i.d(y,{c:()=>m});var s=i(861),t=i(250);function m(D,N){return d.apply(this,arguments)}function d(){return d=(0,s.Z)(function*(D,N,...S){if(null===D)return null;const _=function(){var l=(0,s.Z)(function*(o){const u=yield t.w.waitForElement(D,o);return"function"==typeof u?.componentOnReady&&(yield u.componentOnReady()),u});return function(u){return l.apply(this,arguments)}}(),g=S.length>0?S.map(_):[_()],h=new Promise(l=>N.set((0,s.Z)(function*(){return l(null)})));return Promise.race([Promise.all(g),h])}),d.apply(this,arguments)}},676:(R,y,i)=>{i.d(y,{a:()=>N,b:()=>o,f:()=>l,g:()=>E,i:()=>d,l:()=>u,m:()=>S,s:()=>m});var s=i(681),t=i(195);const m=(0,t.e)({wishlistItemsNumber:0,numberOfShoppingItems:0,shopInformation:{numberOfShoppingItems:0,wishlistItemsNumber:0,subTotal:"0"}});function d(a,e){var n;const r=null===(n=t.b.state.shop)||void 0===n?void 0:n.availableLocales;return void 0!==r&&r.includes(a)&&e===s.A.shop}function N(a,e,n){return d(a,e)&&function D(a){var e,n;return(null===(n=null===(e=t.b.state.shop)||void 0===e?void 0:e.logoLinksToShopLocales)||void 0===n?void 0:n.includes(a))||!1}(a)&&null!==n}function S(a,e,n){const{shop:r,externalShop:c}=n;return null===r?n:c&&e!==s.A.shop?function _(a,e,n){return Object.assign(Object.assign({},a),{shop:Object.assign(Object.assign({},e),n)})}(n,r,c):function g(a,e,n){return!a?.availableLocales.includes(e)||a?.availableLocalesOnlyForShop.includes(e)&&n!==s.A.shop}(r,a,e)?function h(a,e){return Object.assign(Object.assign({},a),{shop:Object.assign(Object.assign({},e),{text:""})})}(n,r):n}function l(a,e){return a?.filter(n=>e.includes(null==n.authStatus?null:n.authStatus))}function o(){const{myPorsche:a}=t.b.state,{loggedInState:e}=t.n.state;let{wishlistItemsNumber:n}=m.state.shopInformation;return 0===n&&(n=m.state.wishlistItemsNumber),{wishlistItemsNumber:n,username:(0,s.x)(e,a?.loggedInFallback||"")}}function u(a){m.set("wishlistItemsNumber",a.wishlistItemsNumber),m.set("numberOfShoppingItems",a.numberOfShoppingItems),m.set("shopInformation",a.shopInformation)}function f(){const{shopInformation:a}=m.state,{wishlistItemsNumber:e}=m.state;return(a.wishlistItemsNumber>0?a.wishlistItemsNumber:e)>0?"heart-filled":"heart"}function E(a){const n={wishlist:f}[a];return"function"!=typeof n?null:n()}},186:(R,y,i)=>{i.d(y,{a:()=>d,b:()=>D,c:()=>N,i:()=>S,r:()=>m});var s=i(233),t=i(205);const m=({onAnimationStarts:_,onAnimationEnds:g})=>{s.a.register(t.A.OPEN_SINGLE_DRAWER,(0,s.m)([[{onStart:_,elementSelector:"phn-single-drawer",animation:{className:"slide-in-from-left",cleanUpAfterAnimation:l=>{l.style.left="0px"}}},{elementSelector:"phn-backdrop",animation:{className:"fade-in-animation",cleanUpAfterAnimation:l=>{l.style.backgroundColor="rgba(0, 0, 0, 0.6)",l.style.opacity="1"}},onEnd:g}]]))},d=({onAnimationStarts:_,onAnimationEnds:g})=>{s.a.register(t.A.CLOSE_SINGLE_DRAWER,(0,s.m)([[{onStart:_,elementSelector:"phn-single-drawer",animation:{className:"slide-out-to-left",cleanUpBeforeAnimation:l=>{l.style.left=""},cleanUpAfterAnimation:l=>{l.style.left="-1000px"}}},{elementSelector:"phn-backdrop",animation:{className:"fade-out-animation",cleanUpBeforeAnimation:l=>{l.style.backgroundColor="",l.style.opacity=""}},onEnd:g}]]))},D=({onAnimationEnds:_})=>{s.a.register(t.A.TRANSITION_NEXT_LEVEL_SINGLE_DRAWER,(0,s.m)([[{elementSelector:"phn-single-drawer .drawer.animating",animation:{className:"slide-in-from-right-fixed"},onEnd:_}]]))},N=({onAnimationEnds:_})=>{s.a.register(t.A.TRANSITION_PREVIOUS_LEVEL_SINGLE_DRAWER,(0,s.m)([[{elementSelector:"phn-single-drawer .drawer.animating",animation:{className:"slide-out-to-right-fixed"},onEnd:_}]]))},S=()=>{try{return[t.A.OPEN_SINGLE_DRAWER,t.A.CLOSE_SINGLE_DRAWER,t.A.TRANSITION_NEXT_LEVEL_SINGLE_DRAWER,t.A.TRANSITION_PREVIOUS_LEVEL_SINGLE_DRAWER].some(g=>{try{return s.a.isPlaying(g)}catch{return!1}})}catch{return!1}}},564:(R,y,i)=>{i.d(y,{T:()=>t});var s=i(861);class t{constructor(d){this.delay=d,this.timer=null}set(d){var D=this;this.cancel(),this.timer=setTimeout((0,s.Z)(function*(){yield d(),D.cancel()}),this.delay)}cancel(){null!==this.timer&&(clearTimeout(this.timer),"function"==typeof this.timer.unref&&this.timer.unref(),this.timer=null)}}}}]);