"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[333],{4777:(M,m,n)=>{n.d(m,{a:()=>P});var i=n(9579),e=n(6212),s=n(7892),o=n(61);const u={},P={setDrawerType:function y(d){u.drawerType=d},calculateDisplayElementId:function v(d){const{drawerType:c}=u,t=((0,s.i)(d)?(0,i.b)(d):e.r.state.routingKeyHistory[e.r.state.routingKeyPointer])||"",a=(0,i.g)(t),r=(0,i.d)(t),l=r-1;if(!(0,s.i)(t))return"level0";const p=(0,s.i)(t)?`level${r}-${a}`:`level${r-1}-unknown`;return"doubleDrawer"===c?""===t?`level${l}-unknown_level${r}-unknown`:`level${l}-${(0,o.g)(t)}_${p}`:p},calculateDisplayElementType:function b(d,c,t){const{drawerType:a}=u,r=(0,i.d)(d);if("doubleDrawer"===a){let l=r;return t&&(l-=1),`level${l}_${c}`}return(0,s.i)(d)?`level${r}_${c}`:`level${r-1}_${c}`},getModelName:function I(d){const c=d.link.split("/"),t=c[c.length-1];let a;return a=""===t?void 0===c[c.length-2]?"":c[c.length-2].split("-").join(" "):t.split("-").join(" "),a},getModelTargetElement:function k(d,c){if(d.includes("models"))return`level${(0,i.d)(d)}_${c.toLowerCase()}`}}},5273:(M,m,n)=>{n.d(m,{d:()=>o});var i=n(2583),e=n(2849),s=n(7892);const o=(0,i.c)({searchTerm:"",results:[],savedDealerCookie:function u(){try{return JSON.parse(e.w.getCookie(s.S))}catch{return null}}(),ppnDealers:{}});o.onChange("savedDealerCookie",y=>{e.w.setCookie(s.S,JSON.stringify(y))})},61:(M,m,n)=>{n.d(m,{a:()=>P,b:()=>d,c:()=>c,d:()=>v,e:()=>y,f:()=>I,g:()=>b});var i=n(1797),e=n(9579),s=n(5273),o=n(7892),u=n(3713);function y(t,a,r,l,p,E){const{dealer:f,models:C,myPorsche:D,vehiclePurchase:_,shop:h,experience:R,services:g}=t,{savedDealerCookie:L,ppnDealers:w}=a,O=null!==L?w[L.id]:void 0,H=[e.a.DEALER_SEARCH];void 0!==O&&H.push((0,e.c)(O.ppnDealer.id));const S=[{elementId:e.a.MODELS,routingKeys:[e.a.MODELS],analyticsId:C.id,text:C.text},{elementId:e.a.VEHICLE_PURCHASE,routingKeys:[e.a.VEHICLE_PURCHASE],analyticsId:_.id,text:_.text},{elementId:e.a.SERVICES,routingKeys:[e.a.SERVICES],analyticsId:g.id,text:g.text},{elementId:e.a.EXPERIENCE,routingKeys:[e.a.EXPERIENCE],analyticsId:R.id,text:R.text}],A={elementId:e.a.DEALER_SEARCH,routingKeys:H,analyticsId:f.id,text:f.text};if(null!==h&&""!==h.text){const x={elementId:e.a.SHOP,routingKeys:[e.a.SHOP],analyticsId:h.id,text:h.text,link:(0,o.i)(h.link)?h.link:void 0,datalayerEventAction:i.E.NAVIGATION_LINK_CLICK,iconRight:"external"};S.splice(2,0,x)}if(function k(t,a){try{const{country:r}=(0,i.s)(t);return"CN"!==r&&!(0,i.i)(r)&&a}catch{}return!0}(r,E)){const x=O?.ppnDealer.nameLocalized?O?.ppnDealer.nameLocalized:O?.ppnDealer.name;(0,o.i)(x)&&(A.subtext=x)}else A.link=f.search.map.link,A.onClick=void 0;if(S.push(A),null!==D){const x=(0,o.I)(l),K=x?(0,o.w)(l,D.loggedInFallback):void 0;S.push({elementId:e.a.MY_PORSCHE,routingKeys:[e.a.MY_PORSCHE],analyticsId:D.id,text:D.text,subtext:K,showIconModifier:x&&p>0})}return S}function v(t,a,r,l,p,E,f){const C=i.f.isOneUiToggleActive(),D=(0,e.f)(E);switch(D){case E:break;case e.a.MODELS:return t.models.series.map(_=>({elementId:(0,e.h)(_.id),routingKeys:[(0,e.h)(_.id)],analyticsId:_.id,text:_.name,subtext:_.tags.map(h=>h.text).join(" | "),renderSignatures:C,datalayerEventAction:i.E.MODEL_RANGE_CLICK}));case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const _=(0,e.r)(E),h=I(t,_,D);if(null!==h)return h.children.map(R=>({elementId:(0,e.e)(_,R.id),routingKeys:[(0,e.e)(_,R.id)],analyticsId:R.id,text:R.text,link:R.link}));break}}return y(t,a,r,l,p,f)}function b(t){switch((0,e.f)(t)){case t:break;case e.a.DEALER_SEARCH:return e.a.DEALER_SEARCH;case e.a.MODELS:return e.a.MODELS;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const r=(0,e.r)(t);return(0,e.g)(r)}}return e.a.MAIN_MENU}function I(t,a,r){const{vehiclePurchase:l,experience:p,shop:E,legacyMore:f,services:C}=t,D={[e.a.VEHICLE_PURCHASE]:l,[e.a.EXPERIENCE]:p,[e.a.SHOP]:E,[e.a.MORE]:f,[e.a.SERVICES]:C}[r];if(void 0===D)return null;const _=(0,e.g)(a);return _===r?D:(0,i.d)(D,_)}function P(t,a){if(!(0,o.i)(a))return"";const r=(0,e.f)(a);switch(r){case e.a.MODELS:return t.models.text;case e.a.DEALER_SEARCH:return t.dealer.details.backToSearch;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.MORE:case e.a.EXPERIENCE:{const l=I(i.n.state,a,r);if(null!==l)return l.text;break}}return""}function d(t,a,r){var l;const{dealer:p,myPorsche:E,models:f,vehiclePurchase:C,experience:D,shop:_,legacyMore:h,services:R}=t;let g;switch(r){case e.a.MORE:case e.a.SHOP:case e.a.EXPERIENCE:case e.a.SERVICES:case e.a.VEHICLE_PURCHASE:{if(g={[e.a.VEHICLE_PURCHASE]:C,[e.a.EXPERIENCE]:D,[e.a.SHOP]:_,[e.a.MORE]:h,[e.a.SERVICES]:R}[r],void 0===g)return"";const L=(0,e.g)(a);return L===r?g?.text:null===(l=(0,i.d)(g,L))||void 0===l?void 0:l.text}case e.a.SERIES:case e.a.MODELS:{const L=(0,e.g)(a);return g=f.series.find(w=>L===w.id),void 0===g?f.text:g?.id}case e.a.DEALER_SEARCH:return p.search.text;case e.a.MY_PORSCHE:return E?.text}return""}function c(t,a){const{myPorsche:r,models:l}=i.n.state,{loggedInState:p}=u.n.state;if(t===e.a.MY_PORSCHE)return(0,o.I)(p)?(0,o.w)(p,r?.loggedInFallback||""):"";if(t===e.a.DEALER_SEARCH){const{savedDealerCookie:E,ppnDealers:f}=s.d.state;return E?f[E.id].ppnDealer.name:""}if(t===e.a.MODELS&&(0,o.i)(a)){const E=(0,e.g)(a),f=l.series.find(C=>E===C.id);if(f)return f.tags.map(C=>C.text).join(" | ")}return""}},3713:(M,m,n)=>{n.d(m,{n:()=>s});var i=n(2583),e=n(7892);const s=(0,i.c)({loggedInState:e.L,unreadMessagesCount:e.D,userConsent:!1,env:(0,i.g)(e.v)})},9333:(M,m,n)=>{n.r(m),n.d(m,{phn_backdrop:()=>t});var i=n(8965),e=n(4777),s=n(5601),o=n(2849),u=n(1797),y=n(7892);n(9579),n(6212),n(2583),n(61),n(5273),n(3713);const t=class{constructor(a){(0,i.r)(this,a),this.clickDrawerHeaderClose=(0,i.c)(this,"clickDrawerHeaderClose",7),this.backdropClosed=(0,i.c)(this,"backdropClosed",7),this.initialOverflow="unset",this.initialHeight="unset",this.activeRoutingKey=void 0}handleClick(){this.sendDataAnalyticsEvent(),this.clickDrawerHeaderClose.emit()}sendDataAnalyticsEvent(){e.a.setDrawerType(u.b.DoubleDrawer),s.g.pushDataLayerEvent(u.E.MENU_CLOSE_CLICK,{componentClick:{clickElementId:"mainmenu.drawer.close",clickElementName:"X",clickElementType:u.C.Button,targetElement:"level-0"},componentDisplay:{displayElementType:e.a.calculateDisplayElementType(this.activeRoutingKey,u.c.backdrop),displayElementId:e.a.calculateDisplayElementId(),displayElementName:"Double Drawer"}})}componentWillLoad(){(0,y.i)(o.w.bodyOverflow)&&(this.initialOverflow=o.w.bodyOverflow),(0,y.i)(o.w.bodyHeight)&&(this.initialHeight=o.w.bodyHeight),o.w.lockScroll()}disconnectedCallback(){o.w.unlockScroll(this.initialOverflow,this.initialHeight)}render(){return(0,i.h)(i.H,null)}get el(){return(0,i.g)(this)}};t.style="@-webkit-keyframes slideDown{from{max-height:0}to{max-height:1000px}}@keyframes slideDown{from{max-height:0}to{max-height:1000px}}@-webkit-keyframes slideUp{from{max-height:1000px}to{max-height:0}}@keyframes slideUp{from{max-height:1000px}to{max-height:0}}@-webkit-keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@-webkit-keyframes slideRight{from{max-width:1000px}to{max-width:0}}@keyframes slideRight{from{max-width:1000px}to{max-width:0}}@-webkit-keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@-webkit-keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@-webkit-keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@-webkit-keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@-webkit-keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@-webkit-keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}.phn-flex-col.sc-phn-backdrop{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.phn-flex-row.sc-phn-backdrop{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.phn-align-center.sc-phn-backdrop{-ms-flex-align:center;align-items:center}.phn-justify-around.sc-phn-backdrop{-ms-flex-pack:distribute;justify-content:space-around}.phn-justify-between.sc-phn-backdrop{-ms-flex-pack:justify;justify-content:space-between}.sc-phn-backdrop-h{position:fixed;z-index:300;top:0;left:0;right:0;bottom:0;background-color:rgba(0, 0, 0, 0.6);cursor:pointer;backdrop-filter:blur(32px);-webkit-backdrop-filter:blur(32px)}"},6212:(M,m,n)=>{n.d(m,{r:()=>e});const e=(0,n(2583).c)({routingKeyHistory:[],routingKeyPointer:-1,initialRoutingKeyHistory:null,initialRoutingKeyPointer:null})},9579:(M,m,n)=>{n.d(m,{R:()=>s,a:()=>e,b:()=>c,c:()=>v,d:()=>d,e:()=>o,f:()=>u,g:()=>k,h:()=>y,i:()=>I,j:()=>b,r:()=>P});var i=n(7892);const e={MAIN_MENU:"mainmenu",DEALER_SEARCH:"find_a_dealer",MORE:"more",SHOP:"shop",SERIES:"series",MY_PORSCHE:"my_porsche",VEHICLE_PURCHASE:"vehicle_purchase",EXPERIENCE:"experience",SERVICES:"services",MODELS:"models"};var s=(()=>((s=s||{})[s.LEVEL_ZERO=-1]="LEVEL_ZERO",s[s.LEVEL_ONE=0]="LEVEL_ONE",s[s.LEVEL_TWO=1]="LEVEL_TWO",s))();function o(...t){return t.reduce((a,r)=>[...a,...(0,i.g)(r).split("/")],[]).filter(Boolean).join("/")}function u(t){if((0,i.i)(t))return Object.values(e).find(a=>t.startsWith(a))}function y(...t){return o(e.MODELS,...t)}function v(...t){return o(e.DEALER_SEARCH,...t)}function b(...t){return o(e.MY_PORSCHE,...t)}function I(...t){return o(e.VEHICLE_PURCHASE,...t)}function k(t){return t.split("/").slice(-1)[0]}function P(t){return t.split("/").slice(0,-1).join("/")}function d(t){switch(u(t)){case e.MAIN_MENU:return 1;case t:return 2;default:return t.split("/").length+1}}function c(t){const a=P(t);return(0,i.i)(a)?a:e.MAIN_MENU}}}]);