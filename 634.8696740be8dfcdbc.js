"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[634],{5276:(S,g,n)=>{n.d(g,{a:()=>L});var i=n(1513),e=n(21),c=n(3812),r=n(5201);const h={},L={setDrawerType:function p(m){h.drawerType=m},calculateDisplayElementId:function P(m){const{drawerType:u}=h,t=((0,c.i)(m)?(0,i.b)(m):e.r.state.routingKeyHistory[e.r.state.routingKeyPointer])||"",s=(0,i.g)(t),a=(0,i.d)(t),o=a-1;if(!(0,c.i)(t))return"level0";const f=(0,c.i)(t)?`level${a}-${s}`:`level${a-1}-unknown`;return"doubleDrawer"===u?""===t?`level${o}-unknown_level${a}-unknown`:`level${o}-${(0,r.g)(t)}_${f}`:f},calculateDisplayElementType:function v(m,u,t){const{drawerType:s}=h,a=(0,i.d)(m);if("doubleDrawer"===s){let o=a;return t&&(o-=1),`level${o}_${u}`}return(0,c.i)(m)?`level${a}_${u}`:`level${a-1}_${u}`},getModelName:function R(m){const u=m.link.split("/"),t=u[u.length-1];let s;return s=""===t?void 0===u[u.length-2]?"":u[u.length-2].split("-").join(" "):t.split("-").join(" "),s},getModelTargetElement:function M(m,u){if(m.includes("models"))return`level${(0,i.d)(m)}_${u.toLowerCase()}`}}},6316:(S,g,n)=>{n.d(g,{d:()=>r});var i=n(8314),e=n(6671),c=n(3812);const r=(0,i.c)({searchTerm:"",results:[],savedDealerCookie:function h(){try{return JSON.parse(e.w.getCookie(c.S))}catch{return null}}(),ppnDealers:{}});r.onChange("savedDealerCookie",p=>{e.w.setCookie(c.S,JSON.stringify(p))})},7540:(S,g,n)=>{n.d(g,{c:()=>p,g:()=>c,i:()=>r});var i=n(5861),e=n(6369);const c=()=>e.f.isOneUiToggleActive()?"default":"pds2";function r(){return h.apply(this,arguments)}function h(){return(h=(0,i.Z)(function*(){if(e.f.isOneUiToggleActive()){const{load:v}=yield n.e(958).then(n.bind(n,8958));v({prefix:"phn"})}else{const{load:v}=yield n.e(613).then(n.bind(n,4613));v({prefix:"phn"})}})).apply(this,arguments)}function p(v){return P.apply(this,arguments)}function P(){return(P=(0,i.Z)(function*(v){let R;if(e.f.isOneUiToggleActive()){const{componentsReady:M}=yield n.e(958).then(n.bind(n,8958));R=M}else{const{componentsReady:M}=yield n.e(613).then(n.bind(n,4613));R=M}yield R(v)})).apply(this,arguments)}},5201:(S,g,n)=>{n.d(g,{a:()=>L,b:()=>m,c:()=>u,d:()=>P,e:()=>p,f:()=>R,g:()=>v});var i=n(6369),e=n(1513),c=n(6316),r=n(3812),h=n(5267);function p(t,s,a,o,f,d){const{dealer:l,models:C,myPorsche:_,vehiclePurchase:E,shop:D,experience:I,services:O}=t,{savedDealerCookie:A,ppnDealers:H}=s,y=null!==A?H[A.id]:void 0,U=[e.a.DEALER_SEARCH];void 0!==y&&U.push((0,e.c)(y.ppnDealer.id));const T=[{elementId:e.a.MODELS,routingKeys:[e.a.MODELS],analyticsId:C.id,text:C.text},{elementId:e.a.VEHICLE_PURCHASE,routingKeys:[e.a.VEHICLE_PURCHASE],analyticsId:E.id,text:E.text},{elementId:e.a.SERVICES,routingKeys:[e.a.SERVICES],analyticsId:O.id,text:O.text},{elementId:e.a.EXPERIENCE,routingKeys:[e.a.EXPERIENCE],analyticsId:I.id,text:I.text}],K={elementId:e.a.DEALER_SEARCH,routingKeys:U,analyticsId:l.id,text:l.text};if(null!==D&&""!==D.text){const x={elementId:e.a.SHOP,routingKeys:[e.a.SHOP],analyticsId:D.id,text:D.text,link:(0,r.i)(D.link)?D.link:void 0,datalayerEventAction:i.E.NAVIGATION_LINK_CLICK,iconRight:"external"};T.splice(2,0,x)}if(function M(t,s){try{const{country:a}=(0,i.s)(t);return"CN"!==a&&!(0,i.i)(a)&&s}catch{}return!0}(a,d)){const x=y?.ppnDealer.nameLocalized?y?.ppnDealer.nameLocalized:y?.ppnDealer.name;(0,r.i)(x)&&(K.subtext=x)}else K.link=l.search.map.link,K.onClick=void 0;if(T.push(K),null!==_){const x=(0,r.I)(o),b=x?(0,r.w)(o,_.loggedInFallback):void 0;T.push({elementId:e.a.MY_PORSCHE,routingKeys:[e.a.MY_PORSCHE],analyticsId:_.id,text:_.text,subtext:b,showIconModifier:x&&f>0})}return T}function P(t,s,a,o,f,d,l){const C=i.f.isOneUiToggleActive(),_=(0,e.f)(d);switch(_){case d:break;case e.a.MODELS:return t.models.series.map(E=>({elementId:(0,e.h)(E.id),routingKeys:[(0,e.h)(E.id)],analyticsId:E.id,text:E.name,subtext:E.tags.map(D=>D.text).join(" | "),renderSignatures:C,datalayerEventAction:i.E.MODEL_RANGE_CLICK}));case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const E=(0,e.r)(d),D=R(t,E,_);if(null!==D)return D.children.map(I=>({elementId:(0,e.e)(E,I.id),routingKeys:[(0,e.e)(E,I.id)],analyticsId:I.id,text:I.text,link:I.link}));break}}return p(t,s,a,o,f,l)}function v(t){switch((0,e.f)(t)){case t:break;case e.a.DEALER_SEARCH:return e.a.DEALER_SEARCH;case e.a.MODELS:return e.a.MODELS;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const a=(0,e.r)(t);return(0,e.g)(a)}}return e.a.MAIN_MENU}function R(t,s,a){const{vehiclePurchase:o,experience:f,shop:d,legacyMore:l,services:C}=t,_={[e.a.VEHICLE_PURCHASE]:o,[e.a.EXPERIENCE]:f,[e.a.SHOP]:d,[e.a.MORE]:l,[e.a.SERVICES]:C}[a];if(void 0===_)return null;const E=(0,e.g)(s);return E===a?_:(0,i.d)(_,E)}function L(t,s){if(!(0,r.i)(s))return"";const a=(0,e.f)(s);switch(a){case e.a.MODELS:return t.models.text;case e.a.DEALER_SEARCH:return t.dealer.details.backToSearch;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.MORE:case e.a.EXPERIENCE:{const o=R(i.n.state,s,a);if(null!==o)return o.text;break}}return""}function m(t,s,a){var o;const{dealer:f,myPorsche:d,models:l,vehiclePurchase:C,experience:_,shop:E,legacyMore:D,services:I}=t;let O;switch(a){case e.a.MORE:case e.a.SHOP:case e.a.EXPERIENCE:case e.a.SERVICES:case e.a.VEHICLE_PURCHASE:{if(O={[e.a.VEHICLE_PURCHASE]:C,[e.a.EXPERIENCE]:_,[e.a.SHOP]:E,[e.a.MORE]:D,[e.a.SERVICES]:I}[a],void 0===O)return"";const A=(0,e.g)(s);return A===a?O?.text:null===(o=(0,i.d)(O,A))||void 0===o?void 0:o.text}case e.a.SERIES:case e.a.MODELS:{const A=(0,e.g)(s);return O=l.series.find(H=>A===H.id),void 0===O?l.text:O?.id}case e.a.DEALER_SEARCH:return f.search.text;case e.a.MY_PORSCHE:return d?.text}return""}function u(t,s){const{myPorsche:a,models:o}=i.n.state,{loggedInState:f}=h.n.state;if(t===e.a.MY_PORSCHE)return(0,r.I)(f)?(0,r.w)(f,a?.loggedInFallback||""):"";if(t===e.a.DEALER_SEARCH){const{savedDealerCookie:d,ppnDealers:l}=c.d.state;return d?l[d.id].ppnDealer.name:""}if(t===e.a.MODELS&&(0,r.i)(s)){const d=(0,e.g)(s),l=o.series.find(C=>d===C.id);if(l)return l.tags.map(C=>C.text).join(" | ")}return""}},5267:(S,g,n)=>{n.d(g,{n:()=>c});var i=n(8314),e=n(3812);const c=(0,i.c)({loggedInState:e.L,unreadMessagesCount:e.D,userConsent:!1,env:(0,i.g)(e.v)})},6634:(S,g,n)=>{n.r(g),n.d(g,{phn_drawer_header:()=>d});var i=n(5861),e=n(1502),c=n(2257),r=n(6369),h=n(5276),p=n(3812),P=n(5201),v=n(1513),R=n(9693),M=n(1836),L=n(7540);n(8314),n(6671),n(21),n(6316),n(5267);const d=class{constructor(l){(0,e.r)(this,l),this.clickDrawerHeaderBack=(0,e.c)(this,"clickDrawerHeaderBack",7),this.clickDrawerHeaderClose=(0,e.c)(this,"clickDrawerHeaderClose",7),this.backButtonText="",this.backButtonAnalyticsId=void 0,this.showBackButton=!1,this.activeRoutingKey=void 0,this.breakpoint=void 0,this.receivedContent=!1,this.pdsMode=(0,L.g)(),this.showSkeleton=!0}componentWillLoad(){this.waitForComponentsToLoad()}waitForComponentsToLoad(){var l=this;return(0,i.Z)(function*(){yield(0,R.c)(l.el,new M.T(5e3)),l.showSkeleton=!l.receivedContent})()}sendDataLayerEvent(){c.g.pushDataLayerEvent(r.E.MENU_CLOSE_CLICK,{componentClick:{clickElementId:"mainmenu.drawer.close",clickElementName:"X",clickElementType:r.C.Button,targetElement:"level-0"},componentDisplay:{displayElementId:h.a.calculateDisplayElementId(),displayElementType:h.a.calculateDisplayElementType(this.activeRoutingKey,r.c.closeButton),displayElementName:"X"}})}render(){const l=(0,v.f)(this.activeRoutingKey),C=r.f.isOneUiToggleActive()&&!(0,p.l)(this.breakpoint),_=void 0!==l?(0,P.b)(r.n.state,this.activeRoutingKey,l):"",E=_.includes("mainmenu.")?_.split("mainmenu.")[1]:"",D=(0,P.c)(l,this.activeRoutingKey);return(0,e.h)("div",{class:"drawer-header"},this.showBackButton?(0,e.h)(e.F,null,(0,e.h)("phn-back-button",{class:"back-button",onClick:()=>{this.clickDrawerHeaderBack.emit()},analyticsId:this.backButtonAnalyticsId,text:C?"":this.backButtonText,activeRoutingKey:this.activeRoutingKey,style:this.showSkeleton?{display:"none"}:{}}),this.showSkeleton?(0,e.h)("div",{class:"button-skeleton"}):null):(0,e.h)("div",{class:"spacer"}),C?""===E?(0,e.h)(e.F,null,this.showSkeleton&&this.showBackButton?(0,e.h)("div",{class:"skeleton-headline"}):null,(0,e.h)("phn-heading",{text:_,style:this.showSkeleton||!(0,p.i)(_)?{display:"none"}:{},class:"heading-items",subtext:D})):(0,e.h)(e.F,null,this.showSkeleton?(0,e.h)("div",{class:"skeleton-headline"}):null,(0,e.h)("phn-signature-heading",{text:E,subtext:D})):null,(0,e.h)(e.F,null,(0,e.h)("phn-p-button-pure",{class:"close-button",icon:"close",hideLabel:"true",aria:{"aria-label":"close dialog"},size:"small",style:this.showSkeleton?{display:"none"}:{},"data-test-id":"close-button",onClick:()=>{this.sendDataLayerEvent(),this.clickDrawerHeaderClose.emit()}},"Close Dialog"),this.showSkeleton?(0,e.h)("div",{class:"button-skeleton"}):null))}get el(){return(0,e.g)(this)}};d.style={default:".sc-phn-drawer-header-default-h{display:block}.drawer-header.sc-phn-drawer-header-default{height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.heading-items.sc-phn-drawer-header-default{margin-bottom:0.25rem;-ms-flex-align:center;align-items:center}.skeleton-headline.sc-phn-drawer-header-default{width:9.375rem;height:1.5rem;background:#d8d8db;border-radius:4px}.button-skeleton.sc-phn-drawer-header-default{margin-left:0.5rem;border-radius:0.25rem;height:1.5rem;width:1.5rem;background:#d8d8db}",pds2:".sc-phn-drawer-header-pds2-h{display:block}.drawer-header.sc-phn-drawer-header-pds2{height:100%;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between}.heading-items.sc-phn-drawer-header-pds2{margin-bottom:0.375rem;align:center}.skeleton-headline.sc-phn-drawer-header-pds2{width:9.375rem;height:1.5rem;background:#e3e4e5;border-radius:4px}.button-skeleton.sc-phn-drawer-header-pds2{margin-left:0.5rem;border-radius:0.25rem;height:1.5rem;width:1.5rem;background:#e3e4e5}phn-p-model-signature.sc-phn-drawer-header-pds2{margin-top:0.375rem;align:center}@media (min-width: 0){phn-p-model-signature.sc-phn-drawer-header-pds2{height:1.625rem}}@media (min-width: 480px){phn-p-model-signature.sc-phn-drawer-header-pds2{height:2.25rem}}"}},21:(S,g,n)=>{n.d(g,{r:()=>e});const e=(0,n(8314).c)({routingKeyHistory:[],routingKeyPointer:-1,initialRoutingKeyHistory:null,initialRoutingKeyPointer:null})},1513:(S,g,n)=>{n.d(g,{R:()=>c,a:()=>e,b:()=>u,c:()=>P,d:()=>m,e:()=>r,f:()=>h,g:()=>M,h:()=>p,i:()=>R,j:()=>v,r:()=>L});var i=n(3812);const e={MAIN_MENU:"mainmenu",DEALER_SEARCH:"find_a_dealer",MORE:"more",SHOP:"shop",SERIES:"series",MY_PORSCHE:"my_porsche",VEHICLE_PURCHASE:"vehicle_purchase",EXPERIENCE:"experience",SERVICES:"services",MODELS:"models"};var c=(()=>{return(t=c||(c={}))[t.LEVEL_ZERO=-1]="LEVEL_ZERO",t[t.LEVEL_ONE=0]="LEVEL_ONE",t[t.LEVEL_TWO=1]="LEVEL_TWO",c;var t})();function r(...t){return t.reduce((s,a)=>[...s,...(0,i.g)(a).split("/")],[]).filter(Boolean).join("/")}function h(t){if((0,i.i)(t))return Object.values(e).find(s=>t.startsWith(s))}function p(...t){return r(e.MODELS,...t)}function P(...t){return r(e.DEALER_SEARCH,...t)}function v(...t){return r(e.MY_PORSCHE,...t)}function R(...t){return r(e.VEHICLE_PURCHASE,...t)}function M(t){return t.split("/").slice(-1)[0]}function L(t){return t.split("/").slice(0,-1).join("/")}function m(t){switch(h(t)){case e.MAIN_MENU:return 1;case t:return 2;default:return t.split("/").length+1}}function u(t){const s=L(t);return(0,i.i)(s)?s:e.MAIN_MENU}}}]);