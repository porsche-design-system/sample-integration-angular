"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[986],{986:(re,P,N)=>{N.d(P,{g:()=>se,s:()=>v});var c=N(36),l=N(896);function v(n){if(!(0,c.i)(n))throw new l.N("empty locale passed",l.a.NO_INPUT);const e=n.substring(0,n.indexOf("-")).toLowerCase();let t=n.substring(n.indexOf("-")+1);if(-1===Object.values(c.e).indexOf(t)&&(t=t.toUpperCase()),!(0,c.i)(e)||!(0,c.i)(t))throw new l.N(`invalid locale ${n} passed`,l.a.INVALID_INPUT);return{language:e,country:t in c.e?c.e[t]:t}}var a=Object.defineProperty,_=(n,e,t)=>(((n,e,t)=>{e in n?a(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t})(n,"symbol"!=typeof e?e+"":e,t),t);const I={clean:{enabled:!1,executionPlace:"AFTER_MERGE",values:["",void 0,null]},logging:{enabled:!0,level:"warn"},validation:{enabled:!1,allowUnknown:!1,verbose:!0},webProperties:{enabled:!0,eventNamePattern:/.*/,reactiveUrl:!0,reactiveDimensions:!0}};class y{create(e){return"string"!=typeof e.event||0===e.event.length?{}:{context:{eventAction:e.event}}}}const A=(n,e)=>((n,e)=>{let t;for(t in n)if(n&&n[t]&&!1===e(n[t],t))return!1;return!0})(n,(t,r)=>{for(const i in n[r])if(!1===e(t[i],i,t,r))return!1;return!0}),O=n=>{for(const e in n)return!1;return!0},E=(n,e=(t=>null==(t=I.clean)?void 0:t.values)()||[])=>(A(n,(t,r,i,o)=>{e.includes(t)&&(delete i[r],O(i)&&delete n[o])}),n),M=n=>(A(n,(e,t,r)=>("function"!=typeof e||(r[t]=e()),!0)),n),B=(n,e)=>{const t=e.split(".");if(2!==t.length)return;const r=n[t[0]];return r?r[t[1]]:void 0},j=I.logging;var U=(n=>(n[n.error=0]="error",n[n.warn=1]="warn",n[n.log=2]="log",n))(U||{});const G=class{constructor(n,e){_(this,"prefix"),_(this,"settings"),this.prefix=n,this.settings={...j,...e}}_getMergedSettings(n){return n?{...this.settings,...n}:this.settings}_isAllowed(n,e){if(!G.isAvailable||!e.enabled)return!1;const t=U[e.level];switch(n){case"error":case"warn":return t>=U[n];case"info":case"log":case"debug":case"dir":return t>=2;default:return!1}}_log(n,e="log",t){const r=this._getMergedSettings(t);this._isAllowed(e,r)&&("dir"===e?(console.log(`[${this.prefix}] ${e}:`),console[e](n)):console[e](`[${this.prefix}] ${n}`))}log(n,e){this._log(n,"log",e)}dir(n,e){this._log(n,"dir",e)}debug(n,e){this._log(n,"debug",e)}error(n,e){this._log(n,"error",e)}info(n,e){this._log(n,"info",e)}warn(n,e){this._log(n,"warn",e)}};let f=G;_(f,"isAvailable",typeof console<"u");const m=(...n)=>{const e={};return n.forEach(t=>{if(O(t))return;const r={...e,...t};let i;for(i in r)e[i]="object"!=typeof r[i]||Array.isArray(r[i])?r[i]:{...e[i],...t[i]}}),e};class T{create(e){return E({context:{timestamp:e.timestamp,server:e.hostname},pageExperience:{pageId:e.url},visitor:{deviceBrowserBreakpoint:e.breakpoint,deviceBrowserHeight:e.height,deviceBrowserOrientation:e.orientation,deviceBrowserWidth:e.width,deviceType:e.deviceType,useragent:e.userAgent}},[void 0])}}const K=I.webProperties,x=()=>window.location.href.replace(/[?#].*/,""),H=()=>window.innerHeight.toString(),C=()=>window.innerHeight>window.innerWidth?"p":"l",F=()=>window.innerWidth.toString(),w=n=>{if(!n.breakpoints||n.breakpoints.length<1)return;const{breakpoints:e}=n,t=()=>{const r=window.innerWidth;let i=0,o=0;for(;o<e.length&&r>=e[o];)i=e[o],o++;return i.toString()};return n.reactiveDimensions?t:t()},z=(n,e)=>{switch(e){case"string":case"number":case"boolean":return typeof n===e;case"any[]":return Array.isArray(n)&&n.length>0;case"Record<string, any>":return"object"==typeof n&&!Array.isArray(n)&&Object.keys(n).length>0;case"any":return!0;default:if(e.indexOf("|")>0){const t=e.split("|").map(r=>r.trim().replace(/(^ ?'?|'? ?$)/g,""));return"string"==typeof n&&t.includes(n)}}return!0};class q{constructor(e,t,r="GlobalDataLayer"){_(this,"_className"),_(this,"_settings"),_(this,"_defaultProperties"),_(this,"_logger"),_(this,"_webPropertiesHandled",!1),_(this,"_dataLayerStore"),_(this,"_extensions",new Map);const i=m(I,e||{});this._className=r,this._logger=new f(this._className,i.logging),this._settings=i,t?this._dataLayerStore=t:typeof window<"u"?(this._dataLayerStore=window.pagData=window.pagData||[],this._logger.info("`dataLayerStore` was set to default `window.pagData`")):(this._dataLayerStore=[],this._logger.info("`dataLayerStore` was set to default `[]`")),this._defaultProperties=[]}setup(){this._handleDefaultWebProperties()}get Settings(){return this._settings}get DataLayerStore(){return this._dataLayerStore}getRegisteredExtension(e){const t=new e;return this.getRegisteredExtensionByClassName(t.className)}getRegisteredExtensionByClassName(e){return this._extensions.has(e)?this._extensions.get(e):void 0}getRegisteredExtensions(){const e=[];for(const t of this._extensions.values())e.push(t);return e}registerExtension(e,t=!1){t||!this._extensions.has(e.className)?(e.dataLayerInstance=this,this._extensions.set(e.className,e),this._logger.info(t?`Overriden registration for extension class <${e.className}>.`:`Registered extension class <${e.className}>.`)):this._logger.warn(`Tried to register extension class <${e.className}> which already exists.`)}removeExtension(e){const t=new e;this._extensions.has(t.className)?this._extensions.delete(t.className):this._logger.warn(`Tried to remove not existing extension class <${t.className}>.`)}removeExtensionByClassName(e){this._extensions.has(e)?this._extensions.delete(e):this._logger.warn(`Tried to remove not existing extension class <${e}>.`)}push(e,t=[{}],r){var i,o;if(0===e.length)return!1;const s=r&&!O(r)?m(this._settings,r):this._settings;Array.isArray(t)||(t=[t]),t.forEach(M);const p=this._eventNamePayloadFactory.create({event:e}),R=M(this.getDefaultProperties(e));s.clean.enabled&&"BEFORE_MERGE"===s.clean.executionPlace&&[R||{},...t].forEach(h=>E(h,s.clean.values));const L=m(p,R||{},...t);if(s.clean.enabled&&"AFTER_MERGE"===s.clean.executionPlace&&E(L,s.clean.values),(null==(i=s?.validation)?void 0:i.enabled)&&(null==(o=s?.validation)?void 0:o.eventMatrix)){const h=((n,e,t)=>{const r={level:null,issues:[]};if(!t.enabled||!t.eventMatrix)return r;const{events:i,...o}=t.eventMatrix,s=i.indexOf(n);if(-1===s)return r.level="error",r.issues.push({level:"error",type:"EVENT_NOT_FOUND",name:n,message:`'${n}': Event does not exist.`}),r;const p=(n=>{if(!n)return[];const e=[];return A(n,(t,r,i,o)=>{e.push(`${o.toString()}.${r.toString()}`)}),e})(e),R=Object.keys(o),L=p.filter(u=>!R.includes(u));let h;for(h in L.length>0&&(t.allowUnknown||((n,e)=>{n&&A(n,(t,r,i,o)=>{!e.includes(`${o.toString()}.${r.toString()}`)||(delete i[r],O(i)&&delete n[o])})})(e,L),L.forEach(u=>{var g;r.level=null!=(g=r.level)?g:"warn",r.issues.push({level:"warn",type:"PROPERTY_DOES_NOT_EXIST",name:u,message:`'${u}': Property does not exist in the given Event Matrix.${t.allowUnknown?"":" It was omitted from the DataLayer payload."}`})})),o){const u=o[h],g=typeof u.e[s]<"u",V=1===u.r,ne=e?B(e,h):void 0,ie=typeof ne<"u";if(g&&V&&!ie&&(r.level="error",r.issues.push({level:"error",type:"REQUIRED_PROPERTY_MISSING",name:h,message:`'${h}': The required property is missing.`}),!t.verbose)||ie&&!z(ne,u.t)&&(r.level="error",r.issues.push({level:"error",type:"WRONG_PROPERTY_TYPE",name:h,message:`'${h}': Wrong type detected. Expected '${u.t}', got '${typeof ne}'.`}),!t.verbose))return r}return r})(e,L,s.validation),u=h.issues.sort((g,V)=>g.level!==V.level&&"warn"===V.level?-1:0).map(g=>`- [${g.level}]: ${g.message}`).join("\n");switch(h.level){case"error":return this._logger.error(`Validation failed for event '${e}' with errors/warnings: \n${u}`,s.logging),!1;case"warn":this._logger.warn(`Validation success for event '${e}' with warnings: \n${u}`,s.logging);break;default:this._logger.info(`Validation success for event '${e}'.`,s.logging)}}return this._dataLayerStore.push(L),!0}getDefaultProperties(e){const t={byName:[],byArray:[],byRegex:[]};this._defaultProperties.forEach(i=>i.identifier===e?t.byName.push(i.data):Array.isArray(i.identifier)&&i.identifier.includes(e)?t.byArray.push(i.data):i.identifier instanceof RegExp&&i.identifier.test(e)?t.byRegex.push(i.data):void 0);const r=[...t.byRegex,...t.byArray,...t.byName];if(r.length)return m(...r)}setDefaultProperties(e,t){const r=this._defaultProperties.find(i=>i.identifier===e);r?r.data=m(r.data,t):this._defaultProperties.push({identifier:e,data:t})}_handleDefaultWebProperties(){if(this._webPropertiesHandled||!this._settings.webProperties.enabled)return;const e=((n,e)=>{const t={...K,...this._settings.webProperties},r={breakpoint:w(t),timestamp:(new Date).toISOString(),hostname:window.location.hostname,url:t.reactiveUrl?x:x(),height:t.reactiveDimensions?H:H(),orientation:t.reactiveDimensions?C:C(),width:t.reactiveDimensions?F:F(),deviceType:window.matchMedia("(hover: none), (pointer: coarse)").matches?"mobile":"desktop",userAgent:window.navigator.userAgent};return e?e.create(r):r})(0,this._webPayloadFactory);this.setDefaultProperties(this._settings.webProperties.eventNamePattern,e),this._webPropertiesHandled=!0}}class Y extends q{constructor(e,t,r="GlobalDataLayer"){super(e,t,r),_(this,"_eventNamePayloadFactory"),_(this,"_webPayloadFactory"),this._eventNamePayloadFactory=new y,this._webPayloadFactory=new T,this.setup()}setup(){super.setup()}}function ee(n){switch(n){case c.E.PRODUCTION:return"P";case c.E.PREVIEW:return"PP";default:return"K"}}const se=new class te{constructor(){this.homeNavEventId=/^PAGHomeNav_/,this.initialise()}initialise(){this.gdl=new Y}pushDataLayerEvent(e,t){t?this.gdl.push(e,t):this.gdl.push(e)}setEnvironment(e){this.gdl.setDefaultProperties(this.homeNavEventId,{context:{environment:ee(e)}})}setPageName(e){this.gdl.setDefaultProperties(this.homeNavEventId,{pageExperience:{pageName:e}})}setUser(e,t){this.gdl.setDefaultProperties(this.homeNavEventId,{ids:{userId:e},visitor:{loginStatus:t}})}setLocale(e){try{const{country:t,language:r}=v(e);this.gdl.setDefaultProperties(this.homeNavEventId,{context:{country:t,language:r}})}catch{}}setDefaultProperties(e,t){let r={context:{applicationId:c.s},visitor:{loginStatus:!1}};try{const{country:i,language:o}=v(e);r=Object.assign(Object.assign({},r),{context:Object.assign(Object.assign({},r.context),{country:i,language:o,applicationName:c.D})})}catch{}(0,c.i)(t)&&(r=Object.assign(Object.assign({},r),{pageExperience:{pageName:t}})),this.gdl.setDefaultProperties(this.homeNavEventId,r)}}},36:(re,P,N)=>{N.d(P,{A:()=>r,B:()=>n,C:()=>Z,D:()=>G,E:()=>D,F:()=>$,G:()=>z,H:()=>te,I:()=>H,J:()=>x,K:()=>q,L:()=>y,M:()=>W,R:()=>S,S:()=>K,V:()=>A,a:()=>b,b:()=>t,c:()=>i,d:()=>I,e:()=>m,f:()=>F,g:()=>k,h:()=>f,i:()=>Q,j:()=>d,k:()=>se,l:()=>o,m:()=>ee,n:()=>E,o:()=>C,p:()=>Y,q:()=>M,r:()=>B,s:()=>U,t:()=>O,u:()=>_,v:()=>T,w:()=>j,x:()=>X,y:()=>J,z:()=>w});const d={test:{CONTENT_URL:"http://content/url",ASSETS_URL:"http://assets/url",PROFILE_API_URL:"http://profile-api/url",FINDER_URL:"http://finder/url",FOOTER_ASSETS_URL:"http://footer/assets",COUNTRY_SELECTOR_URL:"http://select/countries",UNREAD_MESSAGES_COUNT_API_URL:"http://unread-messages-count-api/url",LOGIN_BASE_URL:"http://login-base/url",LOGIN_REDIRECT_URL:"http://login-redirect/url",CLIENT_ID:"client-id",IDENTITY_PROVIDER_URL:"http://identity-redirect/url",IDENTITY_CLIENT_ID:"identity-client-id",IDENTITY_AUDIENCE:"https://identity-audience/url",IDP_MIGRATION_ENDPOINT:"http://idp-migration-endpoint",PORSCHE_COM_URL:["http://porsche-com/url"],DEALER_API_URL:"https://eu-0.test.api.porsche.io/porsche-group/test/dealer-search"},local:{CONTENT_URL:"https://preview-nav.porsche.com/v3/content",ASSETS_URL:".",FOOTER_ASSETS_URL:"https://footer.pchomenav.aws.porsche.cloud/assets",COUNTRY_SELECTOR_URL:"https://preview.ppn.porsche.com/countries",PROFILE_API_URL:"https://api.porsche-preview.com/profiles/mydata",FINDER_URL:"https://finder.porsche.com",UNREAD_MESSAGES_COUNT_API_URL:"https://api.porsche-preview.com/inbox/pp/rest/messages/unreadCount",LOGIN_BASE_URL:"https://preview-login.porsche.com",LOGIN_REDIRECT_URL:"https://preview-nav.porsche.com/authIframe.html",CLIENT_ID:"V5yfGusXVALiypCMRFBfM4IAHaZ0IA4A",IDENTITY_PROVIDER_URL:"https://identity.porsche-preview.com",IDENTITY_CLIENT_ID:"6nPQZTTgpN6HEgvb9gswJyduzgVfy7Cr",IDENTITY_AUDIENCE:"https://api.porsche-preview.com",IDP_MIGRATION_ENDPOINT:"https://assets.identity.porsche-preview.com/migration/configuration",PORSCHE_COM_URL:["http://localhost:3333","http://localhost:3334","http://localhost:3335","https://local.porsche.com:3333","https://local.porsche.com:3334","https://local.porsche.com:3335"],DEALER_API_URL:"https://configurator-dev.porsche.com/api/dealer-search"},preview:{CONTENT_URL:"https://preview-nav.porsche.com/v3/content",ASSETS_URL:"https://preview-nav.porsche.com",FOOTER_ASSETS_URL:"https://footer.pchomenav.aws.porsche.cloud/assets",COUNTRY_SELECTOR_URL:"https://preview.ppn.porsche.com/countries",PROFILE_API_URL:"https://api.porsche-preview.com/profiles/mydata",FINDER_URL:"https://finder.porsche.com",UNREAD_MESSAGES_COUNT_API_URL:"https://api.porsche-preview.com/inbox/pp/rest/messages/unreadCount",LOGIN_BASE_URL:"https://preview-login.porsche.com",LOGIN_REDIRECT_URL:"https://preview-nav.porsche.com/authIframe.html",CLIENT_ID:"V5yfGusXVALiypCMRFBfM4IAHaZ0IA4A",IDENTITY_PROVIDER_URL:"https://identity.porsche-preview.com",IDENTITY_CLIENT_ID:"6nPQZTTgpN6HEgvb9gswJyduzgVfy7Cr",IDENTITY_AUDIENCE:"https://api.porsche-preview.com",IDP_MIGRATION_ENDPOINT:"https://assets.identity.porsche-preview.com/migration/configuration",PORSCHE_COM_URL:["https://vanillajs.preview-nav.porsche.com","https://angular.preview-nav.porsche.com","https://react.preview-nav.porsche.com","https://vanillajs.pchomenav.aws.porsche.cloud","https://react.pchomenav.aws.porsche.cloud","https://angular.pchomenav.aws.porsche.cloud","https://preview.ppn.porsche.com","https://configurator-staging.porsche.com"],DEALER_API_URL:"https://configurator.porsche.com/api/dealer-search"},production:{CONTENT_URL:"https://nav.porsche.com/00BC524/v3/content",ASSETS_URL:"https://nav.porsche.com/00BC524",FOOTER_ASSETS_URL:"https://nav.porsche.com/00BC524/footer/assets",PROFILE_API_URL:"https://api.porsche.com/profiles/mydata",FINDER_URL:"https://finder.porsche.com",COUNTRY_SELECTOR_URL:"https://porsche.com/countries",UNREAD_MESSAGES_COUNT_API_URL:"https://api.porsche.com/inbox/p/rest/messages/unreadCount",LOGIN_BASE_URL:"https://login.porsche.com",LOGIN_REDIRECT_URL:"https://nav.porsche.com/00BC524/auth/authIframe.html",CLIENT_ID:"QPw3VOLAMfI7r0nmRY8ELq4RzZpZeXEE",IDENTITY_PROVIDER_URL:"https://identity.porsche.com",IDENTITY_CLIENT_ID:"fFp1mRfLwaUkbrAFv7QYeubkPofNYvWY",IDENTITY_AUDIENCE:"https://api.porsche.com",IDP_MIGRATION_ENDPOINT:"https://assets.identity.porsche.com/migration/configuration",PORSCHE_COM_URL:["https://www.porsche.com","https://configurator.porsche.com"],DEALER_API_URL:"https://configurator.porsche.com/api/dealer-search"}},_="preview",S="REDACTED",I="loggedIn",y="loginOrRegister",b="loading",A="2.22.0",O=0;var E=(()=>{return(s=E||(E={})).MAIN_MENU="mainmenu",s.DEALER_SEARCH="find_a_dealer",s.MORE="more",s.SHOP="shop",s.SERIES="series",s.MY_PORSCHE="my_porsche",s.VEHICLE_PURCHASE="vehicle_purchase",s.EXPERIENCE="experience",s.MODELS="models",E;var s})(),D=(()=>{return(s=D||(D={})).PRODUCTION="production",s.PREVIEW="preview",s.TEST="test",s.LOCAL="local",D;var s})();const M="featureOverrideEnabled",B="HOMENAV_1723",$="NAVI_3",j='a, button, [tabindex]:not([tabindex="-1"]), phn-p-link-pure, phn-p-button-pure, phn-p-link, phn-p-button',U="nav",G="edgecast_CDN";var f=(()=>{return(s=f||(f={})).GENERAL_LOAD="PAGHomeNav_General_Load",s.COUNTRY_RECOMMENDER_LOAD="PAGHomeNav_CountryRecommender_Load",s.COUNTRY_RECOMMENDER_CHANGE="PAGHomeNav_CountryRecommenderChange_Click",s.COUNTRY_RECOMMENDER_CLOSE="PAGHomeNav_CountryRecommenderClose_Click",s.CREST_CLICK="PAGHomeNav_Crest_Click",s.NAVIGATION_LOAD="PAGHomeNav_Navigation_Load",s.MODEL_OVERLAY_LOAD="PAGHomeNav_ModelRangeOverlay_Load",s.MENU_BACK_CLICK="PAGHomeNav_MenuBack_Click",s.MENU_CLOSE_CLICK="PAGHomeNav_MenuClose_Click",s.META_FUNCTION_CLICK="PAGHomeNav_MetaFunction_Click",s.MODEL_CLICK="PAGHomeNav_Model_Click",s.MODEL_META_FUNCTION_CLICK="PAGHomeNav_ModelMetaFunction_Click",s.MODEL_RANGE_CLICK="PAGHomeNav_ModelRange_Click",s.MORE_CLICK="PAGHomeNav_More_Click",s.NAVIGATION_CLICK="PAGHomeNav_Navigation_Click",s.DEALER_SEARCH_SCREEN_LOAD="PAGHomeNav_FindADealerSearchScreen_Load",s.DEALER_RESULTS_SCREEN_LOAD="PAGHomeNav_FindADealerResultsScreen_Load",s.DEALER_SEARCH_CLICK="PAGHomeNav_FindADealerSearch_Click",s.DEALER_GEOLOCATION_CLICK="PAGHomeNav_FindADealerLocateMe_Click",s.DEALER_RESULT_CLICK="PAGHomeNav_FindADealerDealer_Click",s.DEALER_DETAILS_SCREEN_LOAD="PAGHomeNav_FindADealerDealerScreen_Load",s.DEALER_CONTACT_CLICK="PAGHomeNav_FindADealerDealerContact_Click",s.DEALER_MAP_CLICK="PAGHomeNav_FindADealerMap_Click",f;var s})();const m={AP:"asia-pacific",CE:"eastern-europe",ME:"middle-east",LL:"latin-america",WW:"international"};var T=(()=>{return(s=T||(T={})).Link="link",s.Button="button",s.Image="image",T;var s})();const K="nav_saved_dealer",x="by geolocation",W=7776e6,Z="porsche.com",H="auth-iframe-header-navigation",C={xxs:0,xs:480,s:760,m:1e3,l:1300,xl:1760,xxl:1920};function F(s){return d[s]}function Q(s){return"string"==typeof s&&s.length>0}function k(s){return"string"==typeof s?s:""}function w(...s){return s.reduce((p,R)=>[...p,...k(R).split("/")],[]).filter(Boolean).join("/")}function X(...s){return w(E.SERIES,...s)}function z(...s){return w(E.DEALER_SEARCH,...s)}function J(...s){return w(E.MY_PORSCHE,...s)}function q(s){return s.split("/").slice(-1)[0]}function Y(s){return s instanceof HTMLElement?s:null}function ee(s){var p;null===(p=Y(s))||void 0===p||p.focus()}function te(s){return s instanceof HTMLInputElement?s:null}function se(s){return 0===s.x&&0===s.y}function n(s){return s===b}function t(s){return!n(s)&&!function e(s){return s===y}(s)}function r(s,p){return s===I?p:s}function i(s){return Object.entries(s).map(([p,R])=>`${encodeURIComponent(p)}=${encodeURIComponent(R)}`).join("&")}function o(s,p=!1){return p?s>=C.s:s>=C.l}},896:(re,P,N)=>{N.d(P,{N:()=>c,a:()=>l,g:()=>v});class c extends Error{constructor(d,_){super(d),this.type=_,Object.setPrototypeOf(this,c.prototype)}}var l=(()=>{return(a=l||(l={})).NO_INPUT="NO_INPUT",a.INVALID_INPUT="INVALID_INPUT",a.NO_RESULTS="NO_RESULTS",a.GENERAL="GENERAL",a.RETRY="RETRY",a.GEOLOCATION_DENIED="GEOLOCATION_DENIED",a.UNAUTHORIZED="UNAUTHORIZED",l;var a})();function v(a,d){if(!(d instanceof c))return a.wrong;switch(d.type){case l.NO_INPUT:return a.noInput;case l.INVALID_INPUT:return a.invalidInput;case l.NO_RESULTS:return a.noResults;case l.GENERAL:return a.wrong;case l.RETRY:return a.retry;case l.GEOLOCATION_DENIED:return a.geolocationDenied;default:return a.wrong}}}}]);