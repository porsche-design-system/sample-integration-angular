"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[215],{5276:(M,m,n)=>{n.d(m,{a:()=>L});var i=n(1513),e=n(21),E=n(3812),s=n(5201);const u={},L={setDrawerType:function y(d){u.drawerType=d},calculateDisplayElementId:function v(d){const{drawerType:l}=u,t=((0,E.i)(d)?(0,i.b)(d):e.r.state.routingKeyHistory[e.r.state.routingKeyPointer])||"",a=(0,i.g)(t),r=(0,i.d)(t),o=r-1;if(!(0,E.i)(t))return"level0";const p=(0,E.i)(t)?`level${r}-${a}`:`level${r-1}-unknown`;return"doubleDrawer"===l?""===t?`level${o}-unknown_level${r}-unknown`:`level${o}-${(0,s.g)(t)}_${p}`:p},calculateDisplayElementType:function b(d,l,t){const{drawerType:a}=u,r=(0,i.d)(d);if("doubleDrawer"===a){let o=r;return t&&(o-=1),`level${o}_${l}`}return(0,E.i)(d)?`level${r}_${l}`:`level${r-1}_${l}`},getModelName:function I(d){const l=d.link.split("/"),t=l[l.length-1];let a;return a=""===t?void 0===l[l.length-2]?"":l[l.length-2].split("-").join(" "):t.split("-").join(" "),a},getModelTargetElement:function k(d,l){if(d.includes("models"))return`level${(0,i.d)(d)}_${l.toLowerCase()}`}}},6316:(M,m,n)=>{n.d(m,{d:()=>s});var i=n(8314),e=n(6671),E=n(3812);const s=(0,i.c)({searchTerm:"",results:[],savedDealerCookie:function u(){try{return JSON.parse(e.w.getCookie(E.S))}catch{return null}}(),ppnDealers:{}});s.onChange("savedDealerCookie",y=>{e.w.setCookie(E.S,JSON.stringify(y))})},5201:(M,m,n)=>{n.d(m,{a:()=>L,b:()=>d,c:()=>l,d:()=>v,e:()=>y,f:()=>I,g:()=>b});var i=n(6369),e=n(1513),E=n(6316),s=n(3812),u=n(5267);function y(t,a,r,o,p,c){const{dealer:f,models:C,myPorsche:D,vehiclePurchase:_,shop:h,experience:R,services:g}=t,{savedDealerCookie:x,ppnDealers:w}=a,O=null!==x?w[x.id]:void 0,H=[e.a.DEALER_SEARCH];void 0!==O&&H.push((0,e.c)(O.ppnDealer.id));const S=[{elementId:e.a.MODELS,routingKeys:[e.a.MODELS],analyticsId:C.id,text:C.text},{elementId:e.a.VEHICLE_PURCHASE,routingKeys:[e.a.VEHICLE_PURCHASE],analyticsId:_.id,text:_.text},{elementId:e.a.SERVICES,routingKeys:[e.a.SERVICES],analyticsId:g.id,text:g.text},{elementId:e.a.EXPERIENCE,routingKeys:[e.a.EXPERIENCE],analyticsId:R.id,text:R.text}],A={elementId:e.a.DEALER_SEARCH,routingKeys:H,analyticsId:f.id,text:f.text};if(null!==h&&""!==h.text){const P={elementId:e.a.SHOP,routingKeys:[e.a.SHOP],analyticsId:h.id,text:h.text,link:(0,s.i)(h.link)?h.link:void 0,datalayerEventAction:i.E.NAVIGATION_LINK_CLICK,iconRight:"external"};S.splice(2,0,P)}if(function k(t,a){try{const{country:r}=(0,i.s)(t);return"CN"!==r&&!(0,i.i)(r)&&a}catch{}return!0}(r,c)){const P=O?.ppnDealer.nameLocalized?O?.ppnDealer.nameLocalized:O?.ppnDealer.name;(0,s.i)(P)&&(A.subtext=P)}else A.link=f.search.map.link,A.onClick=void 0;if(S.push(A),null!==D){const P=(0,s.I)(o),K=P?(0,s.w)(o,D.loggedInFallback):void 0;S.push({elementId:e.a.MY_PORSCHE,routingKeys:[e.a.MY_PORSCHE],analyticsId:D.id,text:D.text,subtext:K,showIconModifier:P&&p>0})}return S}function v(t,a,r,o,p,c,f){const C=i.f.isOneUiToggleActive(),D=(0,e.f)(c);switch(D){case c:break;case e.a.MODELS:return t.models.series.map(_=>({elementId:(0,e.h)(_.id),routingKeys:[(0,e.h)(_.id)],analyticsId:_.id,text:_.name,subtext:_.tags.map(h=>h.text).join(" | "),renderSignatures:C,datalayerEventAction:i.E.MODEL_RANGE_CLICK}));case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const _=(0,e.r)(c),h=I(t,_,D);if(null!==h)return h.children.map(R=>({elementId:(0,e.e)(_,R.id),routingKeys:[(0,e.e)(_,R.id)],analyticsId:R.id,text:R.text,link:R.link}));break}}return y(t,a,r,o,p,f)}function b(t){switch((0,e.f)(t)){case t:break;case e.a.DEALER_SEARCH:return e.a.DEALER_SEARCH;case e.a.MODELS:return e.a.MODELS;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const r=(0,e.r)(t);return(0,e.g)(r)}}return e.a.MAIN_MENU}function I(t,a,r){const{vehiclePurchase:o,experience:p,shop:c,legacyMore:f,services:C}=t,D={[e.a.VEHICLE_PURCHASE]:o,[e.a.EXPERIENCE]:p,[e.a.SHOP]:c,[e.a.MORE]:f,[e.a.SERVICES]:C}[r];if(void 0===D)return null;const _=(0,e.g)(a);return _===r?D:(0,i.d)(D,_)}function L(t,a){if(!(0,s.i)(a))return"";const r=(0,e.f)(a);switch(r){case e.a.MODELS:return t.models.text;case e.a.DEALER_SEARCH:return t.dealer.details.backToSearch;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.MORE:case e.a.EXPERIENCE:{const o=I(i.n.state,a,r);if(null!==o)return o.text;break}}return""}function d(t,a,r){var o;const{dealer:p,myPorsche:c,models:f,vehiclePurchase:C,experience:D,shop:_,legacyMore:h,services:R}=t;let g;switch(r){case e.a.MORE:case e.a.SHOP:case e.a.EXPERIENCE:case e.a.SERVICES:case e.a.VEHICLE_PURCHASE:{if(g={[e.a.VEHICLE_PURCHASE]:C,[e.a.EXPERIENCE]:D,[e.a.SHOP]:_,[e.a.MORE]:h,[e.a.SERVICES]:R}[r],void 0===g)return"";const x=(0,e.g)(a);return x===r?g?.text:null===(o=(0,i.d)(g,x))||void 0===o?void 0:o.text}case e.a.SERIES:case e.a.MODELS:{const x=(0,e.g)(a);return g=f.series.find(w=>x===w.id),void 0===g?f.text:g?.id}case e.a.DEALER_SEARCH:return p.search.text;case e.a.MY_PORSCHE:return c?.text}return""}function l(t,a){const{myPorsche:r,models:o}=i.n.state,{loggedInState:p}=u.n.state;if(t===e.a.MY_PORSCHE)return(0,s.I)(p)?(0,s.w)(p,r?.loggedInFallback||""):"";if(t===e.a.DEALER_SEARCH){const{savedDealerCookie:c,ppnDealers:f}=E.d.state;return c?f[c.id].ppnDealer.name:""}if(t===e.a.MODELS&&(0,s.i)(a)){const c=(0,e.g)(a),f=o.series.find(C=>c===C.id);if(f)return f.tags.map(C=>C.text).join(" | ")}return""}},5267:(M,m,n)=>{n.d(m,{n:()=>E});var i=n(8314),e=n(3812);const E=(0,i.c)({loggedInState:e.L,unreadMessagesCount:e.D,userConsent:!1,env:(0,i.g)(e.v)})},9215:(M,m,n)=>{n.r(m),n.d(m,{phn_backdrop:()=>t});var i=n(1502),e=n(5276),E=n(2257),s=n(6671),u=n(6369),y=n(3812);n(1513),n(21),n(8314),n(5201),n(6316),n(5267);const t=class{constructor(a){(0,i.r)(this,a),this.clickDrawerHeaderClose=(0,i.c)(this,"clickDrawerHeaderClose",7),this.backdropClosed=(0,i.c)(this,"backdropClosed",7),this.initialOverflow="unset",this.initialHeight="unset",this.activeRoutingKey=void 0}handleClick(){this.sendDataAnalyticsEvent(),this.clickDrawerHeaderClose.emit()}sendDataAnalyticsEvent(){e.a.setDrawerType(u.b.DoubleDrawer),E.g.pushDataLayerEvent(u.E.MENU_CLOSE_CLICK,{componentClick:{clickElementId:"mainmenu.drawer.close",clickElementName:"X",clickElementType:u.C.Button,targetElement:"level-0"},componentDisplay:{displayElementType:e.a.calculateDisplayElementType(this.activeRoutingKey,u.c.backdrop),displayElementId:e.a.calculateDisplayElementId(),displayElementName:"Double Drawer"}})}componentWillLoad(){(0,y.i)(s.w.bodyOverflow)&&(this.initialOverflow=s.w.bodyOverflow),(0,y.i)(s.w.bodyHeight)&&(this.initialHeight=s.w.bodyHeight),s.w.lockScroll()}disconnectedCallback(){s.w.unlockScroll(this.initialOverflow,this.initialHeight)}render(){return(0,i.h)(i.H,null)}get el(){return(0,i.g)(this)}};t.style="@-webkit-keyframes slideDown{from{max-height:0}to{max-height:1000px}}@keyframes slideDown{from{max-height:0}to{max-height:1000px}}@-webkit-keyframes slideUp{from{max-height:1000px}to{max-height:0}}@keyframes slideUp{from{max-height:1000px}to{max-height:0}}@-webkit-keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@-webkit-keyframes slideRight{from{max-width:1000px}to{max-width:0}}@keyframes slideRight{from{max-width:1000px}to{max-width:0}}@-webkit-keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@-webkit-keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@-webkit-keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@-webkit-keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@-webkit-keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@-webkit-keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}.phn-flex-col.sc-phn-backdrop{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.phn-flex-row.sc-phn-backdrop{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.phn-align-center.sc-phn-backdrop{-ms-flex-align:center;align-items:center}.phn-justify-around.sc-phn-backdrop{-ms-flex-pack:distribute;justify-content:space-around}.phn-justify-between.sc-phn-backdrop{-ms-flex-pack:justify;justify-content:space-between}.sc-phn-backdrop-h{position:fixed;z-index:300;top:0;left:0;right:0;bottom:0;background-color:rgba(0, 0, 0, 0.6);cursor:pointer;backdrop-filter:blur(32px);-webkit-backdrop-filter:blur(32px)}"},21:(M,m,n)=>{n.d(m,{r:()=>e});const e=(0,n(8314).c)({routingKeyHistory:[],routingKeyPointer:-1,initialRoutingKeyHistory:null,initialRoutingKeyPointer:null})},1513:(M,m,n)=>{n.d(m,{R:()=>E,a:()=>e,b:()=>l,c:()=>v,d:()=>d,e:()=>s,f:()=>u,g:()=>k,h:()=>y,i:()=>I,j:()=>b,r:()=>L});var i=n(3812);const e={MAIN_MENU:"mainmenu",DEALER_SEARCH:"find_a_dealer",MORE:"more",SHOP:"shop",SERIES:"series",MY_PORSCHE:"my_porsche",VEHICLE_PURCHASE:"vehicle_purchase",EXPERIENCE:"experience",SERVICES:"services",MODELS:"models"};var E=(()=>{return(t=E||(E={}))[t.LEVEL_ZERO=-1]="LEVEL_ZERO",t[t.LEVEL_ONE=0]="LEVEL_ONE",t[t.LEVEL_TWO=1]="LEVEL_TWO",E;var t})();function s(...t){return t.reduce((a,r)=>[...a,...(0,i.g)(r).split("/")],[]).filter(Boolean).join("/")}function u(t){if((0,i.i)(t))return Object.values(e).find(a=>t.startsWith(a))}function y(...t){return s(e.MODELS,...t)}function v(...t){return s(e.DEALER_SEARCH,...t)}function b(...t){return s(e.MY_PORSCHE,...t)}function I(...t){return s(e.VEHICLE_PURCHASE,...t)}function k(t){return t.split("/").slice(-1)[0]}function L(t){return t.split("/").slice(0,-1).join("/")}function d(t){switch(u(t)){case e.MAIN_MENU:return 1;case t:return 2;default:return t.split("/").length+1}}function l(t){const a=L(t);return(0,i.i)(a)?a:e.MAIN_MENU}}}]);