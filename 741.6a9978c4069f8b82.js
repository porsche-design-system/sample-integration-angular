"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[741],{551:(j,O,u)=>{u.d(O,{g:()=>ne});var h=u(556),w=u(49),m=Object.defineProperty,a=(s,e,t)=>(((s,e,t)=>{e in s?m(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t})(s,"symbol"!=typeof e?e+"":e,t),t);const P={clean:{enabled:!1,executionPlace:"AFTER_MERGE",values:["",void 0,null]},logging:{enabled:!0,level:"warn"},validation:{enabled:!1,allowUnknown:!1,verbose:!0},webProperties:{enabled:!0,eventNamePattern:/.*/,reactiveUrl:!0,reactiveDimensions:!0}};class L{create(e){return"string"!=typeof e.event||0===e.event.length?{}:{context:{eventAction:e.event}}}}const _=(s,e)=>((s,e)=>{let t;for(t in s)if(s&&s[t]&&!1===e(s[t],t))return!1;return!0})(s,(t,i)=>{for(const n in s[i])if(!1===e(t[n],n,t,i))return!1;return!0}),f=s=>{for(const e in s)return!1;return!0},y=(s,e=(t=>null==(t=P.clean)?void 0:t.values)()||[])=>(_(s,(t,i,n,c)=>{e.includes(t)&&(delete n[i],f(n)&&delete s[c])}),s),l=s=>(_(s,(e,t,i)=>("function"!=typeof e||(i[t]=e()),!0)),s),o=(s,e)=>{const t=e.split(".");if(2!==t.length)return;const i=s[t[0]];return i?i[t[1]]:void 0},N=P.logging;var A=(s=>(s[s.error=0]="error",s[s.warn=1]="warn",s[s.log=2]="log",s))(A||{});const $=class{constructor(s,e){a(this,"prefix"),a(this,"settings"),this.prefix=s,this.settings={...N,...e}}_getMergedSettings(s){return s?{...this.settings,...s}:this.settings}_isAllowed(s,e){if(!$.isAvailable||!e.enabled)return!1;const t=A[e.level];switch(s){case"error":case"warn":return t>=A[s];case"info":case"log":case"debug":case"dir":return t>=2;default:return!1}}_log(s,e="log",t){const i=this._getMergedSettings(t);this._isAllowed(e,i)&&("dir"===e?(console.log(`[${this.prefix}] ${e}:`),console[e](s)):console[e](`[${this.prefix}] ${s}`))}log(s,e){this._log(s,"log",e)}dir(s,e){this._log(s,"dir",e)}debug(s,e){this._log(s,"debug",e)}error(s,e){this._log(s,"error",e)}info(s,e){this._log(s,"info",e)}warn(s,e){this._log(s,"warn",e)}};let B=$;a(B,"isAvailable",typeof console<"u");const I=(...s)=>{const e={};return s.forEach(t=>{if(f(t))return;const i={...e,...t};let n;for(n in i)e[n]="object"!=typeof i[n]||Array.isArray(i[n])?i[n]:{...e[n],...t[n]}}),e};class K{create(e){return y({context:{timestamp:e.timestamp,server:e.hostname},pageExperience:{pageId:e.url},visitor:{deviceBrowserBreakpoint:e.breakpoint,deviceBrowserHeight:e.height,deviceBrowserOrientation:e.orientation,deviceBrowserWidth:e.width,deviceType:e.deviceType,useragent:e.userAgent}},[void 0])}}const H=P.webProperties,C=()=>window.location.href.replace(/[?#].*/,""),U=()=>window.innerHeight.toString(),W=()=>window.innerHeight>window.innerWidth?"p":"l",F=()=>window.innerWidth.toString(),X=s=>{if(!s.breakpoints||s.breakpoints.length<1)return;const{breakpoints:e}=s,t=()=>{const i=window.innerWidth;let n=0,c=0;for(;c<e.length&&i>=e[c];)n=e[c],c++;return n.toString()};return s.reactiveDimensions?t:t()},Z=(s,e)=>{switch(e){case"string":case"number":case"boolean":return typeof s===e;case"any[]":return Array.isArray(s)&&s.length>0;case"Record<string, any>":return"object"==typeof s&&!Array.isArray(s)&&Object.keys(s).length>0;case"any":return!0;default:if(e.indexOf("|")>0){const t=e.split("|").map(i=>i.trim().replace(/(^ ?'?|'? ?$)/g,""));return"string"==typeof s&&t.includes(s)}}return!0};class ee{constructor(e,t,i="GlobalDataLayer"){a(this,"_className"),a(this,"_settings"),a(this,"_defaultProperties"),a(this,"_logger"),a(this,"_webPropertiesHandled",!1),a(this,"_dataLayerStore"),a(this,"_extensions",new Map);const n=I(P,e||{});this._className=i,this._logger=new B(this._className,n.logging),this._settings=n,t?this._dataLayerStore=t:typeof window<"u"?(this._dataLayerStore=window.pagData=window.pagData||[],this._logger.info("`dataLayerStore` was set to default `window.pagData`")):(this._dataLayerStore=[],this._logger.info("`dataLayerStore` was set to default `[]`")),this._defaultProperties=[]}setup(){this._handleDefaultWebProperties()}get Settings(){return this._settings}get DataLayerStore(){return this._dataLayerStore}getRegisteredExtension(e){const t=new e;return this.getRegisteredExtensionByClassName(t.className)}getRegisteredExtensionByClassName(e){return this._extensions.has(e)?this._extensions.get(e):void 0}getRegisteredExtensions(){const e=[];for(const t of this._extensions.values())e.push(t);return e}registerExtension(e,t=!1){t||!this._extensions.has(e.className)?(e.dataLayerInstance=this,this._extensions.set(e.className,e),this._logger.info(t?`Overriden registration for extension class <${e.className}>.`:`Registered extension class <${e.className}>.`)):this._logger.warn(`Tried to register extension class <${e.className}> which already exists.`)}removeExtension(e){const t=new e;this._extensions.has(t.className)?this._extensions.delete(t.className):this._logger.warn(`Tried to remove not existing extension class <${t.className}>.`)}removeExtensionByClassName(e){this._extensions.has(e)?this._extensions.delete(e):this._logger.warn(`Tried to remove not existing extension class <${e}>.`)}push(e,t=[{}],i){var n,c;if(0===e.length)return!1;const g=i&&!f(i)?I(this._settings,i):this._settings;Array.isArray(t)||(t=[t]),t.forEach(l);const T=this._eventNamePayloadFactory.create({event:e}),S=l(this.getDefaultProperties(e));g.clean.enabled&&"BEFORE_MERGE"===g.clean.executionPlace&&[S||{},...t].forEach(v=>y(v,g.clean.values));const D=I(T,S||{},...t);if(g.clean.enabled&&"AFTER_MERGE"===g.clean.executionPlace&&y(D,g.clean.values),(null==(n=g?.validation)?void 0:n.enabled)&&(null==(c=g?.validation)?void 0:c.eventMatrix)){const v=((s,e,t)=>{const i={level:null,issues:[]};if(!t.enabled||!t.eventMatrix)return i;const{events:n,...c}=t.eventMatrix,g=n.indexOf(s);if(-1===g)return i.level="error",i.issues.push({level:"error",type:"EVENT_NOT_FOUND",name:s,message:`'${s}': Event does not exist.`}),i;const T=(s=>{if(!s)return[];const e=[];return _(s,(t,i,n,c)=>{e.push(`${c.toString()}.${i.toString()}`)}),e})(e),S=Object.keys(c),D=T.filter(b=>!S.includes(b));let v;for(v in D.length>0&&(t.allowUnknown||((s,e)=>{s&&_(s,(t,i,n,c)=>{!e.includes(`${c.toString()}.${i.toString()}`)||(delete n[i],f(n)&&delete s[c])})})(e,D),D.forEach(b=>{var x;i.level=null!=(x=i.level)?x:"warn",i.issues.push({level:"warn",type:"PROPERTY_DOES_NOT_EXIST",name:b,message:`'${b}': Property does not exist in the given Event Matrix.${t.allowUnknown?"":" It was omitted from the DataLayer payload."}`})})),c){const b=c[v],x=typeof b.e[g]<"u",R=1===b.r,M=e?o(e,v):void 0,G=typeof M<"u";if(x&&R&&!G&&(i.level="error",i.issues.push({level:"error",type:"REQUIRED_PROPERTY_MISSING",name:v,message:`'${v}': The required property is missing.`}),!t.verbose)||G&&!Z(M,b.t)&&(i.level="error",i.issues.push({level:"error",type:"WRONG_PROPERTY_TYPE",name:v,message:`'${v}': Wrong type detected. Expected '${b.t}', got '${typeof M}'.`}),!t.verbose))return i}return i})(e,D,g.validation),b=v.issues.sort((x,R)=>x.level!==R.level&&"warn"===R.level?-1:0).map(x=>`- [${x.level}]: ${x.message}`).join("\n");switch(v.level){case"error":return this._logger.error(`Validation failed for event '${e}' with errors/warnings: \n${b}`,g.logging),!1;case"warn":this._logger.warn(`Validation success for event '${e}' with warnings: \n${b}`,g.logging);break;default:this._logger.info(`Validation success for event '${e}'.`,g.logging)}}return this._dataLayerStore.push(D),!0}getDefaultProperties(e){const t={byName:[],byArray:[],byRegex:[]};this._defaultProperties.forEach(n=>n.identifier===e?t.byName.push(n.data):Array.isArray(n.identifier)&&n.identifier.includes(e)?t.byArray.push(n.data):n.identifier instanceof RegExp&&n.identifier.test(e)?t.byRegex.push(n.data):void 0);const i=[...t.byRegex,...t.byArray,...t.byName];if(i.length)return I(...i)}setDefaultProperties(e,t){const i=this._defaultProperties.find(n=>n.identifier===e);i?i.data=I(i.data,t):this._defaultProperties.push({identifier:e,data:t})}_handleDefaultWebProperties(){if(this._webPropertiesHandled||!this._settings.webProperties.enabled)return;const e=((s,e)=>{const t={...H,...this._settings.webProperties},i={breakpoint:X(t),timestamp:(new Date).toISOString(),hostname:window.location.hostname,url:t.reactiveUrl?C:C(),height:t.reactiveDimensions?U:U(),orientation:t.reactiveDimensions?W:W(),width:t.reactiveDimensions?F:F(),deviceType:window.matchMedia("(hover: none), (pointer: coarse)").matches?"mobile":"desktop",userAgent:window.navigator.userAgent};return e?e.create(i):i})(0,this._webPayloadFactory);this.setDefaultProperties(this._settings.webProperties.eventNamePattern,e),this._webPropertiesHandled=!0}}class te extends ee{constructor(e,t,i="GlobalDataLayer"){super(e,t,i),a(this,"_eventNamePayloadFactory"),a(this,"_webPayloadFactory"),this._eventNamePayloadFactory=new L,this._webPayloadFactory=new K,this.setup()}setup(){super.setup()}}function se(s){switch(s){case h.b.PRODUCTION:return"P";case h.b.PREVIEW:return"PP";default:return"K"}}const ne=new class ie{constructor(){this.homeNavEventId=/^PAGHomeNav_/,this.initialise()}initialise(){this.gdl=new te}pushDataLayerEvent(e,t){t?this.gdl.push(e,t):this.gdl.push(e)}setEnvironment(e){this.gdl.setDefaultProperties(this.homeNavEventId,{context:{environment:se(e)}})}setPageName(e){this.gdl.setDefaultProperties(this.homeNavEventId,{pageExperience:{pageName:e}})}setUser(e,t){this.gdl.setDefaultProperties(this.homeNavEventId,{ids:{userId:e},visitor:{loginStatus:t}})}setLocale(e){try{const{country:t,language:i}=(0,h.s)(e);this.gdl.setDefaultProperties(this.homeNavEventId,{context:{country:t,language:i}})}catch{}}setDefaultProperties(e,t){let i={context:{applicationId:h.c},visitor:{loginStatus:!1}};try{const{country:n,language:c}=(0,h.s)(e);i=Object.assign(Object.assign({},i),{context:Object.assign(Object.assign({},i.context),{country:n,language:c,applicationName:h.D})})}catch{}(0,w.i)(t)&&(i=Object.assign(Object.assign({},i),{pageExperience:{pageName:t}})),this.gdl.setDefaultProperties(this.homeNavEventId,i)}}},741:(j,O,u)=>{u.r(O),u.d(O,{phn_logo:()=>L});var h=u(565),w=u(551),m=u(308),E=u(556),a=u(49),k=u(946);const L=class{constructor(d){(0,h.r)(this,d),this.logoLoaded=(0,h.c)(this,"logoLoaded",7),this.size=void 0,this.locale=void 0,this.app=void 0,this.theme=a.h.light,this.mode=a.j.navbar,this.breakpoint=void 0}sendDataLayerEvent(d){w.g.pushDataLayerEvent(E.E.CREST_CLICK,{componentClick:{clickElementId:d.id,clickElementName:d.text,clickElementType:E.C.Link,targetUrl:d.link}})}componentWillLoad(){(0,m.p)(this.el).then(()=>(0,m.p)(this.el)).then(()=>{this.logoLoaded.emit()})}getLogoLink(d,_,f,y){return(0,k.a)(d,_,y)?y.link:f.link}getLogoAriaLabel(d,_,f){return(0,k.a)(d,_,f)?"Porsche Shop Homepage":"Porsche.com Homepage"}render(){const{crest:d,shop:_}=E.a.state,f=this.getLogoLink(this.locale,this.app,d,_),y=this.getLogoAriaLabel(this.locale,this.app,_);return(0,a.n)(this.breakpoint)?(0,h.h)("phn-p-wordmark",{onClick:()=>this.sendDataLayerEvent(d),href:(0,a.i)(f)?f:void 0,aria:{"aria-label":y},size:"small",theme:(0,a.E)(this.theme,this.mode)}):(0,h.h)("phn-p-crest",{onClick:()=>this.sendDataLayerEvent(d),href:(0,a.i)(f)?f:void 0,aria:{"aria-label":y}})}get el(){return(0,h.g)(this)}};L.style="@-webkit-keyframes slideDown{from{max-height:0}to{max-height:1000px}}@keyframes slideDown{from{max-height:0}to{max-height:1000px}}@-webkit-keyframes slideUp{from{max-height:1000px}to{max-height:0}}@keyframes slideUp{from{max-height:1000px}to{max-height:0}}@-webkit-keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@keyframes slideLeft{from{max-width:0}to{max-width:1000px}}@-webkit-keyframes slideRight{from{max-width:1000px}to{max-width:0}}@keyframes slideRight{from{max-width:1000px}to{max-width:0}}@-webkit-keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@keyframes darken{from{background-color:rgba(0, 0, 0, 0)}to{background-color:rgba(0, 0, 0, 0.8)}}@-webkit-keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@keyframes lighten{from{background-color:rgba(0, 0, 0, 0.8)}to{background-color:rgba(0, 0, 0, 0)}}@-webkit-keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@keyframes fadeInFromBottom{0%{opacity:0;top:36px}100%{opacity:1;top:0px}}@-webkit-keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@keyframes fadeOutToTop{0%{opacity:1;bottom:0px}100%{opacity:0;bottom:16px}}@-webkit-keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@keyframes slideLeftDoubleDrawer{from{right:-1000px}to{right:0px}}@-webkit-keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@keyframes slideRightDoubleDrawer{from{right:0px}to{right:-1000px}}@-webkit-keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@-webkit-keyframes fadeOut{0%{opacity:1}100%{opacity:0}}@keyframes fadeOut{0%{opacity:1}100%{opacity:0}}.phn-flex-col.sc-phn-logo{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.phn-flex-row.sc-phn-logo{display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row}.phn-align-center.sc-phn-logo{-ms-flex-align:center;align-items:center}.phn-justify-around.sc-phn-logo{-ms-flex-pack:distribute;justify-content:space-around}.phn-justify-between.sc-phn-logo{-ms-flex-pack:justify;justify-content:space-between}"},946:(j,O,u)=>{u.d(O,{a:()=>k,b:()=>d,f:()=>L,g:()=>y,i:()=>E,l:()=>_,r:()=>P,s:()=>m});var h=u(49),w=u(556);const m=(0,w.d)({wishlistItemsNumber:0,numberOfShoppingItems:0,shopInformation:{numberOfShoppingItems:0,wishlistItemsNumber:0,subTotal:"0"}});function E(r,l){var o;const p=null===(o=w.a.state.shop)||void 0===o?void 0:o.availableLocales;return void 0!==p&&p.includes(r)&&l===h.A.shop}function k(r,l,o){return E(r,l)&&function a(r){var l,o;return(null===(o=null===(l=w.a.state.shop)||void 0===l?void 0:l.logoLinksToShopLocales)||void 0===o?void 0:o.includes(r))||!1}(r)&&null!==o}function P(r,l,o){const{shop:p,externalShop:N}=o;return null===p?o:N&&l!==h.A.shop?Object.assign(Object.assign({},o),{shop:Object.assign(Object.assign({},p),N)}):!p?.availableLocales.includes(r)||p?.availableLocalesOnlyForShop.includes(r)&&l!==h.A.shop?Object.assign(Object.assign({},o),{shop:Object.assign(Object.assign({},p),{text:""})}):o}function L(r,l){return r?.filter(o=>l.includes(null==o.authStatus?null:o.authStatus))}function d(){const{myPorsche:r}=w.a.state,{loggedInState:l}=w.n.state;let{wishlistItemsNumber:o}=m.state.shopInformation;return 0===o&&(o=m.state.wishlistItemsNumber),{wishlistItemsNumber:o,username:(0,h.z)(l,r?.loggedInFallback||"")}}function _(r){m.set("wishlistItemsNumber",r.wishlistItemsNumber),m.set("numberOfShoppingItems",r.numberOfShoppingItems),m.set("shopInformation",r.shopInformation)}function f(){const{shopInformation:r}=m.state,{wishlistItemsNumber:l}=m.state;return(r.wishlistItemsNumber>0?r.wishlistItemsNumber:l)>0?"heart-filled":"heart"}function y(r){const o={wishlist:f}[r];return"function"!=typeof o?null:o()}}}]);