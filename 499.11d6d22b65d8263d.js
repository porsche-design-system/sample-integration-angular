"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[499],{574:(N,O,c)=>{c.d(O,{a:()=>m});var l=c(376),t=c(981),v=c(62),g=c(243),b=c(477);const S={};function H(o){const{drawerType:s}=S,_=((0,g.i)(o)?(0,l.b)(o):t.r.state.routingKeyHistory[t.r.state.routingKeyPointer])||"",E=(0,l.g)(_),u=(0,l.d)(_),f=u-1;if(!(0,g.i)(_))return"level0";const a=(0,g.i)(_)?`level${u}-${E}`:`level${u-1}-unknown`;return"doubleDrawer"===s?""===_?`level${f}-unknown_level${u}-unknown`:`level${f}-${(0,b.g)(_)}_${a}`:a}function x(o,s,_){const{drawerType:E}=S,u=(0,l.d)(o);if("doubleDrawer"===E){let f=u;return _&&(f-=1),`level${f}_${s}`}return(0,g.i)(o)?`level${u}_${s}`:`level${u-1}_${s}`}function $(){return S.drawerType}const m={setDrawerType:function K(o){S.drawerType=o},getDealerResultsLoadDisplayElementId:function W(o){return"doubleDrawer"===$()?o:H()},calculateDisplayElementId:H,getDealerResultsLoadDisplayElementType:function d(){return"doubleDrawer"===$()?v.h:x("",v.f.dealerSearchForm)},calculateDisplayElementType:x,getModelName:function F(o){const s=o.link.split("/"),_=s[s.length-1];let E;return E=""===_?void 0===s[s.length-2]?"":s[s.length-2].split("-").join(" "):_.split("-").join(" "),E},getModelTargetElement:function V(o,s){if(o.includes("models"))return`level${(0,l.d)(o)}_${s.toLowerCase()}`}}},216:(N,O,c)=>{c.d(O,{a:()=>ie,m:()=>re});var l=c(861),t=c(243),v=c(273);const a={slideOutToLeftRelative:(e,n,{from:i=0,to:r=-100})=>{e.style.left=`calc(${n*r+i}%)`,e.style.position="relative"},slideInFromRightRelative:(e,n,{from:i=-100,to:r=0})=>{e.style.right=`calc(${(1-n)*i+r}%)`,e.style.position="relative"},slideInFromLeftRelative:(e,n,{from:i=-100,to:r=0})=>{e.style.left=`calc(${(1-n)*i+r}%)`,e.style.position="relative"},slideOutToRightRelative:(e,n,{from:i=0,to:r=-100})=>{e.style.right=`calc(${n*r+i}%)`,e.style.position="relative"},shrinkElement:(e,n,{to:i=100})=>{e.style.width=(1-n)*i+"%"},growElement:(e,n,{to:i=100})=>{e.style.width=n*i+"%"},slideInFromRight:(e,n,{from:i=-100,to:r=0})=>{e.style.right=`${(1-n)*i+r}px`},slideInFromLeft:(e,n,{from:i=-100,to:r=0})=>{e.style.left=`${(1-n)*i+r}px`},slideOutToRight:(e,n,{from:i=0,to:r=-100})=>{e.style.right=`${n*r+i}px`},slideOutToLeft:(e,n,{from:i=0,to:r=-100})=>{e.style.left=`${n*r+i}px`},fadeOut:(e,n,{from:i=1,to:r=0})=>{e.style.opacity=""+((1-n)*i+n*r)},fadeIn:(e,n,{from:i=0,to:r=1})=>{e.style.opacity=""+(n*r+(n-1)*i)},fadeInBackdrop:(e,n,{from:i=0,to:r=1})=>{e.style.backgroundColor=`rgba(0, 0, 0, ${n*r+(n-1)*i})`,e.style.opacity=`${n+(n-1)*i}`},fadeOutBackdrop:(e,n,{from:i=1,to:r=0})=>{e.style.backgroundColor=`rgba(0, 0, 0, ${(1-n)*i+n*r})`,e.style.opacity=""+(1-n+n*r)},slideInFromRightFixed:(e,n,{from:i=-100,to:r=0})=>{e.style.right=`calc(${(1-n)*i+r}%)`,e.style.position="fixed"},slideOutToRightFixed:(e,n,{from:i=0,to:r=-100})=>{e.style.right=`calc(${n*r+i}%)`,e.style.position="fixed"},slideInFromLeftFixed:(e,n,{from:i=-100,to:r=0})=>{e.style.left=`calc(${(1-n)*i+r}%)`,e.style.position="fixed"},slideOutToLeftFixed:(e,n,{from:i=0,to:r=-100})=>{e.style.left=`calc(${n*r+i}%)`,e.style.position="fixed"}};var I=function(e,n){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&n.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var D=0;for(r=Object.getOwnPropertySymbols(e);D<r.length;D++)n.indexOf(r[D])<0&&Object.prototype.propertyIsEnumerable.call(e,r[D])&&(i[r[D]]=e[r[D]])}return i};const y=e=>{e.removeAttribute("style")},w=e=>a[e],p={easeInOutSin:e=>-(Math.cos(Math.PI*e)-1)/2,easeInOutQuad:e=>e<.5?2*e/2:(2-2*(1-e))/2,linear:e=>e<0||e>1?Math.round(e):e,cubicBezierStart:e=>M(e,.1,0,0,100),cubicBezierEnd:e=>M(e,.3,0,1,.8)};function P(e,n){const{duration:i=300,cleanUpAfterAnimation:r=!1}=n,D=I(n,["duration","cleanUpAfterAnimation"]);return new Promise(j=>{let L;const Q=setTimeout(()=>{cancelAnimationFrame(L),J()},i+50);function J(){if(q(e,1,D),clearTimeout(Q),"function"==typeof r){const X=r(e);if((0,t.t)(X))return void X.then(()=>j())}else!0===r&&y(e);j()}const ae=performance.now(),q=w(D.name);L=v.w.requestAnimationFrame(function ee(X){let B=(0,p[D.timingFunction||"linear"])((X-ae)/i);B=Math.round(1e3*(B+Number.EPSILON))/1e3;const le=B<1;if(B>=1)return J();q(e,B,D),le&&(L=v.w.requestAnimationFrame(ee))})})}function M(e,n,i,r,D){return(1-e)*(1-e)*(1-e)*n+3*(1-e)*(1-e)*e*i+3*(1-e)*e*e*r+e*e*e*D}const A={};let k=null;function C(){return(C=(0,l.Z)(function*(e){const n=A[e];return void 0===n?new Promise((i,r)=>r(new Error(`Sequence ${e} has not been registered`))):(n.running||(n.promise=new Promise((i,r)=>{n.resolve=()=>{n.running=!1,i()},n.reject=D=>{n.running=!1,r(D)},n.running=!0,h(n)})),n.promise)})).apply(this,arguments)}function h(e){return U.apply(this,arguments)}function U(){return(U=(0,l.Z)(function*(e){var n;if(e.currentStepIndex>=e.steps.length)return void function T(e){var n;e.currentStepIndex=0,null===(n=e.resolve)||void 0===n||n.call(e,null),e.promise=void 0}(e);const i=e.steps[e.currentStepIndex],r=[];for(const D of i)r.push(te(D));try{yield Promise.all(r)}catch(D){return void(null===(n=e.reject)||void 0===n||n.call(e,D))}e.currentStepIndex+=1,setTimeout(()=>h(e),0)})).apply(this,arguments)}function te(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,l.Z)(function*({onStart:e,onEnd:n,animation:i,elementSelector:r}){if(null===k)throw new Error("No root element present");if(e){const L=e();(0,t.t)(L)&&(yield L)}const D=Array.from(k.querySelectorAll(r)),j=[];for(const L of D){const Q=P(L,i);j.push(Q)}if(yield Promise.all(j),n){const L=n();(0,t.t)(L)&&(yield L)}})).apply(this,arguments)}function re(e,n){return{steps:e.map(i=>i.map(r=>Object.assign(Object.assign({},n),r))),currentStepIndex:0,running:!1}}const ie={initialize:function Y(e){k=e},play:function z(e){return C.apply(this,arguments)},isPlaying:function ne(e){const n=A[e];if(void 0===n)throw new Error(`Sequence ${e} has not been registered`);return void 0!==n.promise},register:function R(e,n){A[e]=n},reset:function G(){Object.keys(A).forEach(e=>delete A[e])}}},492:(N,O,c)=>{c.d(O,{A:()=>l,a:()=>t});const l={OPEN_DOUBLE_DRAWER:"openDoubleDrawer",CLOSE_DOUBLE_DRAWER:"closeDoubleDrawer",TRANSITION_SAME_LEVEL_DOUBLE_DRAWER:"transitionSameLevelDoubleDrawer",TRANSITION_SAME_LEVEL_DOUBLE_DRAWER_REVERSE:"transitionSameLevelDoubleDrawerReverse",TRANSITION_NEXT_LEVEL_DOUBLE_DRAWER:"transitionNextLevelDoubleDrawer",TRANSITION_PREVIOUS_LEVEL_DOUBLE_DRAWER:"transitionPreviousLevelDoubleDrawer",OPEN_SINGLE_DRAWER:"openSingleDrawer",CLOSE_SINGLE_DRAWER:"closeSingleDrawer",TRANSITION_NEXT_LEVEL_SINGLE_DRAWER:"transitionNextLevelSingleDrawer",TRANSITION_PREVIOUS_LEVEL_SINGLE_DRAWER:"transitionPreviousLevelSingleDrawer"},t={highlight:200,drawerContent:250,drawer:400,backdrop:400,drawerOpen:600}},780:(N,O,c)=>{c.d(O,{g:()=>t});var l=c(243);function t(v){const g=[];return v?.querySelectorAll(l.F).forEach(b=>{const S=(0,l.u)(b);null!==S&&g.push(S)}),g}},477:(N,O,c)=>{c.d(O,{a:()=>V,b:()=>$,c:()=>W,d:()=>K,e:()=>S,f:()=>x,g:()=>H});var l=c(62),t=c(376),v=c(97),g=c(243),b=c(926);function S(d,m,o,s,_,E){var u,f;const{dealer:a,models:I,myPorsche:y,vehiclePurchase:w,shop:p,experience:P,services:M}=d,{savedDealerCookie:A,ppnDealers:k}=m,{app:Y}=l.n.state,R=null!==A?k[A.id]:void 0;let G;"en-SG"===o&&a.search.outboundLink&&(G=null===(u=a.search.outboundLink)||void 0===u?void 0:u.link);const z=[t.a.DEALER_SEARCH];void 0!==R&&1!=(null===(f=v.d.state.results)||void 0===f?void 0:f.length)&&z.push((0,t.c)(R.ppnDealer.id));const C=[{elementId:t.a.MODELS,routingKeys:[t.a.MODELS],analyticsId:I.id,text:I.text},{elementId:t.a.VEHICLE_PURCHASE,routingKeys:[t.a.VEHICLE_PURCHASE],analyticsId:w.id,text:w.text},{elementId:t.a.SERVICES,routingKeys:[t.a.SERVICES],analyticsId:M.id,text:M.text},{elementId:t.a.EXPERIENCE,routingKeys:[t.a.EXPERIENCE],analyticsId:P.id,text:P.text}],T={elementId:t.a.DEALER_SEARCH,routingKeys:z,analyticsId:a.id,text:a.text,link:G,iconRight:"en-SG"===o&&a.search.outboundLink?"external":"arrow-head-right"};if(null!==p&&""!==p.text&&C.splice(2,0,{elementId:t.a.SHOP,routingKeys:[t.a.SHOP],analyticsId:p.id,text:p.text,link:Y!==g.A.shop?p.link:void 0,datalayerEventAction:l.E.NAVIGATION_LINK_CLICK,iconRight:"external"}),function F(d,m){try{const{country:o}=(0,l.s)(d),s=!(0,l.i)(o)&&m;return(b.f.isDealerSearchChinaEnabled()||"CN"!==o)&&s}catch{}return!0}(o,E)){const h="en"===(0,l.s)(o).language?R?.ppnDealer.name:(0,g.i)(R?.ppnDealer.nameLocalized)?R?.ppnDealer.nameLocalized:R?.ppnDealer.name;(0,g.i)(h)&&(T.subtext=h)}else T.link=a.search.map.link,T.onClick=void 0;if(C.push(T),null!==y){const h=(0,g.I)(s),U=h?(0,g.z)(s,y.loggedInFallback):void 0;C.push({elementId:t.a.MY_PORSCHE,routingKeys:[t.a.MY_PORSCHE],analyticsId:y.id,text:y.text,subtext:U,showIconModifier:h&&_>0})}return C}function K(d,m,o,s,_,E,u){const f=(0,t.f)(E);switch(f){case E:break;case t.a.MODELS:return d.models.series.map(a=>({elementId:(0,t.h)(a.id),routingKeys:[(0,t.h)(a.id)],analyticsId:a.id,text:a.name,subtext:a.tags.map(I=>I.text).join(" | "),renderSignatures:!0,datalayerEventAction:l.E.MODEL_RANGE_CLICK}));case t.a.SHOP:case t.a.VEHICLE_PURCHASE:case t.a.SERVICES:case t.a.EXPERIENCE:{const a=(0,t.r)(E),I=x(d,a,f);if(null!==I)return I.children.map(y=>({elementId:(0,t.e)(a,y.id),routingKeys:[(0,t.e)(a,y.id)],analyticsId:y.id,text:y.text,link:y.link}));break}}return S(d,m,o,s,_,u)}function H(d){switch((0,t.f)(d)){case d:break;case t.a.DEALER_SEARCH:return t.a.DEALER_SEARCH;case t.a.MODELS:return t.a.MODELS;case t.a.SHOP:case t.a.VEHICLE_PURCHASE:case t.a.SERVICES:case t.a.EXPERIENCE:{const o=(0,t.r)(d);return(0,t.g)(o)}}return t.a.MAIN_MENU}function x(d,m,o){const{vehiclePurchase:s,experience:_,shop:E,legacyMore:u,services:f}=d,a={[t.a.VEHICLE_PURCHASE]:s,[t.a.EXPERIENCE]:_,[t.a.SHOP]:E,[t.a.MORE]:u,[t.a.SERVICES]:f}[o];if(null==a)return null;(0,g.i)(a.experienceName)&&(a.children=(0,v.a)().executeContentChange(a));const I=(0,t.g)(m);return I===o?a:(0,l.j)(a,I)}function V(d,m){if(!(0,g.i)(m))return"";const o=(0,t.f)(m);switch(o){case t.a.MODELS:return d.models.text;case t.a.DEALER_SEARCH:return 1===d.dealer.numberOfDealers?"":d.dealer.details.backToSearch;case t.a.SHOP:case t.a.VEHICLE_PURCHASE:case t.a.MORE:case t.a.EXPERIENCE:{const s=x(l.a.state,m,o);if(null!==s)return s.text;break}}return""}function $(d,m,o){var s;const{dealer:_,myPorsche:E,models:u,vehiclePurchase:f,experience:a,shop:I,legacyMore:y,services:w}=d;let p;switch(o){case t.a.MORE:case t.a.SHOP:case t.a.EXPERIENCE:case t.a.SERVICES:case t.a.VEHICLE_PURCHASE:{if(p={[t.a.VEHICLE_PURCHASE]:f,[t.a.EXPERIENCE]:a,[t.a.SHOP]:I,[t.a.MORE]:y,[t.a.SERVICES]:w}[o],void 0===p)return"";const P=(0,t.g)(m);return P===o?p?.text:null===(s=(0,l.j)(p,P))||void 0===s?void 0:s.text}case t.a.SERIES:case t.a.MODELS:{const P=(0,t.g)(m);return p=u.series.find(M=>P===M.id),void 0===p?u.text:p?.id}case t.a.DEALER_SEARCH:return _.search.text;case t.a.MY_PORSCHE:return E?.text}return""}function W(d,m,o){const{myPorsche:s,models:_}=l.a.state,{loggedInState:E}=l.n.state;if(d===t.a.MY_PORSCHE)return(0,g.I)(E)?(0,g.z)(E,s?.loggedInFallback||""):"";if(d===t.a.DEALER_SEARCH){const{savedDealerCookie:u,ppnDealers:f}=v.d.state,a=null!==u?f[u.id]:void 0,I=o&&"en"===(0,l.s)(o).language?a?.ppnDealer.name:(0,g.i)(a?.ppnDealer.nameLocalized)?a?.ppnDealer.nameLocalized:a?.ppnDealer.name;return u?I:""}if(d===t.a.MODELS&&(0,g.i)(m)){const u=(0,t.g)(m),f=_.series.find(a=>u===a.id);if(f)return f.tags.map(a=>a.text).join(" | ")}return""}},981:(N,O,c)=>{c.d(O,{r:()=>t});const t=(0,c(62).d)({routingKeyHistory:[],routingKeyPointer:-1,initialRoutingKeyHistory:null,initialRoutingKeyPointer:null})}}]);