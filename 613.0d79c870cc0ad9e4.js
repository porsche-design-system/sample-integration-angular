"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[613],{4777:(h,D,t)=>{t.d(D,{a:()=>p});var s=t(9579),e=t(6212),r=t(7892),o=t(61);const g={},p={setDrawerType:function C(c){g.drawerType=c},calculateDisplayElementId:function S(c){const{drawerType:d}=g,n=((0,r.i)(c)?(0,s.b)(c):e.r.state.routingKeyHistory[e.r.state.routingKeyPointer])||"",a=(0,s.g)(n),i=(0,s.d)(n),l=i-1;if(!(0,r.i)(n))return"level0";const P=(0,r.i)(n)?`level${i}-${a}`:`level${i-1}-unknown`;return"doubleDrawer"===d?""===n?`level${l}-unknown_level${i}-unknown`:`level${l}-${(0,o.g)(n)}_${P}`:P},calculateDisplayElementType:function u(c,d,n){const{drawerType:a}=g,i=(0,s.d)(c);if("doubleDrawer"===a){let l=i;return n&&(l-=1),`level${l}_${d}`}return(0,r.i)(c)?`level${i}_${d}`:`level${i-1}_${d}`},getModelName:function I(c){const d=c.link.split("/"),n=d[d.length-1];let a;return a=""===n?void 0===d[d.length-2]?"":d[d.length-2].split("-").join(" "):n.split("-").join(" "),a},getModelTargetElement:function O(c,d){if(c.includes("models"))return`level${(0,s.d)(c)}_${d.toLowerCase()}`}}},7175:(h,D,t)=>{t.d(D,{s:()=>g});var s=t(1797),e=t(5601),r=t(4777),o=t(9579);function g({datalayerEventAction:C=s.E.NAVIGATION_CLICK,analyticsId:S,text:u,link:I,elementId:O,clickElementType:p,customDatalayerProperties:c={}}){e.g.pushDataLayerEvent(C,Object.assign(Object.assign({componentClick:Object.assign({clickElementId:S,clickElementName:u,targetElement:r.a.getModelTargetElement(O,u),clickElementType:p},p===s.C.Link?{targetUrl:I}:{}),componentDisplay:{displayElementId:r.a.calculateDisplayElementId(O),displayElementType:r.a.calculateDisplayElementType((0,o.r)(O),s.c.menuItem),displayElementName:u}},c),C===s.E.MODEL_RANGE_CLICK?{car:{modelRangeName:u.toLowerCase()}}:{}))}},5273:(h,D,t)=>{t.d(D,{d:()=>o});var s=t(2583),e=t(2849),r=t(7892);const o=(0,s.c)({searchTerm:"",results:[],savedDealerCookie:function g(){try{return JSON.parse(e.w.getCookie(r.S))}catch{return null}}(),ppnDealers:{}});o.onChange("savedDealerCookie",C=>{e.w.setCookie(r.S,JSON.stringify(C))})},4346:(h,D,t)=>{t.d(D,{c:()=>C,g:()=>r,i:()=>o});var s=t(5861),e=t(1797);const r=()=>e.f.isOneUiToggleActive()?"default":"pds2";function o(){return g.apply(this,arguments)}function g(){return(g=(0,s.Z)(function*(){if(e.f.isOneUiToggleActive()){const{load:u}=yield t.e(398).then(t.bind(t,2398));u({prefix:"phn"})}else{const{load:u}=yield t.e(351).then(t.bind(t,6351));u({prefix:"phn"})}})).apply(this,arguments)}function C(u){return S.apply(this,arguments)}function S(){return(S=(0,s.Z)(function*(u){let I;if(e.f.isOneUiToggleActive()){const{componentsReady:O}=yield t.e(398).then(t.bind(t,2398));I=O}else{const{componentsReady:O}=yield t.e(351).then(t.bind(t,6351));I=O}yield I(u)})).apply(this,arguments)}},61:(h,D,t)=>{t.d(D,{a:()=>p,b:()=>c,c:()=>d,d:()=>S,e:()=>C,f:()=>I,g:()=>u});var s=t(1797),e=t(9579),r=t(5273),o=t(7892),g=t(3713);function C(n,a,i,l,P,E){const{dealer:R,models:M,myPorsche:L,vehiclePurchase:_,shop:m,experience:y,services:f}=n,{savedDealerCookie:A,ppnDealers:T}=a,v=null!==A?T[A.id]:void 0,x=[e.a.DEALER_SEARCH];void 0!==v&&x.push((0,e.c)(v.ppnDealer.id));const K=[{elementId:e.a.MODELS,routingKeys:[e.a.MODELS],analyticsId:M.id,text:M.text},{elementId:e.a.VEHICLE_PURCHASE,routingKeys:[e.a.VEHICLE_PURCHASE],analyticsId:_.id,text:_.text},{elementId:e.a.SERVICES,routingKeys:[e.a.SERVICES],analyticsId:f.id,text:f.text},{elementId:e.a.EXPERIENCE,routingKeys:[e.a.EXPERIENCE],analyticsId:y.id,text:y.text}],U={elementId:e.a.DEALER_SEARCH,routingKeys:x,analyticsId:R.id,text:R.text};if(null!==m&&""!==m.text){const H={elementId:e.a.SHOP,routingKeys:[e.a.SHOP],analyticsId:m.id,text:m.text,link:(0,o.i)(m.link)?m.link:void 0,datalayerEventAction:s.E.NAVIGATION_LINK_CLICK,iconRight:"external"};K.splice(2,0,H)}if(function O(n,a){try{const{country:i}=(0,s.s)(n);return"CN"!==i&&!(0,s.i)(i)&&a}catch{}return!0}(i,E)){const H=v?.ppnDealer.nameLocalized?v?.ppnDealer.nameLocalized:v?.ppnDealer.name;(0,o.i)(H)&&(U.subtext=H)}else U.link=R.search.map.link,U.onClick=void 0;if(K.push(U),null!==L){const H=(0,o.I)(l),N=H?(0,o.w)(l,L.loggedInFallback):void 0;K.push({elementId:e.a.MY_PORSCHE,routingKeys:[e.a.MY_PORSCHE],analyticsId:L.id,text:L.text,subtext:N,showIconModifier:H&&P>0})}return K}function S(n,a,i,l,P,E,R){const M=s.f.isOneUiToggleActive(),L=(0,e.f)(E);switch(L){case E:break;case e.a.MODELS:return n.models.series.map(_=>({elementId:(0,e.h)(_.id),routingKeys:[(0,e.h)(_.id)],analyticsId:_.id,text:_.name,subtext:_.tags.map(m=>m.text).join(" | "),renderSignatures:M,datalayerEventAction:s.E.MODEL_RANGE_CLICK}));case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const _=(0,e.r)(E),m=I(n,_,L);if(null!==m)return m.children.map(y=>({elementId:(0,e.e)(_,y.id),routingKeys:[(0,e.e)(_,y.id)],analyticsId:y.id,text:y.text,link:y.link}));break}}return C(n,a,i,l,P,R)}function u(n){switch((0,e.f)(n)){case n:break;case e.a.DEALER_SEARCH:return e.a.DEALER_SEARCH;case e.a.MODELS:return e.a.MODELS;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.SERVICES:case e.a.EXPERIENCE:{const i=(0,e.r)(n);return(0,e.g)(i)}}return e.a.MAIN_MENU}function I(n,a,i){const{vehiclePurchase:l,experience:P,shop:E,legacyMore:R,services:M}=n,L={[e.a.VEHICLE_PURCHASE]:l,[e.a.EXPERIENCE]:P,[e.a.SHOP]:E,[e.a.MORE]:R,[e.a.SERVICES]:M}[i];if(void 0===L)return null;const _=(0,e.g)(a);return _===i?L:(0,s.d)(L,_)}function p(n,a){if(!(0,o.i)(a))return"";const i=(0,e.f)(a);switch(i){case e.a.MODELS:return n.models.text;case e.a.DEALER_SEARCH:return n.dealer.details.backToSearch;case e.a.SHOP:case e.a.VEHICLE_PURCHASE:case e.a.MORE:case e.a.EXPERIENCE:{const l=I(s.n.state,a,i);if(null!==l)return l.text;break}}return""}function c(n,a,i){var l;const{dealer:P,myPorsche:E,models:R,vehiclePurchase:M,experience:L,shop:_,legacyMore:m,services:y}=n;let f;switch(i){case e.a.MORE:case e.a.SHOP:case e.a.EXPERIENCE:case e.a.SERVICES:case e.a.VEHICLE_PURCHASE:{if(f={[e.a.VEHICLE_PURCHASE]:M,[e.a.EXPERIENCE]:L,[e.a.SHOP]:_,[e.a.MORE]:m,[e.a.SERVICES]:y}[i],void 0===f)return"";const A=(0,e.g)(a);return A===i?f?.text:null===(l=(0,s.d)(f,A))||void 0===l?void 0:l.text}case e.a.SERIES:case e.a.MODELS:{const A=(0,e.g)(a);return f=R.series.find(T=>A===T.id),void 0===f?R.text:f?.id}case e.a.DEALER_SEARCH:return P.search.text;case e.a.MY_PORSCHE:return E?.text}return""}function d(n,a){const{myPorsche:i,models:l}=s.n.state,{loggedInState:P}=g.n.state;if(n===e.a.MY_PORSCHE)return(0,o.I)(P)?(0,o.w)(P,i?.loggedInFallback||""):"";if(n===e.a.DEALER_SEARCH){const{savedDealerCookie:E,ppnDealers:R}=r.d.state;return E?R[E.id].ppnDealer.name:""}if(n===e.a.MODELS&&(0,o.i)(a)){const E=(0,e.g)(a),R=l.series.find(M=>E===M.id);if(R)return R.tags.map(M=>M.text).join(" | ")}return""}},3713:(h,D,t)=>{t.d(D,{n:()=>r});var s=t(2583),e=t(7892);const r=(0,s.c)({loggedInState:e.L,unreadMessagesCount:e.D,userConsent:!1,env:(0,s.g)(e.v)})},6212:(h,D,t)=>{t.d(D,{r:()=>e});const e=(0,t(2583).c)({routingKeyHistory:[],routingKeyPointer:-1,initialRoutingKeyHistory:null,initialRoutingKeyPointer:null})},9579:(h,D,t)=>{t.d(D,{R:()=>r,a:()=>e,b:()=>d,c:()=>S,d:()=>c,e:()=>o,f:()=>g,g:()=>O,h:()=>C,i:()=>I,j:()=>u,r:()=>p});var s=t(7892);const e={MAIN_MENU:"mainmenu",DEALER_SEARCH:"find_a_dealer",MORE:"more",SHOP:"shop",SERIES:"series",MY_PORSCHE:"my_porsche",VEHICLE_PURCHASE:"vehicle_purchase",EXPERIENCE:"experience",SERVICES:"services",MODELS:"models"};var r=(()=>((r=r||{})[r.LEVEL_ZERO=-1]="LEVEL_ZERO",r[r.LEVEL_ONE=0]="LEVEL_ONE",r[r.LEVEL_TWO=1]="LEVEL_TWO",r))();function o(...n){return n.reduce((a,i)=>[...a,...(0,s.g)(i).split("/")],[]).filter(Boolean).join("/")}function g(n){if((0,s.i)(n))return Object.values(e).find(a=>n.startsWith(a))}function C(...n){return o(e.MODELS,...n)}function S(...n){return o(e.DEALER_SEARCH,...n)}function u(...n){return o(e.MY_PORSCHE,...n)}function I(...n){return o(e.VEHICLE_PURCHASE,...n)}function O(n){return n.split("/").slice(-1)[0]}function p(n){return n.split("/").slice(0,-1).join("/")}function c(n){switch(g(n)){case e.MAIN_MENU:return 1;case n:return 2;default:return n.split("/").length+1}}function d(n){const a=p(n);return(0,s.i)(a)?a:e.MAIN_MENU}}}]);