"use strict";(self.webpackChunksample_integration_angular=self.webpackChunksample_integration_angular||[]).push([[592],{611:(y,R,u)=>{u.d(R,{f:()=>O,g:()=>v});var i=u(861),t=u(62),r=u(243),m=u(769),E=u(926);const w=new Map;function O(a,e){return d.apply(this,arguments)}function d(){return d=(0,i.Z)(function*(a,e){var n;const s=(0,r.b)(E.f.env),c=E.f.isShopToggleActive()&&e===r.A.shop,h=function f(a,e){return g.apply(this,arguments)}(s.CONTENT_URL,a),D=c?function _(a,e){return o.apply(this,arguments)}(s.SHOP_CONTENT_URL,a):Promise.resolve(null),[S,A]=yield Promise.allSettled([h,D]);if("rejected"===S.status)throw S.reason;const p=(0,m.m)(a,e,S.value),P="fulfilled"===A.status?A.value:null;return null===P||null===p.shop?p:Object.assign(Object.assign({},p),{shop:Object.assign(Object.assign({},p.shop),{children:P.menuItems||(null===(n=p.shop)||void 0===n?void 0:n.children)||[],additionalContent:P.additionalContent,availableLocales:p.shop.availableLocales,availableLocalesOnlyForShop:p.shop.availableLocalesOnlyForShop})})}),d.apply(this,arguments)}function g(){return(g=(0,i.Z)(function*(a,e){const{country:n,language:s}=(0,t.s)(e),c=(0,r.e)(a,e),h=w.get(c);if(void 0!==h)return h;const D=yield fetch(`${a}/${s}-${n}.json`,{headers:{"Cache-Control":"no-cache","Content-Type":"application/json"}});if(404===D.status)throw new r.N(`No content for locale ${e} found`,r.a.NO_RESULTS);if(!D.ok)throw new r.N(`Could not get content for locale ${e}`,r.a.GENERAL);const S=yield D.json();return w.set(c,S),S})).apply(this,arguments)}function o(){return(o=(0,i.Z)(function*(a,e){const{country:n,language:s}=(0,t.s)(e),c=yield fetch(`${a}/${n.toLowerCase()}/${s}-${n}/navigation`,{headers:{"Content-Type":"application/json","x-vercel-protection-bypass":"hXMkVgu6erfnX2ydOdeSCixWDWbPjBUk"}});if(404===c.status)throw new r.N(`No shop content for locale ${e} found`,r.a.NO_RESULTS);if(!c.ok)throw new r.N(`Could not get shop content for locale ${e}`,r.a.GENERAL);return c.json()})).apply(this,arguments)}function v(a,e){return L.apply(this,arguments)}function L(){return(L=(0,i.Z)(function*(a,e){try{const n=function l(a,e){const{country:n}=(0,t.s)(e);let s=n;return s.includes("-")&&!(0,t.i)(s)&&(s=n.split("-")[0]),`${a}/flags/${s}.svg`}(a,e);if((yield fetch(n)).ok)return n}catch{}return""})).apply(this,arguments)}},940:(y,R,u)=>{u.d(R,{s:()=>E});var i=u(62),t=u(802),r=u(574),m=u(376);function E({datalayerEventAction:w=i.E.NAVIGATION_CLICK,analyticsId:O,text:d,link:f,elementId:g,clickElementType:_,customDatalayerProperties:o={}}){t.g.pushDataLayerEvent(w,Object.assign(Object.assign({componentClick:Object.assign({clickElementId:O,clickElementName:d,targetElement:r.a.getModelTargetElement(g,d),clickElementType:_},_===i.C.Link?{targetUrl:f}:{}),componentDisplay:{displayElementId:r.a.calculateDisplayElementId(g),displayElementType:r.a.calculateDisplayElementType((0,m.r)(g),i.f.menuItem),displayElementName:d}},o),w===i.E.MODEL_RANGE_CLICK?{car:{modelRangeName:d.toLowerCase()}}:{}))}},18:(y,R,u)=>{u.d(R,{a:()=>E,b:()=>m,g:()=>w,s:()=>r});var i=u(62),t=u(243);function r(o){return["CN"].includes(o)}function m(o){return o.includes("-")?o.split("-")[0]:o}function E(o){return o.startsWith("https://")?o:`http://${o}`}function w(o){const{openingHours:l}=i.a.state.dealer;if(!l)return"";const v=[l.monday,l.tuesday,l.wednesday,l.thursday,l.friday,l.saturday,l.sunday],L=function d(o,l){const v=new Map;for(const L of l){const a=o[L.day.toLowerCase()];(0,t.i)(a)&&v.set(a,{open:L.open,close:L.close})}return v}(l,o),a=[];let e="",n=-1,s=[];for(const D of v){const S=v.indexOf(D),p=f(L.get(D));""!==p&&(""===e?(e=p,s.push(D)):e!==p||n!==S-1?(a.push(O(s,e)),s=[D],e=p):s.push(D),n=S)}""!==e&&a.push(O(s,e));const h=f(L.get(l.daily_lunch));return""!==h&&a.push(O([l.daily_lunch],h)),a.join("\n")}function O(o,l){return 1===o.length?`${o[0]}: ${l}`:`${o[0]} - ${o[o.length-1]}: ${l}`}function f(o){return o&&""!==o.open&&""!==o.close?function g(o){const{openingHours:l}=i.a.state.dealer,v=12===l?.timeFormat;return`${_(o.open,v)} - ${_(o.close,v)}`}(o):""}function _(o,l=!1){const[v,L]=o.split(":").map(Number);return new Date(0,0,0,v,L).toLocaleString(void 0,{hour:"numeric",minute:"numeric",hour12:l}).toUpperCase()}},989:(y,R,u)=>{u.d(R,{a:()=>g,b:()=>w,c:()=>L,d:()=>d,g:()=>l});var i=u(861),t=u(62),r=u(243),m=u(273),E=function(e,n){var s={};for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&n.indexOf(c)<0&&(s[c]=e[c]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var h=0;for(c=Object.getOwnPropertySymbols(e);h<c.length;h++)n.indexOf(c[h])<0&&Object.prototype.propertyIsEnumerable.call(e,c[h])&&(s[c[h]]=e[c[h]])}return s};function w(e,n,s){return O.apply(this,arguments)}function O(){return(O=(0,i.Z)(function*(e,n,s){return d(e,n,{latitude:0,longitude:0},s,{radius:1e7})})).apply(this,arguments)}function d(e,n,s,c){return f.apply(this,arguments)}function f(){return(f=(0,i.Z)(function*(e,n,s,c,h={}){const{radius:D}=h;let S,A;try{const p=new Headers;p.set("Accept","*/*"),e===t.b.LOCAL&&p.set("Authorization","Basic "+m.w.btoa("undefined:undefined"));const P={coordinates:`${s.latitude},${s.longitude}`,radius:D};S=yield fetch(`${n}/${c}/dealers?${(0,r.c)(P)}`,{method:"GET",headers:p})}catch{throw new r.N("Unable to fetch dealers",r.a.GENERAL)}if(400===S.status)throw new r.N("dealerService.getPPNDealers failed with invalid coordinates",r.a.GENERAL);if(404===S.status)throw new r.N("dealerService.getPPNDealers failed with invalid country code and therefore responded with no results",r.a.NO_RESULTS);if(200!==S.status)throw new r.N("dealerService.getPPNDealers failed with invalid response",r.a.GENERAL);try{A=yield S.json()}catch{throw new r.N("dealerService.getPPNDealers could not parse response into json format",r.a.GENERAL)}return A.map(p=>{var{dealer:P}=p,N=E(p,["dealer"]);return Object.assign({ppnDealer:P},N)})})).apply(this,arguments)}function g(e,n,s,c,h){return _.apply(this,arguments)}function _(){return(_=(0,i.Z)(function*(e,n,s,c,h){let D;try{D=(yield d(e,n,c,h)).find(A=>s===A.ppnDealer.id)}catch{throw new r.N("Unable to fetch a dealer",r.a.GENERAL)}if(void 0===D)throw new r.N(`Requested dealer ${s} could not be found`,r.a.NO_RESULTS);return D})).apply(this,arguments)}const o=new Map;function l(e,n){return v.apply(this,arguments)}function v(){return(v=(0,i.Z)(function*(e,n){const c=(yield L(n)).regions.flatMap(({cities:h})=>h.flatMap(({dealers:D})=>Object.values(D).reduce((S,A)=>[...S,A],[]))).find(({ppnDealer:h})=>h.id===e);if(void 0===c)throw new r.N("Requested dealer could not be found",r.a.NO_RESULTS);return c})).apply(this,arguments)}function L(e){return a.apply(this,arguments)}function a(){return(a=(0,i.Z)(function*(e){const{env:n}=t.n.state,s=new Headers;let c;if(o.has(e))c=o.get(e);else{const{BFF_ENDPOINT:h}=(0,r.b)(n);s.set("Accept","*/*"),c=yield(yield fetch(`${h}/dealers/region/${e}?env=${n}`,{method:"GET",headers:s})).json(),o.set(e,c)}if(void 0===c)throw new r.N("Requested dealer could not be found",r.a.NO_RESULTS);return c})).apply(this,arguments)}},279:(y,R,u)=>{u.d(R,{a:()=>w,b:()=>f,c:()=>d,d:()=>O,i:()=>g,r:()=>E});var i=u(216),t=u(492);const r=_=>{_.style.left="",_.style.right="150%"},m="#main-drawer > div:first-child",E=({onAnimationStarts:_,onAnimationEnds:o})=>{i.a.register(t.A.OPEN_DOUBLE_DRAWER,(0,i.m)([[{onStart:_,elementSelector:"phn-double-drawer",animation:{name:"slideInFromLeft",duration:t.a.drawerOpen,from:-1e3}},{elementSelector:"phn-backdrop",animation:{name:"fadeInBackdrop",duration:t.a.backdrop,to:.6},onEnd:o}]],{timingFunction:"cubicBezierStart"}))},w=({onBackdropFadeOutEnd:_,onAnimationStarts:o,onAnimationEnds:l})=>{i.a.register(t.A.CLOSE_DOUBLE_DRAWER,(0,i.m)([[{elementSelector:"phn-double-drawer",onStart:o,animation:{name:"slideOutToLeft",duration:t.a.drawer,to:-1e3}},{elementSelector:"phn-backdrop",animation:{name:"fadeOutBackdrop",duration:t.a.backdrop,from:.6},onEnd:()=>{_(),l()}}]],{timingFunction:"cubicBezierEnd"}))},O=({onGrowHighlightEnd:_,onSlideMainDrawerOutEnd:o},l="normal")=>{i.a.register("transitionSameLevelDoubleDrawer"+("reverse"===l?"Reverse":""),(0,i.m)([[{elementSelector:"#side-drawer > div > phn-side-drawer > nav > .item-highlight",animation:{name:"shrinkElement",duration:t.a.highlight}}],[{elementSelector:m,animation:{name:"reverse"===l?"slideOutToRightRelative":"slideOutToLeftRelative",to:-150,cleanUpAfterAnimation:r,duration:t.a.drawerContent},onEnd:o}],[{elementSelector:m,animation:{name:"reverse"===l?"slideInFromLeftRelative":"slideInFromRightRelative",from:-150,duration:t.a.drawerContent}}],[{elementSelector:"#side-drawer > div > phn-side-drawer > nav > .item-highlight",animation:{name:"growElement",duration:t.a.highlight},onEnd:_}]],{timingFunction:"easeInOutQuad"}))},d=({onSlideMainDrawerOutEnd:_,onGrowHighlightEnd:o})=>{i.a.register("transitionNextLevelDoubleDrawer",(0,i.m)([[{elementSelector:"#side-drawer > div > phn-side-drawer > nav > .item-highlight",animation:{name:"shrinkElement",duration:t.a.highlight}}],[{elementSelector:"#side-drawer > div",animation:{name:"slideOutToLeftRelative",to:-150,cleanUpAfterAnimation:r,duration:t.a.drawerContent}},{elementSelector:m,animation:{name:"slideOutToLeftRelative",to:-150,cleanUpAfterAnimation:r,duration:t.a.drawerContent},onEnd:_}],[{elementSelector:"#side-drawer > div",animation:{name:"slideInFromRightRelative",from:-150,cleanUpAfterAnimation:!0,duration:t.a.drawerContent}},{elementSelector:m,animation:{name:"slideInFromRightRelative",from:-150,cleanUpAfterAnimation:!0,duration:t.a.drawerContent}}],[{elementSelector:"#side-drawer > div > phn-side-drawer > nav > .item-highlight",animation:{name:"growElement",duration:t.a.highlight},onEnd:o}]],{timingFunction:"easeInOutQuad"}))},f=({onGrowHighlightEnd:_,onSlideMainDrawerOutEnd:o})=>{i.a.register("transitionPreviousLevelDoubleDrawer",(0,i.m)([[{elementSelector:"#side-drawer > div > phn-side-drawer > nav > .item-highlight",animation:{name:"shrinkElement",duration:t.a.highlight}}],[{elementSelector:"#side-drawer > div",animation:{name:"slideOutToRightRelative",to:-150,duration:t.a.drawerContent}},{elementSelector:m,animation:{name:"slideOutToRightRelative",to:-150,duration:t.a.drawerContent},onEnd:o}],[{elementSelector:"#side-drawer > div",animation:{name:"slideInFromLeftRelative",from:-150,cleanUpAfterAnimation:!0,duration:t.a.drawerContent}},{elementSelector:m,animation:{name:"slideInFromLeftRelative",from:-150,cleanUpAfterAnimation:!0,duration:t.a.drawerContent}}],[{elementSelector:"#side-drawer > div > phn-side-drawer > nav > .item-highlight",animation:{name:"growElement",duration:t.a.highlight},onEnd:_}]],{timingFunction:"easeInOutQuad"}))},g=()=>[t.A.OPEN_DOUBLE_DRAWER,t.A.CLOSE_DOUBLE_DRAWER,t.A.TRANSITION_NEXT_LEVEL_DOUBLE_DRAWER,t.A.TRANSITION_PREVIOUS_LEVEL_DOUBLE_DRAWER,t.A.TRANSITION_SAME_LEVEL_DOUBLE_DRAWER,t.A.TRANSITION_SAME_LEVEL_DOUBLE_DRAWER_REVERSE].some(o=>{try{return i.a.isPlaying(o)}catch{return!1}})},373:(y,R,u)=>{u.d(R,{f:()=>t});const t=(0,u(62).d)({savedSearchesCount:0,savedVehiclesCount:0})},448:(y,R,u)=>{u.d(R,{c:()=>r});var i=u(861),t=u(273);function r(E,w){return m.apply(this,arguments)}function m(){return m=(0,i.Z)(function*(E,w,...O){if(null===E)return null;const d=function(){var _=(0,i.Z)(function*(o){const l=yield t.w.waitForElement(E,o);return"function"==typeof l?.componentOnReady&&(yield l.componentOnReady()),l});return function(l){return _.apply(this,arguments)}}(),f=O.length>0?O.map(d):[d()],g=new Promise(_=>w.set((0,i.Z)(function*(){return _(null)})));return Promise.race([Promise.all(f),g])}),m.apply(this,arguments)}},769:(y,R,u)=>{u.d(R,{a:()=>w,b:()=>o,f:()=>_,g:()=>L,i:()=>m,l:()=>l,m:()=>O,s:()=>r});var i=u(243),t=u(62);const r=(0,t.d)({wishlistItemsNumber:0,numberOfShoppingItems:0,shopInformation:{numberOfShoppingItems:0,wishlistItemsNumber:0,subTotal:"0"}});function m(a,e){var n;const s=null===(n=t.a.state.shop)||void 0===n?void 0:n.availableLocales;return void 0!==s&&s.includes(a)&&e===i.A.shop}function w(a,e,n){return m(a,e)&&function E(a){var e,n;return(null===(n=null===(e=t.a.state.shop)||void 0===e?void 0:e.logoLinksToShopLocales)||void 0===n?void 0:n.includes(a))||!1}(a)&&null!==n}function O(a,e,n){const{shop:s,externalShop:c}=n;return null===s?n:c&&e!==i.A.shop?function d(a,e,n){return Object.assign(Object.assign({},a),{shop:Object.assign(Object.assign({},e),n)})}(n,s,c):function f(a,e,n){return!a?.availableLocales.includes(e)||a?.availableLocalesOnlyForShop.includes(e)&&n!==i.A.shop}(s,a,e)?function g(a,e){return Object.assign(Object.assign({},a),{shop:Object.assign(Object.assign({},e),{text:""})})}(n,s):n}function _(a,e){return a?.filter(n=>e.includes(null==n.authStatus?null:n.authStatus))}function o(){const{myPorsche:a}=t.a.state,{loggedInState:e}=t.n.state;let{wishlistItemsNumber:n}=r.state.shopInformation;return 0===n&&(n=r.state.wishlistItemsNumber),{wishlistItemsNumber:n,username:(0,i.z)(e,a?.loggedInFallback||"")}}function l(a){r.set("wishlistItemsNumber",a.wishlistItemsNumber),r.set("numberOfShoppingItems",a.numberOfShoppingItems),r.set("shopInformation",a.shopInformation)}function v(){const{shopInformation:a}=r.state,{wishlistItemsNumber:e}=r.state;return(a.wishlistItemsNumber>0?a.wishlistItemsNumber:e)>0?"heart-filled":"heart"}function L(a){const n={wishlist:v}[a];return"function"!=typeof n?null:n()}},569:(y,R,u)=>{u.d(R,{a:()=>m,b:()=>E,c:()=>w,i:()=>O,r:()=>r});var i=u(216),t=u(492);const r=({onAnimationStarts:d,onAnimationEnds:f})=>{i.a.register(t.A.OPEN_SINGLE_DRAWER,(0,i.m)([[{onStart:d,elementSelector:"phn-single-drawer .drawer.animating",animation:{name:"slideInFromLeft",from:-1e3,duration:t.a.drawerOpen,cleanUpAfterAnimation:!0}},{elementSelector:"phn-backdrop",animation:{name:"fadeInBackdrop",duration:t.a.backdrop,to:.6},onEnd:f}]],{timingFunction:"cubicBezierStart"}))},m=({onAnimationStarts:d,onAnimationEnds:f})=>{i.a.register(t.A.CLOSE_SINGLE_DRAWER,(0,i.m)([[{onStart:d,elementSelector:"phn-single-drawer .drawer.animating",animation:{name:"slideOutToLeft",duration:t.a.drawer,to:-1e3}},{elementSelector:"phn-backdrop",animation:{name:"fadeOutBackdrop",duration:t.a.backdrop,from:.6},onEnd:f}]],{timingFunction:"cubicBezierEnd"}))},E=({onAnimationEnds:d})=>{i.a.register(t.A.TRANSITION_NEXT_LEVEL_SINGLE_DRAWER,(0,i.m)([[{elementSelector:"phn-single-drawer .drawer.animating",animation:{name:"slideInFromRightFixed",duration:t.a.drawer,timingFunction:"easeInOutQuad"},onEnd:d}]]))},w=({onAnimationEnds:d})=>{i.a.register(t.A.TRANSITION_PREVIOUS_LEVEL_SINGLE_DRAWER,(0,i.m)([[{elementSelector:"phn-single-drawer .drawer.animating",animation:{name:"slideOutToRightFixed",duration:t.a.drawer,timingFunction:"easeInOutQuad"},onEnd:d}]]))},O=()=>{try{return[t.A.OPEN_SINGLE_DRAWER,t.A.CLOSE_SINGLE_DRAWER,t.A.TRANSITION_NEXT_LEVEL_SINGLE_DRAWER,t.A.TRANSITION_PREVIOUS_LEVEL_SINGLE_DRAWER].some(f=>{try{return i.a.isPlaying(f)}catch{return!1}})}catch{return!1}}},564:(y,R,u)=>{u.d(R,{T:()=>t});var i=u(861);class t{constructor(m){this.delay=m,this.timer=null}set(m){var E=this;this.cancel(),this.timer=setTimeout((0,i.Z)(function*(){yield m(),E.cancel()}),this.delay)}cancel(){null!==this.timer&&(clearTimeout(this.timer),"function"==typeof this.timer.unref&&this.timer.unref(),this.timer=null)}}}}]);